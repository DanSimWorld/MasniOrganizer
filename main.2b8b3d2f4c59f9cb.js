"use strict";(self.webpackChunkMasniOrganizer=self.webpackChunkMasniOrganizer||[]).push([[792],{523:()=>{function lp(t,e){return Object.is(t,e)}let nn=null,xl=!1,Ol=1;const ai=Symbol("SIGNAL");function Pe(t){const e=nn;return nn=t,e}const tv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mT(t){if(xl)throw new Error("");if(null===nn)return;nn.consumerOnSignalRead(t);const e=nn.nextProducerIndex++;ov(nn),e<nn.producerNode.length&&nn.producerNode[e]!==t&&dp(nn)&&rv(nn.producerNode[e],nn.producerIndexOfThis[e]),nn.producerNode[e]!==t&&(nn.producerNode[e]=t,nn.producerIndexOfThis[e]=dp(nn)?wj(t,nn,e):0),nn.producerLastReadVersion[e]=t.version}function vj(t){if((!dp(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Ol)){if(!t.producerMustRecompute(t)&&!yT(t))return t.dirty=!1,void(t.lastCleanEpoch=Ol);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Ol}}function Ij(t){if(void 0===t.liveConsumerNode)return;const e=xl;xl=!0;try{for(const n of t.liveConsumerNode)n.dirty||Dj(n)}finally{xl=e}}function Ej(){return!1!==nn?.consumerAllowSignalWrites}function Dj(t){t.dirty=!0,Ij(t),t.consumerMarkedDirty?.(t)}function nv(t){return t&&(t.nextProducerIndex=0),Pe(t)}function _T(t,e){if(Pe(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(dp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)rv(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function yT(t){ov(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(vj(n),r!==n.version))return!0}return!1}function vT(t){if(ov(t),dp(t))for(let e=0;e<t.producerNode.length;e++)rv(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function wj(t,e,n){if(Cj(t),0===t.liveConsumerNode.length&&bj(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=wj(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function rv(t,e){if(Cj(t),1===t.liveConsumerNode.length&&bj(t))for(let r=0;r<t.producerNode.length;r++)rv(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];ov(o),o.producerIndexOfThis[r]=e}}function dp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ov(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Cj(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bj(t){return void 0!==t.producerNode}const IT=Symbol("UNSET"),ET=Symbol("COMPUTING"),iv=Symbol("ERRORED"),cae={...tv,value:IT,dirty:!0,error:null,equal:lp,producerMustRecompute:t=>t.value===IT||t.value===ET,producerRecomputeValue(t){if(t.value===ET)throw new Error("Detected cycle in computations.");const e=t.value;t.value=ET;const n=nv(t);let r;try{r=t.computation()}catch(o){r=iv,t.error=o}finally{_T(t,n)}e!==IT&&e!==iv&&r!==iv&&t.equal(e,r)?t.value=e:(t.value=r,t.version++)}};let Tj=function uae(){throw new Error};function Sj(){Tj()}let sv=null;function Aj(t,e){Ej()||Sj(),t.equal(t.value,e)||(t.value=e,function pae(t){t.version++,function sae(){Ol++}(),Ij(t),sv?.()}(t))}const hae={...tv,equal:lp,value:void 0};function Ot(t){return"function"==typeof t}function DT(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const wT=DT(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function CT(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ot(r))try{r()}catch(i){e=i instanceof wT?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{Pj(i)}catch(s){e=e??[],s instanceof wT?e=[...e,...s.errors]:e.push(s)}}if(e)throw new wT(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Pj(e);else{if(e instanceof Pr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&CT(n,e)}remove(e){const{_finalizers:n}=this;n&&CT(n,e),e instanceof Pr&&e._removeParent(this)}}Pr.EMPTY=(()=>{const t=new Pr;return t.closed=!0,t})();const Rj=Pr.EMPTY;function Nj(t){return t instanceof Pr||t&&"closed"in t&&Ot(t.remove)&&Ot(t.add)&&Ot(t.unsubscribe)}function Pj(t){Ot(t)?t():t.unsubscribe()}const jc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},av={setTimeout(t,e,...n){const{delegate:r}=av;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=av;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xj(t){av.setTimeout(()=>{const{onUnhandledError:e}=jc;if(!e)throw t;e(t)})}function bT(){}const mae=TT("C",void 0,void 0);function TT(t,e,n){return{kind:t,value:e,error:n}}let Uc=null;function cv(t){if(jc.useDeprecatedSynchronousErrorHandling){const e=!Uc;if(e&&(Uc={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Uc;if(Uc=null,n)throw r}}else t()}class ST extends Pr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nj(e)&&e.add(this)):this.destination=wae}static create(e,n,r){return new MT(e,n,r)}next(e){this.isStopped?RT(function yae(t){return TT("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?RT(function _ae(t){return TT("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?RT(mae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Iae=Function.prototype.bind;function AT(t,e){return Iae.call(t,e)}class Eae{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){uv(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){uv(r)}else uv(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){uv(n)}}}class MT extends ST{constructor(e,n,r){let o;if(super(),Ot(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&jc.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&AT(e.next,i),error:e.error&&AT(e.error,i),complete:e.complete&&AT(e.complete,i)}):o=e}this.destination=new Eae(o)}}function uv(t){jc.useDeprecatedSynchronousErrorHandling?function vae(t){jc.useDeprecatedSynchronousErrorHandling&&Uc&&(Uc.errorThrown=!0,Uc.error=t)}(t):xj(t)}function RT(t,e){const{onStoppedNotification:n}=jc;n&&av.setTimeout(()=>n(t,e))}const wae={closed:!0,next:bT,error:function Dae(t){throw t},complete:bT},NT="function"==typeof Symbol&&Symbol.observable||"@@observable";function Bc(t){return t}function Oj(t){return 0===t.length?Bc:1===t.length?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}let Sn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function Tae(t){return t&&t instanceof ST||function bae(t){return t&&Ot(t.next)&&Ot(t.error)&&Ot(t.complete)}(t)&&Nj(t)}(n)?n:new MT(n,r,o);return cv(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=kj(r))((o,i)=>{const s=new MT({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[NT](){return this}pipe(...n){return Oj(n)(this)}toPromise(n){return new(n=kj(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function kj(t){var e;return null!==(e=t??jc.Promise)&&void 0!==e?e:Promise}const Sae=DT(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let go=(()=>{class t extends Sn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Fj(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Sae}next(n){cv(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){cv(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){cv(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Rj:(this.currentObservers=null,i.push(n),new Pr(()=>{this.currentObservers=null,CT(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new Sn;return n.source=this,n}}return t.create=(e,n)=>new Fj(e,n),t})();class Fj extends go{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:Rj}}class Bo extends go{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Lj(t){return Ot(t?.lift)}function er(t){return e=>{if(Lj(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function An(t,e,n,r,o){return new Aae(t,e,n,r,o)}class Aae extends ST{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ot(t,e){return er((n,r)=>{let o=0;n.subscribe(An(r,i=>{r.next(t.call(e,i,o++))}))})}const lv=DT(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ta(t,e){return er((n,r)=>{let o=0;n.subscribe(An(r,i=>t.call(e,i,o++)&&r.next(i)))})}const Bi=new Sn(t=>t.complete());function kl(t){return t<=0?()=>Bi:er((e,n)=>{let r=0;e.subscribe(An(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}function dv(t){return er((e,n)=>{let r=!1;e.subscribe(An(n,o=>{r=!0,n.next(o)},()=>{r||n.next(t),n.complete()}))})}function Vj(t=Rae){return er((e,n)=>{let r=!1;e.subscribe(An(n,o=>{r=!0,n.next(o)},()=>r?n.complete():n.error(t())))})}function Rae(){return new lv}function Sa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ta((o,i)=>t(o,i,r)):Bc,kl(1),n?dv(e):Vj(()=>new lv))}const jj="https://g.co/ng/security#xss";class j extends Error{constructor(e,n){super(function Aa(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function Ns(t){return{toString:t}.toString()}const Ll="__parameters__";function jl(t,e,n){return Ns(()=>{const r=function PT(t){return function(...n){if(t){const r=t(...n);for(const o in r)this[o]=r[o]}}}(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(Ll)?c[Ll]:Object.defineProperty(c,Ll,{value:[]})[Ll];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}const kt=globalThis;function ut(t){for(let e in t)if(t[e]===ut)return e;throw Error("Could not find renamed property on target object.")}function Nae(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Mn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xT(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const xae=ut({__forward_ref__:ut});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return Mn(this())},t}function pe(t){return hv(t)?t():t}function hv(t){return"function"==typeof t&&t.hasOwnProperty(xae)&&t.__forward_ref__===wt}function ae(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ul(t){return{providers:t.providers||[],imports:t.imports||[]}}function pv(t){return Hj(t,mv)||Hj(t,Gj)}function Hj(t,e){return t.hasOwnProperty(e)?t[e]:null}function gv(t){return t&&(t.hasOwnProperty(OT)||t.hasOwnProperty(jae))?t[OT]:null}const mv=ut({\u0275prov:ut}),OT=ut({\u0275inj:ut}),Gj=ut({ngInjectableDef:ut}),jae=ut({ngInjectorDef:ut});class K{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ae({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function jT(t){return t&&!!t.\u0275providers}const fp=ut({\u0275cmp:ut}),UT=ut({\u0275dir:ut}),BT=ut({\u0275pipe:ut}),qj=ut({\u0275mod:ut}),Ps=ut({\u0275fac:ut}),hp=ut({__NG_ELEMENT_ID__:ut}),Wj=ut({__NG_ENV_ID__:ut});function De(t){return"string"==typeof t?t:null==t?"":String(t)}function $T(t,e){throw new j(-201,!1)}var Ve=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ve||{});let HT;function Kj(){return HT}function Xr(t){const e=HT;return HT=t,e}function Qj(t,e,n){const r=pv(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ve.Optional?null:void 0!==e?e:void $T()}const pp={},GT="__NG_DI_FLAG__",_v="ngTempTokenPath",zae=/\n/gm,Yj="__source";let Bl;function Ra(t){const e=Bl;return Bl=t,e}function Kae(t,e=Ve.Default){if(void 0===Bl)throw new j(-203,!1);return null===Bl?Qj(t,void 0,e):Bl.get(t,e&Ve.Optional?null:void 0,e)}function Me(t,e=Ve.Default){return(Kj()||Kae)(pe(t),e)}function B(t,e=Ve.Default){return Me(t,yv(e))}function yv(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function zT(t){const e=[];for(let n=0;n<t.length;n++){const r=pe(t[n]);if(Array.isArray(r)){if(0===r.length)throw new j(900,!1);let o,i=Ve.Default;for(let s=0;s<r.length;s++){const a=r[s],c=Qae(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}e.push(Me(o,i))}else e.push(Me(r))}return e}function gp(t,e){return t[GT]=e,t.prototype[GT]=e,t}function Qae(t){return t[GT]}const qT=gp(jl("Optional"),8),WT=gp(jl("SkipSelf"),4);function $c(t,e){return t.hasOwnProperty(Ps)?t[Ps]:null}function $l(t,e){t.forEach(n=>Array.isArray(n)?$l(n,e):e(n))}function Jj(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vv(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function yo(t,e,n){let r=Hl(t,e);return r>=0?t[1|r]=n:(r=~r,function Xj(t,e,n,r){let o=t.length;if(o==e)t.push(n,r);else if(1===o)t.push(r,t[0]),t[0]=n;else{for(o--,t.push(t[o-1],t[o]);o>e;)t[o]=t[o-2],o--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function QT(t,e){const n=Hl(t,e);if(n>=0)return t[1|n]}function Hl(t,e){return function eU(t,e,n){let r=0,o=t.length>>n;for(;o!==r;){const i=r+(o-r>>1),s=t[i<<n];if(e===s)return i<<n;s>e?o=i:r=i+1}return~(o<<n)}(t,e,1)}const $i={},We=[],ci=new K(""),tU=new K("",-1),YT=new K("");class Ev{get(e,n=pp){if(n===pp){const r=new Error(`NullInjectorError: No provider for ${Mn(e)}!`);throw r.name="NullInjectorError",r}return n}}var Dv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Dv||{}),ui=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ui||{}),Na=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Na||{});function nce(t,e,n){let r=t.length;for(;;){const o=t.indexOf(e,n);if(-1===o)return o;if(0===o||t.charCodeAt(o-1)<=32){const i=e.length;if(o+i===r||t.charCodeAt(o+i)<=32)return o}n=o+1}}function ZT(t,e,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,i)}else{const i=o,s=n[++r];rU(i)?t.setProperty(e,i,s):t.setAttribute(e,i,s),r++}}return r}function nU(t){return 3===t||4===t||6===t}function rU(t){return 64===t.charCodeAt(0)}function mp(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const o=e[r];"number"==typeof o?n=o:0===n||oU(t,n,o,null,-1===n||2===n?e[++r]:null)}}return t}function oU(t,e,n,r,o){let i=0,s=t.length;if(-1===e)s=-1;else for(;i<t.length;){const a=t[i++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=i-1;break}}}for(;i<t.length;){const a=t[i];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(t[i+1]=o));if(r===t[i+1])return void(t[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(t.splice(s,0,e),i=s+1),t.splice(i++,0,n),null!==r&&t.splice(i++,0,r),null!==o&&t.splice(i++,0,o)}const iU="ng-template";function rce(t,e,n,r){let o=0;if(r){for(;o<e.length&&"string"==typeof e[o];o+=2)if("class"===e[o]&&-1!==nce(e[o+1].toLowerCase(),n,0))return!0}else if(JT(t))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&"string"==typeof(i=e[o]);)if(i.toLowerCase()===n)return!0}return!1}function JT(t){return 4===t.type&&t.value!==iU}function oce(t,e,n){return e===(4!==t.type||n?t.value:iU)}function ice(t,e,n){let r=4;const o=t.attrs,i=null!==o?function cce(t){for(let e=0;e<t.length;e++)if(nU(t[e]))return e;return t.length}(o):0;let s=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!oce(t,c,n)||""===c&&1===e.length){if(li(r))return!1;s=!0}}else if(8&r){if(null===o||!rce(t,o,c,n)){if(li(r))return!1;s=!0}}else{const u=e[++a],l=sce(c,o,JT(t),n);if(-1===l){if(li(r))return!1;s=!0;continue}if(""!==u){let d;if(d=l>i?"":o[l+1].toLowerCase(),2&r&&u!==d){if(li(r))return!1;s=!0}}}}else{if(!s&&!li(r)&&!li(c))return!1;if(s&&li(c))continue;s=!1,r=c|1&r}}return li(r)||s}function li(t){return!(1&t)}function sce(t,e,n,r){if(null===e)return-1;let o=0;if(r||!n){let i=!1;for(;o<e.length;){const s=e[o];if(s===t)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=e[++o];for(;"string"==typeof a;)a=e[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function uce(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function sU(t,e,n=!1){for(let r=0;r<e.length;r++)if(ice(t,e[r],n))return!0;return!1}function aU(t,e){return t?":not("+e.trim()+")":e}function dce(t){let e=t[0],n=1,r=2,o="",i=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const a=t[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!li(s)&&(e+=aU(i,o),o=""),r=s,i=i||!li(r);n++}return""!==o&&(e+=aU(i,o)),e}function xs(t){return Ns(()=>{const e=uU(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Dv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ui.Emulated,styles:t.styles||We,_:null,schemas:t.schemas||null,tView:null,id:""};lU(n);const r=t.dependencies;return n.directiveDefs=wv(r,!1),n.pipeDefs=wv(r,!0),n.id=function _ce(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const o of n)e=Math.imul(31,e)+o.charCodeAt(0)|0;return e+=2147483648,"c"+e}(n),n})}function pce(t){return Fe(t)||Rn(t)}function gce(t){return null!==t}function _p(t){return Ns(()=>({type:t.type,bootstrap:t.bootstrap||We,declarations:t.declarations||We,imports:t.imports||We,exports:t.exports||We,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function cU(t,e){if(null==t)return $i;const n={};for(const r in t)if(t.hasOwnProperty(r)){const o=t[r];let i,s,a=Na.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),e?(n[i]=a!==Na.None?[r,a]:r,e[i]=s):n[i]=r}return n}function Ie(t){return Ns(()=>{const e=uU(t);return lU(e),e})}function to(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fe(t){return t[fp]||null}function Rn(t){return t[UT]||null}function tr(t){return t[BT]||null}function hr(t,e){const n=t[qj]||null;if(!n&&!0===e)throw new Error(`Type ${Mn(t)} does not have '\u0275mod' property.`);return n}function uU(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||$i,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||We,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:cU(t.inputs,e),outputs:cU(t.outputs),debugInfo:null}}function lU(t){t.features?.forEach(e=>e(t))}function wv(t,e){if(!t)return null;const n=e?tr:pce;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(gce)}function Gl(t){return{\u0275providers:t}}function yce(...t){return{\u0275providers:XT(0,t),\u0275fromNgModule:!0}}function XT(t,...e){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return $l(e,s=>{const a=s;Cv(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&dU(o,i),n}function dU(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:o}=t[n];eS(o,i=>{e(i,r)})}}function Cv(t,e,n,r){if(!(t=pe(t)))return!1;let o=null,i=gv(t);const s=!i&&Fe(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=gv(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Cv(u,e,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let u;r.add(o);try{$l(i.imports,l=>{Cv(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&dU(u,e)}if(!a){const u=$c(o)||(()=>new o);e({provide:o,useFactory:u,deps:We},o),e({provide:YT,useValue:o,multi:!0},o),e({provide:ci,useValue:()=>Me(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const u=t;eS(c,l=>{e(l,u)})}}}return o!==t&&void 0!==t.providers}function eS(t,e){for(let n of t)jT(n)&&(n=n.\u0275providers),Array.isArray(n)?eS(n,e):e(n)}const vce=ut({provide:String,useValue:ut});function tS(t){return null!==t&&"object"==typeof t&&vce in t}function Hc(t){return"function"==typeof t}const nS=new K(""),bv={},Ece={};let rS;function Tv(){return void 0===rS&&(rS=new Ev),rS}class vo{}class zl extends vo{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iS(e,s=>this.processProvider(s)),this.records.set(tU,ql(void 0,this)),o.has("environment")&&this.records.set(vo,ql(void 0,this));const i=this.records.get(nS);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(YT,We,Ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=Pe(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Ra(this),r=Xr(void 0);try{return e()}finally{Ra(n),Xr(r)}}get(e,n=pp,r=Ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Wj))return e[Wj](this);r=yv(r);const i=Ra(this),s=Xr(void 0);try{if(!(r&Ve.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function Tce(t){return"function"==typeof t||"object"==typeof t&&t instanceof K}(e)&&pv(e);c=u&&this.injectableDefInScope(u)?ql(oS(e),bv):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ve.Self?Tv():this.parent).get(e,n=r&Ve.Optional&&n===pp?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[_v]=a[_v]||[]).unshift(Mn(e)),i)throw a;return function Yae(t,e,n,r){const o=t[_v];throw e[Yj]&&o.unshift(e[Yj]),t.message=function Zae(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=Mn(e);if(Array.isArray(e))o=e.map(Mn).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):Mn(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(zae,"\n  ")}`}("\n"+t.message,o,n,r),t.ngTokenPath=o,t[_v]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{Xr(s),Ra(i)}}resolveInjectorInitializers(){const e=Pe(null),n=Ra(this),r=Xr(void 0);try{const i=this.get(ci,We,Ve.Self);for(const s of i)s()}finally{Ra(n),Xr(r),Pe(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Mn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){let n=Hc(e=pe(e))?e:pe(e&&e.provide);const r=function wce(t){return tS(t)?ql(void 0,t.useValue):ql(pU(t),bv)}(e);if(!Hc(e)&&!0===e.multi){let o=this.records.get(n);o||(o=ql(void 0,bv,!0),o.factory=()=>zT(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=Pe(null);try{return n.value===bv&&(n.value=Ece,n.value=n.factory()),"object"==typeof n.value&&n.value&&function bce(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=pe(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function oS(t){const e=pv(t),n=null!==e?e.factory:$c(t);if(null!==n)return n;if(t instanceof K)throw new j(204,!1);if(t instanceof Function)return function Dce(t){if(t.length>0)throw new j(204,!1);const n=function Vae(t){return t&&(t[mv]||t[Gj])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new j(204,!1)}function pU(t,e,n){let r;if(Hc(t)){const o=pe(t);return $c(o)||oS(o)}if(tS(t))r=()=>pe(t.useValue);else if(function hU(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...zT(t.deps||[]));else if(function fU(t){return!(!t||!t.useExisting)}(t))r=()=>Me(pe(t.useExisting));else{const o=pe(t&&(t.useClass||t.provide));if(!function Cce(t){return!!t.deps}(t))return $c(o)||oS(o);r=()=>new o(...zT(t.deps))}return r}function ql(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iS(t,e){for(const n of t)Array.isArray(n)?iS(n,e):n&&jT(n)?iS(n.\u0275providers,e):e(n)}function xa(t,e){t instanceof zl&&t.assertNotDestroyed();const r=Ra(t),o=Xr(void 0);try{return e()}finally{Ra(r),Xr(o)}}const Ut=0,q=1,ue=2,_n=3,di=4,nr=5,xr=6,Kl=7,Ct=8,yn=9,Hi=10,me=11,vp=12,_U=13,Ql=14,Bt=15,Gc=16,Yl=17,Os=18,Zl=19,yU=20,Oa=21,Av=22,$o=23,oe=25,cS=1,Ip=6,Gi=7,Jl=9,rn=10;var Rv=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Rv||{});function Pn(t){return Array.isArray(t)&&"object"==typeof t[cS]}function pr(t){return Array.isArray(t)&&!0===t[cS]}function uS(t){return!!(4&t.flags)}function zc(t){return t.componentOffset>-1}function Nv(t){return!(1&~t.flags)}function fi(t){return!!t.template}function Ep(t){return!!(512&t[ue])}class Vce{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function wU(t,e,n,r){null!==e?e.applyValueToInputSignal(e,r):t[n]=r}function Ho(){return CU}function CU(t){return t.type.prototype.ngOnChanges&&(t.setInput=Uce),jce}function jce(){const t=TU(this),e=t?.current;if(e){const n=t.previous;if(n===$i)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Uce(t,e,n,r,o){const i=this.declaredInputs[r],s=TU(t)||function Bce(t,e){return t[bU]=e}(t,{previous:$i,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new Vce(u&&u.currentValue,n,c===$i),wU(t,e,o,n)}Ho.ngInherit=!0;const bU="__ngSimpleChanges__";function TU(t){return t[bU]||null}const zi=function(t,e,n){};function Ke(t){for(;Array.isArray(t);)t=t[Ut];return t}function Dp(t,e){return Ke(e[t])}function Or(t,e){return Ke(e[t.index])}function wp(t,e){return t.data[e]}function Io(t,e){const n=e[t];return Pn(n)?n:n[Ut]}function pS(t){return!(128&~t[ue])}function Go(t,e){return null==e?null:t[e]}function MU(t){t[Yl]=0}function RU(t){1024&t[ue]||(t[ue]|=1024,pS(t)&&xv(t))}function Pv(t){return!!(9216&t[ue]||t[$o]?.dirty)}function gS(t){t[Hi].changeDetectionScheduler?.notify(8),64&t[ue]&&(t[ue]|=1024),Pv(t)&&xv(t)}function xv(t){t[Hi].changeDetectionScheduler?.notify(0);let e=ks(t);for(;null!==e&&!(8192&e[ue])&&(e[ue]|=8192,pS(e));)e=ks(e)}function Ov(t,e){if(!(256&~t[ue]))throw new j(911,!1);null===t[Oa]&&(t[Oa]=[]),t[Oa].push(e)}function ks(t){const e=t[_n];return pr(e)?e[_n]:e}const _e={lFrame:HU(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let PU=!1;function xU(){return _e.bindingsEnabled}function Wc(){return null!==_e.skipHydrationRootTNode}function L(){return _e.lFrame.lView}function xe(){return _e.lFrame.tView}function Eo(t){return _e.lFrame.contextLView=t,t[Ct]}function Do(t){return _e.lFrame.contextLView=null,t}function lt(){let t=OU();for(;null!==t&&64===t.type;)t=t.parent;return t}function OU(){return _e.lFrame.currentTNode}function hi(t,e){const n=_e.lFrame;n.currentTNode=t,n.isParent=e}function yS(){return _e.lFrame.isParent}function LU(){return PU}function VU(t){PU=t}function kr(){const t=_e.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pi(){return _e.lFrame.bindingIndex++}function Ls(t){const e=_e.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function tue(t,e){const n=_e.lFrame;n.bindingIndex=n.bindingRootIndex=t,IS(e)}function IS(t){_e.lFrame.currentDirectiveIndex=t}function Fv(t){_e.lFrame.currentQueryIndex=t}function rue(t){const e=t[q];return 2===e.type?e.declTNode:1===e.type?t[nr]:null}function BU(t,e,n){if(n&Ve.SkipSelf){let o=e,i=t;for(;!(o=o.parent,null!==o||n&Ve.Host||(o=rue(i),null===o||(i=i[Ql],10&o.type))););if(null===o)return!1;e=o,t=i}const r=_e.lFrame=$U();return r.currentTNode=e,r.lView=t,!0}function wS(t){const e=$U(),n=t[q];_e.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $U(){const t=_e.lFrame,e=null===t?null:t.child;return null===e?HU(t):e}function HU(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function GU(){const t=_e.lFrame;return _e.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const zU=GU;function CS(){const t=GU();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function rr(){return _e.lFrame.selectedIndex}function Kc(t){_e.lFrame.selectedIndex=t}function bt(){const t=_e.lFrame;return wp(t.tView,t.selectedIndex)}function qU(){return _e.lFrame.currentNamespace}let WU=!0;function bp(){return WU}function qi(t){WU=t}function Lv(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const i=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),null!=l&&(t.destroyHooks??=[]).push(n,l)}}function Vv(t,e,n){KU(t,e,3,n)}function jv(t,e,n,r){(3&t[ue])===n&&KU(t,e,n,r)}function bS(t,e){let n=t[ue];(3&n)===e&&(n&=16383,n+=1,t[ue]=n)}function KU(t,e,n,r){const i=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Yl]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Yl]+=65536),(a<i||-1==i)&&(lue(t,n,e,c),t[Yl]=(4294901760&t[Yl])+c+2),c++}function QU(t,e){zi(4,t,e);const n=Pe(null);try{e.call(t)}finally{Pe(n),zi(5,t,e)}}function lue(t,e,n,r){const o=n[r]<0,i=n[r+1],a=t[o?-n[r]:n[r]];o?t[ue]>>14<t[Yl]>>16&&(3&t[ue])===e&&(t[ue]+=16384,QU(a,i)):QU(a,i)}const Xl=-1;class Tp{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}const SS={};class Qc{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yv(r);const o=this.injector.get(e,SS,r);return o!==SS||n===SS?o:this.parentInjector.get(e,n,r)}}function AS(t){return t!==Xl}function Sp(t){return 32767&t}function Ap(t,e){let n=function gue(t){return t>>16}(t),r=e;for(;n>0;)r=r[Ql],n--;return r}let MS=!0;function Uv(t){const e=MS;return MS=t,e}const ZU=255,JU=5;let _ue=0;const Wi={};function Bv(t,e){const n=XU(t,e);if(-1!==n)return n;const r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,RS(r.data,t),RS(e,null),RS(r.blueprint,null));const o=$v(t,e),i=t.injectorIndex;if(AS(o)){const s=Sp(o),a=Ap(o,e),c=a[q].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function RS(t,e){t.push(0,0,0,0,0,0,0,0,e)}function XU(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function $v(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,o=e;for(;null!==o;){if(r=sB(o),null===r)return Xl;if(n++,o=o[Ql],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Xl}function NS(t,e,n){!function yue(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(hp)&&(r=n[hp]),null==r&&(r=n[hp]=_ue++);const o=r&ZU;e.data[t+(o>>JU)]|=1<<o}(t,e,n)}function eB(t,e,n){if(n&Ve.Optional||void 0!==t)return t;$T()}function tB(t,e,n,r){if(n&Ve.Optional&&void 0===r&&(r=null),!(n&(Ve.Self|Ve.Host))){const o=t[yn],i=Xr(void 0);try{return o?o.get(e,r,n&Ve.Optional):Qj(e,r,n&Ve.Optional)}finally{Xr(i)}}return eB(r,0,n)}function nB(t,e,n,r=Ve.Default,o){if(null!==t){if(2048&e[ue]&&!(r&Ve.Self)){const s=function wue(t,e,n,r,o){let i=t,s=e;for(;null!==i&&null!==s&&2048&s[ue]&&!(512&s[ue]);){const a=rB(i,s,n,r|Ve.Self,Wi);if(a!==Wi)return a;let c=i.parent;if(!c){const u=s[yU];if(u){const l=u.get(n,Wi,r);if(l!==Wi)return l}c=sB(s),s=s[Ql]}i=c}return o}(t,e,n,r,Wi);if(s!==Wi)return s}const i=rB(t,e,n,r,Wi);if(i!==Wi)return i}return tB(e,n,r,o)}function rB(t,e,n,r,o){const i=function Eue(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(hp)?t[hp]:void 0;return"number"==typeof e?e>=0?e&ZU:Due:e}(n);if("function"==typeof i){if(!BU(e,t,r))return r&Ve.Host?eB(o,0,r):tB(e,n,r,o);try{let s;if(s=i(r),null!=s||r&Ve.Optional)return s;$T()}finally{zU()}}else if("number"==typeof i){let s=null,a=XU(t,e),c=Xl,u=r&Ve.Host?e[Bt][nr]:null;for((-1===a||r&Ve.SkipSelf)&&(c=-1===a?$v(t,e):e[a+8],c!==Xl&&iB(r,!1)?(s=e[q],a=Sp(c),e=Ap(c,e)):a=-1);-1!==a;){const l=e[q];if(oB(i,a,l.data)){const d=Iue(a,e,n,s,r,u);if(d!==Wi)return d}c=e[a+8],c!==Xl&&iB(r,e[q].data[a+8]===u)&&oB(i,a,e)?(s=l,a=Sp(c),e=Ap(c,e)):a=-1}}return o}function Iue(t,e,n,r,o,i){const s=e[q],a=s.data[t+8],l=function Hv(t,e,n,r,o){const i=t.providerIndexes,s=e.data,a=1048575&i,c=t.directiveStart,l=i>>20,h=o?a+l:t.directiveEnd;for(let p=r?a:a+l;p<h;p++){const m=s[p];if(p<c&&n===m||p>=c&&m.type===n)return p}if(o){const p=s[c];if(p&&fi(p)&&p.type===n)return c}return null}(a,s,n,null==r?zc(a)&&MS:r!=s&&!!(3&a.type),o&Ve.Host&&i===a);return null!==l?Yc(e,s,l,a):Wi}function Yc(t,e,n,r){let o=t[n];const i=e.data;if(function due(t){return t instanceof Tp}(o)){const s=o;s.resolving&&function $ae(t,e){throw e&&e.join(" > "),new j(-200,t)}(function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():De(t)}(i[n]));const a=Uv(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Xr(s.injectImpl):null;BU(t,r,Ve.Default);try{o=t[n]=s.factory(void 0,i,t,r),e.firstCreatePass&&n>=r.directiveStart&&function uue(t,e,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){const s=CU(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}o&&(n.preOrderHooks??=[]).push(0-t,o),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}(n,i[n],e)}finally{null!==u&&Xr(u),Uv(a),s.resolving=!1,zU()}}return o}function oB(t,e,n){return!!(n[e+(t>>JU)]&1<<t)}function iB(t,e){return!(t&Ve.Self||t&Ve.Host&&e)}class xn{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return nB(this._tNode,this._lView,e,yv(r),n)}}function Due(){return new xn(lt(),L())}function Wn(t){return Ns(()=>{const e=t.prototype.constructor,n=e[Ps]||PS(e),r=Object.prototype;let o=Object.getPrototypeOf(t.prototype).constructor;for(;o&&o!==r;){const i=o[Ps]||PS(o);if(i&&i!==n)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function PS(t){return hv(t)?()=>{const e=PS(pe(t));return e&&e()}:$c(t)}function sB(t){const e=t[q],n=e.type;return 2===n?e.declTNode:1===n?t[nr]:null}function dB(t,e=null,n=null,r){const o=fB(t,e,n,r);return o.resolveInjectorInitializers(),o}function fB(t,e=null,n=null,r,o=new Set){const i=[n||We,yce(t)];return r=r||("object"==typeof t?void 0:Mn(t)),new zl(i,e||Tv(),r||null,o)}class or{static{this.THROW_IF_NOT_FOUND=pp}static{this.NULL=new Ev}static create(e,n){if(Array.isArray(e))return dB({name:""},n,e,"");{const r=e.name??"";return dB({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ae({token:or,providedIn:"any",factory:()=>Me(tU)})}static{this.__NG_ELEMENT_ID__=-1}}new K("").__NG_ELEMENT_ID__=t=>{const e=lt();if(null===e)throw new j(204,!1);if(2&e.type)return e.value;if(t&Ve.Optional)return null;throw new j(204,!1)};function OS(t){return t.ngOriginalError}const pB=!0;let Rp=(()=>{class t{static{this.__NG_ELEMENT_ID__=xue}static{this.__NG_ENV_ID__=n=>n}}return t})();class Pue extends Rp{constructor(e){super(),this._lView=e}onDestroy(e){return Ov(this._lView,e),()=>function mS(t,e){if(null===t[Oa])return;const n=t[Oa].indexOf(e);-1!==n&&t[Oa].splice(n,1)}(this._lView,e)}}function xue(){return new Pue(L())}let Zc=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Bo(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}}return t})();const Yt=class Oue extends go{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,function gU(){return void 0!==Kj()||null!=function Wae(){return Bl}()}()&&(this.destroyRef=B(Rp,{optional:!0})??void 0,this.pendingTasks=B(Zc,{optional:!0})??void 0)}emit(e){const n=Pe(null);try{super.next(e)}finally{Pe(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof Pr&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{e(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function zv(...t){}function gB(t){let e,n;function r(){t=zv;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function mB(t){return queueMicrotask(()=>t()),()=>{t=zv}}const kS="isAngularZone",qv=kS+"_ID";let kue=0;class it{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yt(!1),this.onMicrotaskEmpty=new Yt(!1),this.onStable=new Yt(!1),this.onError=new Yt(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=pB}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function Vue(t){const e=()=>{!function Lue(t){function e(){gB(()=>{t.callbackScheduled=!1,LS(t),t.isCheckStableRunning=!0,FS(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),LS(t))}(t)},n=kue++;t._inner=t._inner.fork({name:"angular",properties:{[kS]:!0,[qv]:n,[qv+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(function jue(t){return vB(t,"__ignore_ng_zone__")}(c))return r.invokeTask(i,s,a,c);try{return _B(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),yB(t)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return _B(t),r.invoke(i,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function Uue(t){return vB(t,"__scheduler_tick__")}(c)&&e(),yB(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,LS(t),FS(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(kS)}static assertInAngularZone(){if(!it.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(it.isInAngularZone())throw new j(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,Fue,zv,zv);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const Fue={};function FS(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function LS(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function _B(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function yB(t){t._nesting--,FS(t)}class VS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yt,this.onMicrotaskEmpty=new Yt,this.onStable=new Yt,this.onError=new Yt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,o){return e.apply(n,r)}}function vB(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}class Ki{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&OS(e);for(;n&&OS(n);)n=OS(n);return n||null}}const $ue=new K("",{providedIn:"root",factory:()=>{const t=B(it),e=B(Ki);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Hue(){return nd(lt(),L())}function nd(t,e){return new wo(Or(t,e))}let wo=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Hue}}return t})();const Np="ngSkipHydration",zue="ngskiphydration";function US(t){const e=t.mergedAttrs;if(null===e)return!1;for(let n=0;n<e.length;n+=2){const r=e[n];if("number"==typeof r)return!1;if("string"==typeof r&&r.toLowerCase()===zue)return!0}return!1}function DB(t){return t.hasAttribute(Np)}function Pp(t){return!(128&~t.flags)}const BS=new Map;let que=0;function $S(t){BS.delete(t[Zl])}const Wv="__ngContext__";function gr(t,e){Pn(e)?(t[Wv]=e[Zl],function Kue(t){BS.set(t[Zl],t)}(e)):t[Wv]=e}function NB(t){return xB(t[vp])}function PB(t){return xB(t[di])}function xB(t){for(;null!==t&&!pr(t);)t=t[di];return t}let GS;function ka(){if(void 0!==GS)return GS;if(typeof document<"u")return document;throw new j(210,!1)}const Op=new K("",{providedIn:"root",factory:()=>dle}),dle="ng",BB=new K(""),Fa=new K("",{providedIn:"platform",factory:()=>"unknown"}),$B=new K("",{providedIn:"root",factory:()=>ka().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function ple(){const t=new od;return"browser"===B(Fa)&&(t.store=function gle(t,e){const n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}(ka(),B(Op))),t}let od=(()=>{class t{constructor(){this.store={},this.onSerializeCallbacks={}}static{this.\u0275prov=ae({token:t,providedIn:"root",factory:ple})}get(n,r){return void 0!==this.store[n]?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return 0===Object.keys(this.store).length}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(const n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();const zS="h",qS="b";var id=function(t){return t.FirstChild="f",t.NextSibling="n",t}(id||{});const Qv="e",WS="t",kp="c",Yv="x",sd="r",KS="i",Zv="n",Fp="d",YS="__nghData__",Lp="ngh";let HB=()=>null;function _le(t,e,n=!1){let r=t.getAttribute(Lp);if(null==r)return null;const[o,i]=r.split("|");if(r=n?i:o,!r)return null;const a=n?o:i?`|${i}`:"";let c={};if(""!==r){const l=e.get(od,null,{optional:!0});null!==l&&(c=l.get(YS,[])[Number(r)])}const u={data:c,firstChild:t.firstChild??null};return n&&(u.firstChild=t,Jv(u,0,t.nextSibling)),a?t.setAttribute(Lp,a):t.removeAttribute(Lp),u}function ZS(t,e,n=!1){return HB(t,e,n)}function GB(t){let e=t._lView;return 2===e[q].type?null:(Ep(e)&&(e=e[oe]),e)}function Jv(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function XS(t,e){return t.segmentHeads?.[e]??null}function WB(t,e){return t.data[kp]?.[e]??null}function e0(t,e){const n=WB(t,e)??[];let r=0;for(let o of n)r+=o[sd]*(o[Yv]??1);return r}function Jc(t,e){if(typeof t.disconnectedNodes>"u"){const n=t.data[Fp];t.disconnectedNodes=n?new Set(n):null}return!!function KB(t){if(typeof t.disconnectedNodes>"u"){const e=t.data[Fp];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}(t)?.has(e)}const Xv=new K(""),ZB=new K("",{providedIn:"root",factory:()=>!1});let tI;function n$(t){return function r0(){if(void 0===tI&&(tI=null,kt.trustedTypes))try{tI=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return tI}()?.createScriptURL(t)||t}class r${constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${jj})`}}function La(t){return t instanceof r$?t.changingThisBreaksApplicationSecurity:t}function Up(t,e){const n=function Nle(t){return t instanceof r$&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${jj})`)}return n===e}const kle=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var cd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(cd||{});function f$(t){const e=$p();return e?e.sanitize(cd.URL,t)||"":Up(t,"URL")?La(t):function o0(t){return(t=String(t)).match(kle)?t:"unsafe:"+t}(De(t))}function h$(t){const e=$p();if(e)return n$(e.sanitize(cd.RESOURCE_URL,t)||"");if(Up(t,"ResourceURL"))return n$(La(t));throw new j(904,!1)}function $p(){const t=L();return t&&t[Hi].sanitizer}const Zle=/^>|^->|<!--|-->|--!>|<!-$/g,Jle=/(<|>)/g,Xle="\u200b$1\u200b";function Co(t){return t instanceof Function?t():t}function bo(t){return"browser"===(t??B(or)).get(Fa)}var Va=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Va||{});let d0;function f0(t,e){return d0(t,e)}function ld(t,e,n,r,o){if(null!=r){let i,s=!1;pr(r)?i=r:Pn(r)&&(s=!0,r=r[Ut]);const a=Ke(r);0===t&&null!==n?null==o?S$(e,n,a):Xc(e,n,a,o||null,!0):1===t&&null!==n?Xc(e,n,a,o||null,!0):2===t?Gp(e,a,s):3===t&&e.destroyNode(a),null!=i&&function vde(t,e,n,r,o){const i=n[Gi];i!==Ke(n)&&ld(e,t,r,i,o);for(let a=rn;a<n.length;a++){const c=n[a];cI(c[q],c,t,e,r,i)}}(e,t,i,n,o)}}function h0(t,e){return t.createText(e)}function p0(t,e){return t.createComment(function g$(t){return t.replace(Zle,e=>e.replace(Jle,Xle))}(e))}function iI(t,e,n){return t.createElement(e,n)}function C$(t,e){e[Hi].changeDetectionScheduler?.notify(9),cI(t,e,e[me],2,null,null)}function b$(t,e){const n=t[Jl],r=e[_n];(Pn(r)||e[Bt]!==r[_n][Bt])&&(t[ue]|=Rv.HasTransplantedViews),null===n?t[Jl]=[e]:n.push(e)}function g0(t,e){const n=t[Jl],r=n.indexOf(e);n.splice(r,1)}function Hp(t,e){if(t.length<=rn)return;const n=rn+e,r=t[n];if(r){const o=r[Gc];null!==o&&o!==t&&g0(o,r),e>0&&(t[n-1][di]=r[di]);const i=vv(t,rn+e);!function dde(t,e){C$(t,e),e[Ut]=null,e[nr]=null}(r[q],r);const s=i[Os];null!==s&&s.detachView(i[q]),r[_n]=null,r[di]=null,r[ue]&=-129}return r}function sI(t,e){if(!(256&e[ue])){const n=e[me];n.destroyNode&&cI(t,e,n,3,null,null),function hde(t){let e=t[vp];if(!e)return m0(t[q],t);for(;e;){let n=null;if(Pn(e))n=e[vp];else{const r=e[rn];r&&(n=r)}if(!n){for(;e&&!e[di]&&e!==t;)Pn(e)&&m0(e[q],e),e=e[_n];null===e&&(e=t),Pn(e)&&m0(e[q],e),n=e&&e[di]}e=n}}(e)}}function m0(t,e){if(256&e[ue])return;const n=Pe(null);try{e[ue]&=-129,e[ue]|=256,e[$o]&&vT(e[$o]),function mde(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const o=e[n[r]];if(!(o instanceof Tp)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];zi(4,a,c);try{c.call(a)}finally{zi(5,a,c)}}else{zi(4,o,i);try{i.call(o)}finally{zi(5,o,i)}}}}}(t,e),function gde(t,e){const n=t.cleanup,r=e[Kl];if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);null!==r&&(e[Kl]=null);const o=e[Oa];if(null!==o){e[Oa]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(t,e),1===e[q].type&&e[me].destroy();const r=e[Gc];if(null!==r&&pr(e[_n])){r!==e[_n]&&g0(r,e);const o=e[Os];null!==o&&o.detachView(t)}$S(e)}finally{Pe(n)}}function _0(t,e,n){return function T$(t,e,n){let r=e;for(;null!==r&&168&r.type;)r=(e=r).parent;if(null===r)return n[Ut];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=t.data[r.directiveStart+o];if(i===ui.None||i===ui.Emulated)return null}return Or(r,n)}}(t,e.parent,n)}function Xc(t,e,n,r,o){t.insertBefore(e,n,r,o)}function S$(t,e,n){t.appendChild(e,n)}function A$(t,e,n,r,o){null!==r?Xc(t,e,n,r,o):S$(t,e,n)}function y0(t,e){return t.parentNode(e)}let v0,N$=function R$(t,e,n){return 40&t.type?Or(t,n):null};function aI(t,e,n,r){const o=_0(t,r,e),i=e[me],a=function M$(t,e,n){return N$(t,e,n)}(r.parent||e[nr],r,e);if(null!=o)if(Array.isArray(n))for(let c=0;c<n.length;c++)A$(i,o,n[c],a,!1);else A$(i,o,n,a,!1);void 0!==v0&&v0(i,r,e,n,o)}function eu(t,e){if(null!==e){const n=e.type;if(3&n)return Or(e,t);if(4&n)return I0(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return eu(t,r);{const o=t[e.index];return pr(o)?I0(-1,o):Ke(o)}}if(128&n)return eu(t,e.next);if(32&n)return f0(e,t)()||Ke(t[e.index]);{const r=x$(t,e);return null!==r?Array.isArray(r)?r[0]:eu(ks(t[Bt]),r):eu(t,e.next)}}return null}function x$(t,e){return null!==e?t[Bt][nr].projection[e.projection]:null}function I0(t,e){const n=rn+t+1;if(n<e.length){const r=e[n],o=r[q].firstChild;if(null!==o)return eu(r,o)}return e[Gi]}function Gp(t,e,n){t.removeChild(null,e,n)}function O$(t){t.textContent=""}function E0(t,e,n,r,o,i,s){for(;null!=n;){if(128===n.type){n=n.next;continue}const a=r[n.index],c=n.type;if(s&&0===e&&(a&&gr(Ke(a),r),n.flags|=2),32&~n.flags)if(8&c)E0(t,e,n.child,r,o,i,!1),ld(e,t,o,a,i);else if(32&c){const u=f0(n,r);let l;for(;l=u();)ld(e,t,o,l,i);ld(e,t,o,a,i)}else 16&c?k$(t,e,r,n,o,i):ld(e,t,o,a,i);n=s?n.projectionNext:n.next}}function cI(t,e,n,r,o,i){E0(n,r,t.firstChild,e,o,i,!1)}function k$(t,e,n,r,o,i){const s=n[Bt],c=s[nr].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)ld(e,t,o,c[u],i);else{let u=c;const l=s[_n];Pp(r)&&(u.flags|=128),E0(t,e,u,l,o,i,!0)}}function F$(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function L$(t,e,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&ZT(t,e,r),null!==o&&F$(t,e,o),null!==i&&function Ede(t,e,n){t.setAttribute(e,"style",n)}(t,e,i)}const we={};function Se(t=1){V$(xe(),L(),rr()+t,!1)}function V$(t,e,n,r){if(!r)if(3&~e[ue]){const i=t.preOrderHooks;null!==i&&jv(e,i,0,n)}else{const i=t.preOrderCheckHooks;null!==i&&Vv(e,i,n)}Kc(n)}function G(t,e=Ve.Default){const n=L();return null===n?Me(t,e):nB(lt(),n,pe(t),e)}function j$(t,e,n,r,o,i){const s=Pe(null);try{let a=null;o&Na.SignalBased&&(a=e[r][ai]),null!==a&&void 0!==a.transformFn&&(i=a.transformFn(i)),o&Na.HasDecoratorInputTransform&&(i=t.inputTransforms[r].call(e,i)),null!==t.setInput?t.setInput(e,a,i,n,r):wU(e,a,r,i)}finally{Pe(s)}}function uI(t,e,n,r,o,i,s,a,c,u,l){const d=e.blueprint.slice();return d[Ut]=o,d[ue]=204|r,(null!==u||t&&2048&t[ue])&&(d[ue]|=2048),MU(d),d[_n]=d[Ql]=t,d[Ct]=n,d[Hi]=s||t&&t[Hi],d[me]=a||t&&t[me],d[yn]=c||t&&t[yn]||null,d[nr]=i,d[Zl]=function Wue(){return que++}(),d[xr]=l,d[yU]=u,d[Bt]=2==e.type?t[Bt]:d,d}function tu(t,e,n,r,o){let i=t.data[e];if(null===i)i=function D0(t,e,n,r,o){const i=OU(),s=yS(),c=t.data[e]=function Rde(t,e,n,r,o,i){let s=e?e.injectorIndex:-1,a=0;return Wc()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,e,r,o);return null===t.firstChild&&(t.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(t,e,n,r,o),function eue(){return _e.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function Cp(){const t=_e.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return hi(i,!0),i}function zp(t,e,n,r){if(0===n)return-1;const o=e.length;for(let i=0;i<n;i++)e.push(r),t.blueprint.push(r),t.data.push(null);return o}function U$(t,e,n,r,o){const i=rr(),s=2&r;try{Kc(-1),s&&e.length>oe&&V$(t,e,oe,!1),zi(s?2:0,o),n(r,o)}finally{Kc(i),zi(s?3:1,o)}}function w0(t,e,n){if(uS(e)){const r=Pe(null);try{const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const a=t.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{Pe(r)}}}function C0(t,e,n){xU()&&(function Lde(t,e,n,r){const o=n.directiveStart,i=n.directiveEnd;zc(n)&&function Gde(t,e,n){const r=Or(e,t),o=B$(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=lI(t,uI(t,o,null,s,r,e,null,t[Hi].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[o+n.componentOffset]),t.firstCreatePass||Bv(n,e),gr(r,e);const s=n.initialInputs;for(let a=o;a<i;a++){const c=t.data[a],u=Yc(e,t,a,n);gr(u,e),null!==s&&zde(0,a-o,u,c,0,s),fi(c)&&(Io(n.index,e)[Ct]=Yc(e,t,a,n))}}(t,e,n,Or(n,e)),!(64&~n.flags)&&q$(t,e,n))}function b0(t,e,n=Or){const r=e.localNames;if(null!==r){let o=e.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(e,t):t[s];t[o++]=a}}}function B$(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=T0(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function T0(t,e,n,r,o,i,s,a,c,u,l){const d=oe+r,h=d+o,p=function Cde(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:we);return n}(d,h),m="function"==typeof u?u():u;return p[q]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:l}}let $$=()=>null;function Sde(t){DB(t)?O$(t):function Ile(t){const e=ka(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(i){const s=function vle(t){return t.textContent?.replace(/\s/gm,"")}(i);return"ngetn"===s||"ngtns"===s?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}});let r;const o=[];for(;r=n.nextNode();)o.push(r);for(const i of o)"ngetn"===i.textContent?i.replaceWith(e.createTextNode("")):i.remove()}(t)}function H$(t,e,n,r,o){for(let i in e){if(!e.hasOwnProperty(i))continue;const s=e[i];if(void 0===s)continue;r??={};let a,c=Na.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=i;if(null!==o){if(!o.hasOwnProperty(i))continue;u=o[i]}0===t?G$(r,n,u,a,c):G$(r,n,u,a)}return r}function G$(t,e,n,r,o){let i;t.hasOwnProperty(n)?(i=t[n]).push(e,r):i=t[n]=[e,r],void 0!==o&&i.push(o)}function ro(t,e,n,r,o,i,s,a){const c=Or(e,n);let l,u=e.inputs;!a&&null!=u&&(l=u[r])?(N0(t,n,l,r,o),zc(e)&&function xde(t,e){const n=Io(e,t);16&n[ue]||(n[ue]|=64)}(n,e.index)):3&e.type&&(r=function Pde(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),o=null!=s?s(o,e.value||"",r):o,i.setProperty(c,r,o))}function S0(t,e,n,r){if(xU()){const o=null===r?null:{"":-1},i=function jde(t,e){const n=t.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(sU(e,s.selectors,!1))if(r||(r=[]),fi(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),A0(t,e,a.length)}else r.unshift(s),A0(t,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(t,n);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&z$(t,e,n,s,o,a),o&&function Ude(t,e,n){if(e){const r=t.localNames=[];for(let o=0;o<e.length;o+=2){const i=n[e[o+1]];if(null==i)throw new j(-301,!1);r.push(e[o],i)}}}(n,r,o)}n.mergedAttrs=mp(n.mergedAttrs,n.attrs)}function z$(t,e,n,r,o,i){for(let u=0;u<r.length;u++)NS(Bv(n,e),t,r[u].type);!function $de(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=zp(t,e,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=mp(n.mergedAttrs,l.hostAttrs),Hde(t,n,e,c,l),Bde(c,l,o),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function Nde(t,e,n){const o=e.directiveEnd,i=t.data,s=e.attrs,a=[];let c=null,u=null;for(let l=e.directiveStart;l<o;l++){const d=i[l],h=n?n.get(d):null,m=h?h.outputs:null;c=H$(0,d.inputs,l,c,h?h.inputs:null),u=H$(1,d.outputs,l,u,m);const y=null===c||null===s||JT(e)?null:qde(c,l,s);a.push(y)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(t,n,i)}function q$(t,e,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function nue(){return _e.lFrame.currentDirectiveIndex}();try{Kc(i);for(let a=r;a<o;a++){const c=t.data[a],u=e[a];IS(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Vde(c,u)}}finally{Kc(-1),IS(s)}}function Vde(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function A0(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Bde(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fi(e)&&(n[""]=t)}}function Hde(t,e,n,r,o){t.data[r]=o;const i=o.factory||(o.factory=$c(o.type)),s=new Tp(i,fi(o),G);t.blueprint[r]=s,n[r]=s,function kde(t,e,n,r,o){const i=o.hostBindings;if(i){let s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);const a=~e.index;(function Fde(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(t,e,r,zp(t,n,o.hostVars,we),o)}function Qi(t,e,n,r,o,i){const s=Or(t,e);!function M0(t,e,n,r,o,i,s){if(null==i)t.removeAttribute(e,o,n);else{const a=null==s?De(i):s(i,r||"",o);t.setAttribute(e,o,a,n)}}(e[me],s,i,t.value,n,r,o)}function zde(t,e,n,r,o,i){const s=i[e];if(null!==s)for(let a=0;a<s.length;)j$(r,n,s[a++],s[a++],s[a++],s[a++])}function qde(t,e,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(t.hasOwnProperty(i)){null===r&&(r=[]);const s=t[i];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(i,s[a+1],s[a+2],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function W$(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function K$(t,e){const n=t.contentQueries;if(null!==n){const r=Pe(null);try{for(let o=0;o<n.length;o+=2){const s=n[o+1];if(-1!==s){const a=t.data[s];Fv(n[o]),a.contentQueries(2,e[s],s)}}}finally{Pe(r)}}}function lI(t,e){return t[vp]?t[_U][di]=e:t[vp]=e,t[_U]=e,e}function R0(t,e,n){Fv(0);const r=Pe(null);try{e(t,n)}finally{Pe(r)}}function dI(t,e){const n=t[yn],r=n?n.get(Ki,null):null;r&&r.handleError(e)}function N0(t,e,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],c=n[i++];j$(t.data[s],e[s],r,a,c,o)}}function js(t,e,n){const r=Dp(e,t);!function w$(t,e,n){t.setValue(e,n)}(t[me],r,n)}function Wde(t,e){const n=Io(e,t),r=n[q];!function Kde(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const o=n[Ut];null!==o&&null===n[xr]&&(n[xr]=ZS(o,n[yn])),P0(r,n,n[Ct])}function P0(t,e,n){wS(e);try{const r=t.viewQuery;null!==r&&R0(1,r,n);const o=t.template;null!==o&&U$(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Os]?.finishViewCreation(t),t.staticContentQueries&&K$(t,e),t.staticViewQueries&&R0(2,t.viewQuery,n);const i=t.components;null!==i&&function Qde(t,e){for(let n=0;n<e.length;n++)Wde(t,e[n])}(e,i)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ue]&=-5,CS()}}function nu(t,e){return!e||null===e.firstChild||Pp(t)}function qp(t,e,n,r,o=!1){for(;null!==n;){if(128===n.type){n=o?n.projectionNext:n.next;continue}const i=e[n.index];null!==i&&r.push(Ke(i)),pr(i)&&X$(i,r);const s=n.type;if(8&s)qp(t,e,n.child,r);else if(32&s){const a=f0(n,e);let c;for(;c=a();)r.push(c)}else if(16&s){const a=x$(e,n);if(Array.isArray(a))r.push(...a);else{const c=ks(e[Bt]);qp(c[q],c,a,r,!0)}}n=o?n.projectionNext:n.next}return r}function X$(t,e){for(let n=rn;n<t.length;n++){const r=t[n],o=r[q].firstChild;null!==o&&qp(r[q],r,o,e)}t[Gi]!==t[Ut]&&e.push(t[Gi])}let eH=[];const Xde={...tv,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xv(t.lView)},consumerOnSignalRead(){this.lView[$o]=this}},tfe={...tv,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ks(t.lView);for(;e&&!tH(e[q]);)e=ks(e);e&&RU(e)},consumerOnSignalRead(){this.lView[$o]=this}};function tH(t){return 2!==t.type}const nfe=100;function fI(t,e=!0,n=0){const r=t[Hi],o=r.rendererFactory;o.begin?.();try{!function rfe(t,e){const n=LU();try{VU(!0),O0(t,e);let r=0;for(;Pv(t);){if(r===nfe)throw new j(103,!1);r++,O0(t,1)}}finally{VU(n)}}(t,n)}catch(s){throw e&&dI(t,s),s}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function ofe(t,e,n,r){const o=e[ue];if(!(256&~o))return;e[Hi].inlineEffectRunner?.flush(),wS(e);let a=!0,c=null,u=null;tH(t)?(u=function Yde(t){return t[$o]??function Zde(t){const e=eH.pop()??Object.create(Xde);return e.lView=t,e}(t)}(e),c=nv(u)):null===function yj(){return nn}()?(a=!1,u=function efe(t){const e=t[$o]??Object.create(tfe);return e.lView=t,e}(e),c=nv(u)):e[$o]&&(vT(e[$o]),e[$o]=null);try{MU(e),function jU(t){return _e.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&U$(t,e,n,2,r);const l=!(3&~o);if(l){const p=t.preOrderCheckHooks;null!==p&&Vv(e,p,null)}else{const p=t.preOrderHooks;null!==p&&jv(e,p,0,null),bS(e,0)}if(function ife(t){for(let e=NB(t);null!==e;e=PB(e)){if(!(e[ue]&Rv.HasTransplantedViews))continue;const n=e[Jl];for(let r=0;r<n.length;r++)RU(n[r])}}(e),rH(e,0),null!==t.contentQueries&&K$(t,e),l){const p=t.contentCheckHooks;null!==p&&Vv(e,p)}else{const p=t.contentHooks;null!==p&&jv(e,p,1),bS(e,1)}!function wde(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Kc(~o);else{const i=o,s=n[++r],a=n[++r];tue(s,i),a(2,e[i])}}}finally{Kc(-1)}}(t,e);const d=t.components;null!==d&&iH(e,d,0);const h=t.viewQuery;if(null!==h&&R0(2,h,r),l){const p=t.viewCheckHooks;null!==p&&Vv(e,p)}else{const p=t.viewHooks;null!==p&&jv(e,p,2),bS(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[Av]){for(const p of e[Av])p();e[Av]=null}e[ue]&=-73}catch(l){throw xv(e),l}finally{null!==u&&(_T(u,c),a&&function Jde(t){t.lView[$o]!==t&&(t.lView=null,eH.push(t))}(u)),CS()}}function rH(t,e){for(let n=NB(t);null!==n;n=PB(n))for(let r=rn;r<n.length;r++)oH(n[r],e)}function sfe(t,e,n){oH(Io(e,t),n)}function oH(t,e){pS(t)&&O0(t,e)}function O0(t,e){const r=t[q],o=t[ue],i=t[$o];let s=!!(0===e&&16&o);if(s||=!!(64&o&&0===e),s||=!!(1024&o),s||=!(!i?.dirty||!yT(i)),s||=!1,i&&(i.dirty=!1),t[ue]&=-9217,s)ofe(r,t,r.template,t[Ct]);else if(8192&o){rH(t,1);const a=r.components;null!==a&&iH(t,a,1)}}function iH(t,e,n){for(let r=0;r<e.length;r++)sfe(t,e[r],n)}function Wp(t,e){const n=LU()?64:1088;for(t[Hi].changeDetectionScheduler?.notify(e);t;){t[ue]|=n;const r=ks(t);if(Ep(t)&&!r)return t;t=r}return null}class Kp{get rootNodes(){const e=this._lView,n=e[q];return qp(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ct]}set context(e){this._lView[Ct]=e}get destroyed(){return!(256&~this._lView[ue])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[_n];if(pr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(Hp(e,r),vv(n,r))}this._attachedToViewContainer=!1}sI(this._lView[q],this._lView)}onDestroy(e){Ov(this._lView,e)}markForCheck(){Wp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ue]&=-129}reattach(){gS(this._lView),this._lView[ue]|=128}detectChanges(){this._lView[ue]|=1024,fI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const e=Ep(this._lView),n=this._lView[Gc];null!==n&&!e&&g0(n,this._lView),C$(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;const n=Ep(this._lView),r=this._lView[Gc];null!==r&&!n&&b$(r,this._lView),gS(this._lView)}}let Us=(()=>{class t{static{this.__NG_ELEMENT_ID__=ufe}}return t})();const afe=Us,cfe=class extends afe{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const o=function dd(t,e,n,r){const o=Pe(null);try{const i=e.tView,c=uI(t,i,n,4096&t[ue]?4096:16,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[Gc]=t[e.index];const l=t[Os];return null!==l&&(c[Os]=l.createEmbeddedView(i)),P0(i,c,n),c}finally{Pe(o)}}(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Kp(o)}};function ufe(){return function hI(t,e){return 4&t.type?new cfe(e,t,nd(t,e)):null}(lt(),L())}const Sfe=new RegExp(`^(\\d+)*(${qS}|${zS})*(.*)`);function j0(t){return t.index-oe}function eg(t,e,n,r){const o=j0(r);let i=function _H(t,e){const n=t.i18nNodes;if(n)return n.get(e)}(t,o);if(void 0===i){const s=t.data[Zv];if(s?.[o])i=function yH(t,e){const[n,...r]=function Mfe(t){const e=t.match(Sfe),[n,r,o,i]=e,s=r?parseInt(r,10):o,a=[];for(const[c,u,l]of i.matchAll(/(f|n)(\d*)/g)){const d=parseInt(l,10)||1;a.push(u,d)}return[s,...a]}(t);let o;o=n===zS?e[Bt][Ut]:n===qS?function v$(t){return t.ownerDocument.body}(e[Bt][Ut]):Ke(e[Number(n)+oe]);return function Pfe(t,e){let n=t;for(let r=0;r<e.length;r+=2){const o=e[r],i=e[r+1];for(let s=0;s<i;s++)switch(o){case id.FirstChild:n=n.firstChild;break;case id.NextSibling:n=n.nextSibling}}return n}(o,r)}(s[o],n);else if(e.firstChild===r)i=t.firstChild;else{const a=null===r.prev,c=r.prev??r.parent;if(function Rfe(t){return!t.prev&&8===t.parent?.type}(r))i=XS(t,j0(r.parent));else{let u=Or(c,n);if(a)i=u.firstChild;else{const l=j0(c),d=XS(t,l);i=2===c.type&&d?_I(e0(t,l)+1,d):u.nextSibling}}}}return i}function _I(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}let IH=!1;function Qfe(t,e,n){for(const r of n.node.cases[n.case]){const o=e.get(r.index-oe);o&&Gp(t,o,!1)}}function CH(t){const e=t[Ip]??[],r=t[_n][me];for(const o of e)Yfe(o,r);t[Ip]=We}function Yfe(t,e){let n=0,r=t.firstChild;if(r){const o=t.data[sd];for(;n<o;){const i=r.nextSibling;Gp(e,r,!1),r=i,n++}}}function bH(t){CH(t);const e=t[Ut];Pn(e)&&yI(e);for(let n=rn;n<t.length;n++)yI(t[n])}function yI(t){!function Kfe(t){const e=t[xr];if(e){const{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){const o=t[me];for(const i of r.values())Qfe(o,n,i)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}(t);const e=t[q];for(let n=oe;n<e.bindingStartIndex;n++)pr(t[n])?bH(t[n]):Pn(t[n])&&yI(t[n])}let TH=()=>null;function Xfe(t,e){const n=t[Ip];return e&&null!==n&&0!==n.length?n[0].data[KS]===e?n.shift():(CH(t),null):null}function ou(t,e){return TH(t,e)}class pd{}const gd=new K("",{providedIn:"root",factory:()=>!1}),SH=new K(""),z0=new K("");class the{}class AH{}class rhe{resolveComponentFactory(e){throw function nhe(t){const e=Error(`No component factory found for ${Mn(t)}.`);return e.ngComponent=t,e}(e)}}class vI{static{this.NULL=new rhe}}class q0{}let Bs=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ohe(){const t=L(),n=Io(lt().index,t);return(Pn(n)?n:t)[me]}()}}return t})(),ihe=(()=>{class t{static{this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>null})}}return t})();function EI(t,e,n){let r=n?t.styles:null,o=n?t.classes:null,i=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?i=a:1==i?o=xT(o,a):2==i&&(r=xT(r,a+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=o:t.classesWithoutHost=o}class PH extends vI{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Fe(e);return new og(n,this.ngModule)}}function xH(t,e){const n=[];for(const r in t){if(!t.hasOwnProperty(r))continue;const o=t[r];if(void 0===o)continue;const i=Array.isArray(o),s=i?o[0]:o;n.push(e?{propName:s,templateName:r,isSignal:!!((i?o[1]:Na.None)&Na.SignalBased)}:{propName:s,templateName:r})}return n}class og extends AH{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=xH(e.inputs,!0);if(null!==n)for(const o of r)n.hasOwnProperty(o.propName)&&(o.transform=n[o.propName]);return r}get outputs(){return xH(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function fce(t){return t.map(dce).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,o){const i=Pe(null);try{let s=(o=o||this.ngModule)instanceof vo?o:o?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new Qc(e,s):e,c=a.get(q0,null);if(null===c)throw new j(407,!1);const d={rendererFactory:c,sanitizer:a.get(ihe,null),inlineEffectRunner:null,changeDetectionScheduler:a.get(pd,null)},h=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=r?function bde(t,e,n,r){const i=r.get(ZB,!1)||n===ui.ShadowDom,s=t.selectRootElement(e,i);return function Tde(t){$$(t)}(s),s}(h,r,this.componentDef.encapsulation,a):iI(h,p,function che(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(p));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let v=null;null!==m&&(v=ZS(m,a,!0));const D=T0(0,null,null,1,0,null,null,null,null,null,null),I=uI(null,D,null,y,null,null,d,h,a,null,v);wS(I);let A,k,U=null;try{const z=this.componentDef;let b,C=null;z.findHostDirectiveDefs?(b=[],C=new Map,z.findHostDirectiveDefs(z,b,C),b.push(z)):b=[z];const T=function lhe(t,e){const n=t[q],r=oe;return t[r]=e,tu(n,r,2,"#host",null)}(I,m);U=function dhe(t,e,n,r,o,i,s){const a=o[q];!function fhe(t,e,n,r){for(const o of t)e.mergedAttrs=mp(e.mergedAttrs,o.hostAttrs);null!==e.mergedAttrs&&(EI(e,e.mergedAttrs,!0),null!==n&&L$(r,n,e))}(r,t,e,s);let c=null;null!==e&&(c=ZS(e,o[yn]));const u=i.rendererFactory.createRenderer(e,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=uI(o,B$(n),null,l,o[t.index],t,i,u,null,null,c);return a.firstCreatePass&&A0(a,t,r.length-1),lI(o,d),o[t.index]=d}(T,m,z,b,I,d,h),k=wp(D,oe),m&&function phe(t,e,n,r){if(r)ZT(t,n,["ng-version","18.2.12"]);else{const{attrs:o,classes:i}=function hce(t){const e=[],n=[];let r=1,o=2;for(;r<t.length;){let i=t[r];if("string"==typeof i)2===o?""!==i&&e.push(i,t[++r]):8===o&&n.push(i);else{if(!li(o))break;o=i}r++}return{attrs:e,classes:n}}(e.selectors[0]);o&&ZT(t,n,o),i&&i.length>0&&F$(t,n,i.join(" "))}}(h,z,m,r),void 0!==n&&function ghe(t,e,n){const r=t.projection=[];for(let o=0;o<e.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(k,this.ngContentSelectors,n),A=function hhe(t,e,n,r,o,i){const s=lt(),a=o[q],c=Or(s,o);z$(a,o,s,n,null,r);for(let l=0;l<n.length;l++)gr(Yc(o,a,s.directiveStart+l,s),o);q$(a,o,s),c&&gr(c,o);const u=Yc(o,a,s.directiveStart+s.componentOffset,s);if(t[Ct]=o[Ct]=u,null!==i)for(const l of i)l(u,e);return w0(a,s,o),u}(U,z,b,C,I,[mhe]),P0(D,I,null)}catch(z){throw null!==U&&$S(U),$S(I),z}finally{CS()}return new uhe(this.componentType,A,nd(k,I),I,k)}finally{Pe(i)}}}class uhe extends the{constructor(e,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Kp(o,void 0,!1),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const i=this._rootLView;N0(i[q],i,o,e,n),this.previousInputValues.set(e,n),Wp(Io(this._tNode.index,i),1)}}get injector(){return new xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function mhe(){const t=lt();Lv(L()[q],t)}let gi=(()=>{class t{static{this.__NG_ELEMENT_ID__=_he}}return t})();function _he(){return function FH(t,e){let n;const r=e[t.index];return pr(r)?n=r:(n=W$(r,e,null,t),e[t.index]=n,lI(e,n)),LH(n,e,t,r),new OH(n,t,e)}(lt(),L())}const yhe=gi,OH=class extends yhe{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return nd(this._hostTNode,this._hostLView)}get injector(){return new xn(this._hostTNode,this._hostLView)}get parentInjector(){const e=$v(this._hostTNode,this._hostLView);if(AS(e)){const n=Ap(e,this._hostLView),r=Sp(e);return new xn(n[q].data[r+8],n)}return new xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=kH(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-rn}createEmbeddedView(e,n,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const s=ou(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},i,s);return this.insertImpl(a,o,nu(this._hostTNode,s)),a}createComponent(e,n,r,o,i){const s=e&&!function yp(t){return"function"==typeof t}(e);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,o=m.projectableNodes,i=m.environmentInjector||m.ngModuleRef}const c=s?e:new og(Fe(e)),u=r||this.parentInjector;if(!i&&null==c.ngModule){const y=(s?u:this.parentInjector).get(vo,null);y&&(i=y)}const l=Fe(c.componentType??{}),d=ou(this._lContainer,l?.id??null),p=c.create(u,o,d?.firstChild??null,i);return this.insertImpl(p.hostView,a,nu(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){const o=e._lView;if(function zce(t){return pr(t[_n])}(o)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const c=o[_n],u=new OH(c,c[nr],c[_n]);u.detach(u.indexOf(e))}}const i=this._adjustIndex(n),s=this._lContainer;return function fd(t,e,n,r=!0){const o=e[q];if(function pde(t,e,n,r){const o=rn+r,i=n.length;r>0&&(n[o-1][di]=e),r<i-rn?(e[di]=n[o],Jj(n,rn+r,e)):(n.push(e),e[di]=null),e[_n]=n;const s=e[Gc];null!==s&&n!==s&&b$(s,e);const a=e[Os];null!==a&&a.insertView(t),gS(e),e[ue]|=128}(o,e,t,n),r){const s=I0(n,t),a=e[me],c=y0(a,t[Gi]);null!==c&&function fde(t,e,n,r,o,i){r[Ut]=o,r[nr]=e,cI(t,r,n,1,o,i)}(o,t[nr],a,e,c,s)}const i=e[xr];null!==i&&null!==i.firstChild&&(i.firstChild=null)}(s,o,i,r),e.attachToViewContainerRef(),Jj(Q0(s),i,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=kH(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=Hp(this._lContainer,n);r&&(vv(Q0(this._lContainer),n),sI(r[q],r))}detach(e){const n=this._adjustIndex(e,-1),r=Hp(this._lContainer,n);return r&&null!=vv(Q0(this._lContainer),n)?new Kp(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function kH(t){return t[8]}function Q0(t){return t[8]||(t[8]=[])}let LH=jH,Y0=()=>!1;function jH(t,e,n,r){if(t[Gi])return;let o;o=8&n.type?Ke(r):function vhe(t,e){const n=t[me],r=n.createComment(""),o=Or(e,t);return Xc(n,y0(n,o),r,function _de(t,e){return t.nextSibling(e)}(n,o),!1),r}(e,n),t[Gi]=o}function Ihe(t,e,n){if(t[Gi]&&t[Ip])return!0;const r=n[xr],o=e.index-oe;if(!r||function xp(t){if(Pp(t))return!0;let e=t.parent;for(;e;){if(Pp(t)||US(e))return!0;e=e.parent}return!1}(e)||Jc(r,o))return!1;const s=XS(r,o),a=r.data[kp]?.[o],[c,u]=function Jfe(t,e){const n=[];for(const r of e)for(let o=0;o<(r[Yv]??1);o++){const i={data:r,firstChild:null};r[sd]>0&&(i.firstChild=t,t=_I(r[sd],t)),n.push(i)}return[t,n]}(s,a);return t[Gi]=c,t[Ip]=u,!0}function Ehe(t,e,n,r){Y0(t,n,e)||jH(t,e,n,r)}const WH=new Set;function mr(t){WH.has(t)||(WH.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function md(t,e){mr("NgSignals");const n=function dae(t){const e=Object.create(hae);e.value=t;const n=()=>(mT(e),e.value);return n[ai]=e,n}(t),r=n[ai];return e?.equal&&(r.equal=e.equal),n.set=o=>Aj(r,o),n.update=o=>function fae(t,e){Ej()||Sj(),Aj(t,e(t.value))}(r,o),n.asReadonly=QH.bind(n),n}function QH(){const t=this[ai];if(void 0===t.readonlyFn){const e=()=>this();e[ai]=t,t.readonlyFn=e}return t.readonlyFn}function YH(t){return function KH(t){return"function"==typeof t&&void 0!==t[ai]}(t)&&"function"==typeof t.set}function dt(t){let e=function a3(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let o;if(fi(t))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);o=e.\u0275dir}if(o){if(n){r.push(o);const s=t;s.inputs=wI(t.inputs),s.inputTransforms=wI(t.inputTransforms),s.declaredInputs=wI(t.declaredInputs),s.outputs=wI(t.outputs);const a=o.hostBindings;a&&$he(t,a);const c=o.viewQuery,u=o.contentQueries;if(c&&Uhe(t,c),u&&Bhe(t,u),Vhe(t,o),Nae(t.outputs,o.outputs),fi(o)&&o.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(o.data.animation)}}const i=o.features;if(i)for(let s=0;s<i.length;s++){const a=i[s];a&&a.ngInherit&&a(t),a===dt&&(n=!1)}}e=Object.getPrototypeOf(e)}!function jhe(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const o=t[r];o.hostVars=e+=o.hostVars,o.hostAttrs=mp(o.hostAttrs,n=mp(n,o.hostAttrs))}}(r)}function Vhe(t,e){for(const n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;const r=e.inputs[n];if(void 0!==r&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],null!==e.inputTransforms)){const o=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(o))continue;t.inputTransforms??={},t.inputTransforms[o]=e.inputTransforms[o]}}}function wI(t){return t===$i?{}:t===We?[]:t}function Uhe(t,e){const n=t.viewQuery;t.viewQuery=n?(r,o)=>{e(r,o),n(r,o)}:e}function Bhe(t,e){const n=t.contentQueries;t.contentQueries=n?(r,o,i)=>{e(r,o,i),n(r,o,i)}:e}function $he(t,e){const n=t.hostBindings;t.hostBindings=n?(r,o)=>{e(r,o),n(r,o)}:e}function f3(t){const e=t.inputConfig,n={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];Array.isArray(o)&&o[3]&&(n[r]=o[3])}t.inputTransforms=n}class iu{}class h3{}class sA extends iu{constructor(e,n,r,o=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new PH(this);const i=hr(e);this._bootstrapComponents=Co(i.bootstrap),this._r3Injector=fB(e,n,[{provide:iu,useValue:this},{provide:vI,useValue:this.componentFactoryResolver},...r],Mn(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class aA extends h3{constructor(e){super(),this.moduleType=e}create(e){return new sA(this.moduleType,e,[])}}class p3 extends iu{constructor(e){super(),this.componentFactoryResolver=new PH(this),this.instance=null;const n=new zl([...e.providers,{provide:iu,useValue:this},{provide:vI,useValue:this.componentFactoryResolver}],e.parent||Tv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function cA(t,e,n=null){return new p3({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function CI(t){return!!function uA(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Yi(t,e,n){return t[e]=n}function on(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function su(t,e,n,r){const o=on(t,e,n);return on(t,e+1,r)||o}function yd(t){return!(32&~t.flags)}function ag(t,e,n,r,o,i,s,a,c,u){const l=n+oe,d=e.firstCreatePass?function epe(t,e,n,r,o,i,s,a,c){const u=e.consts,l=tu(e,t,4,s||null,a||null);S0(e,n,l,Go(u,c)),Lv(e,l);const d=l.tView=T0(2,l,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,e,t,r,o,i,s,a,c):e.data[l];hi(d,!1);const h=g3(e,t,d,n);bp()&&aI(e,t,h,d),gr(h,t);const p=W$(h,t,h,d);return t[l]=p,lI(t,p),function VH(t,e,n){return Y0(t,e,n)}(p,d,t),Nv(d)&&C0(e,t,d),null!=c&&b0(t,d,u),d}function Fr(t,e,n,r,o,i,s,a){const c=L(),u=xe();return ag(c,u,t,e,n,r,o,Go(u.consts,i),s,a),Fr}let g3=m3;function m3(t,e,n,r){return qi(!0),e[me].createComment("")}function tpe(t,e,n,r){const o=e[xr],i=!o||Wc()||yd(n)||Jc(o,r);if(qi(i),i)return m3(0,e);const s=o.data[WS]?.[r]??null;null!==s&&null!==n.tView&&null===n.tView.ssrId&&(n.tView.ssrId=s);const a=eg(o,t,e,n);return Jv(o,r,a),_I(e0(o,r),a)}var Id=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Id||{});let D3=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ae({token:t,providedIn:"root",factory:()=>new t})}}return t})();class lg{constructor(){this.ngZone=B(it),this.scheduler=B(pd),this.errorHandler=B(Ki,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Id.EarlyRead,Id.Write,Id.MixedReadWrite,Id.Read]}execute(){this.executing=!0;for(const e of lg.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[e])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(const e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ae({token:lg,providedIn:"root",factory:()=>new lg})}}function Zi(t,e,n,r){const o=L();return on(o,pi(),e)&&(xe(),Qi(bt(),o,t,e,n,r)),Zi}function Ad(t,e,n,r,o,i){const a=su(t,function Fs(){return _e.lFrame.bindingIndex}(),n,o);return Ls(2),a?e+De(n)+r+De(o)+i:we}function NI(t,e){return t<<17|e<<2}function $a(t){return t>>17&32767}function EA(t){return 2|t}function cu(t){return(131068&t)>>2}function DA(t,e){return-131069&t|e<<2}function wA(t){return 1|t}function Y3(t,e,n,r){const o=t[n+1],i=null===e;let s=r?$a(o):cu(o),a=!1;for(;0!==s&&(!1===a||i);){const u=t[s+1];$pe(t[s],e)&&(a=!0,t[s+1]=r?wA(u):EA(u)),s=r?$a(u):cu(u)}a&&(t[n+1]=r?EA(o):wA(o))}function $pe(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Hl(t,e)>=0}function Zt(t,e,n){const r=L();return on(r,pi(),e)&&ro(xe(),bt(),r,t,e,r[me],n,!1),Zt}function CA(t,e,n,r,o){const s=o?"class":"style";N0(t,n,e.inputs[s],s,r)}function Fd(t,e){return function mi(t,e,n,r){const o=L(),i=xe(),s=Ls(2);i.firstUpdatePass&&function i4(t,e,n,r){const o=t.data;if(null===o[n+1]){const i=o[rr()],s=function o4(t,e){return e>=t.expandoStartIndex}(t,n);(function u4(t,e){return!!(t.flags&(e?8:16))})(i,r)&&null===e&&!s&&(e=!1),e=function Zpe(t,e,n,r){const o=function ES(t){const e=_e.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let i=r?e.residualClasses:e.residualStyles;if(null===o)0===(r?e.classBindings:e.styleBindings)&&(n=fg(n=bA(null,t,e,n,r),e.attrs,r),i=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==o)if(n=bA(o,t,e,n,r),null===i){let c=function Jpe(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==cu(r))return t[$a(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=bA(null,t,e,c[1],r),c=fg(c,e.attrs,r),function Xpe(t,e,n,r){t[$a(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else i=function ege(t,e,n){let r;const o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++)r=fg(r,t[i].hostAttrs,n);return fg(r,e.attrs,n)}(t,e,r)}return void 0!==i&&(r?e.residualClasses=i:e.residualStyles=i),n}(o,i,e,r),function Upe(t,e,n,r,o,i){let s=i?e.classBindings:e.styleBindings,a=$a(s),c=cu(s);t[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||Hl(n,l)>0)&&(u=!0)):l=n,o)if(0!==c){const h=$a(t[a+1]);t[r+1]=NI(h,a),0!==h&&(t[h+1]=DA(t[h+1],r)),t[a+1]=function Vpe(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=NI(a,0),0!==a&&(t[a+1]=DA(t[a+1],r)),a=r;else t[r+1]=NI(c,0),0===a?a=r:t[c+1]=DA(t[c+1],r),c=r;u&&(t[r+1]=EA(t[r+1])),Y3(t,l,r,!0),Y3(t,l,r,!1),function Bpe(t,e,n,r,o){const i=o?t.residualClasses:t.residualStyles;null!=i&&"string"==typeof e&&Hl(i,e)>=0&&(n[r+1]=wA(n[r+1]))}(e,l,t,r,i),s=NI(a,c),i?e.classBindings=s:e.styleBindings=s}(o,i,e,n,s,r)}}(i,t,s,r),e!==we&&on(o,s,e)&&function a4(t,e,n,r,o,i,s,a){if(!(3&e.type))return;const c=t.data,u=c[a+1],l=function jpe(t){return!(1&~t)}(u)?c4(c,e,n,o,cu(u),s):void 0;PI(l)||(PI(i)||function Lpe(t){return!(2&~t)}(u)&&(i=c4(c,null,n,o,a,s)),function Ide(t,e,n,r,o){if(e)o?t.addClass(n,r):t.removeClass(n,r);else{let i=-1===r.indexOf("-")?void 0:Va.DashCase;null==o?t.removeStyle(n,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Va.Important),t.setStyle(n,r,o,i))}}(r,s,Dp(rr(),n),o,i))}(i,i.data[rr()],o,o[me],t,o[s+1]=function oge(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Mn(La(t)))),t}(e,n),r,s)}(t,e,null,!0),Fd}function bA(t,e,n,r,o){let i=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=e[a],r=fg(r,i.hostAttrs,o),i!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function fg(t,e,n){const r=n?1:2;let o=-1;if(null!==e)for(let i=0;i<e.length;i++){const s=e[i];"number"==typeof s?o=s:o===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),yo(t,s,!!n||e[++i]))}return void 0===t?null:t}function c4(t,e,n,r,o,i){const s=null===e;let a;for(;o>0;){const c=t[o],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[o+1];h===we&&(h=d?We:void 0);let p=d?QT(h,r):l===r?h:void 0;if(u&&!PI(p)&&(p=QT(c,r)),PI(p)&&(a=p,s))return a;const m=t[o+1];o=s?$a(m):cu(m)}if(null!==e){let c=i?e.residualClasses:e.residualStyles;null!=c&&(a=QT(c,r))}return a}function PI(t){return void 0!==t}function ee(t,e,n,r){const o=L(),i=xe(),s=oe+t,a=o[me],c=i.firstCreatePass?function Sge(t,e,n,r,o,i){const s=e.consts,c=tu(e,t,2,r,Go(s,o));return S0(e,n,c,Go(s,i)),null!==c.attrs&&EI(c,c.attrs,!1),null!==c.mergedAttrs&&EI(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(s,i,o,e,n,r):i.data[s],u=h4(i,o,c,a,e,t);o[s]=u;const l=Nv(c);return hi(c,!0),L$(a,u,c),!yd(c)&&bp()&&aI(i,o,u,c),0===function qce(){return _e.lFrame.elementDepthCount}()&&gr(u,o),function Wce(){_e.lFrame.elementDepthCount++}(),l&&(C0(i,o,c),w0(i,c,o)),null!==r&&b0(o,c),ee}function re(){let t=lt();yS()?function vS(){_e.lFrame.isParent=!1}():(t=t.parent,hi(t,!1));const e=t;(function Qce(t){return _e.skipHydrationRootTNode===t})(e)&&function Xce(){_e.skipHydrationRootTNode=null}(),function Kce(){_e.lFrame.elementDepthCount--}();const n=xe();return n.firstCreatePass&&(Lv(n,t),uS(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function hue(t){return!!(8&t.flags)}(e)&&CA(n,e,L(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function pue(t){return!!(16&t.flags)}(e)&&CA(n,e,L(),e.stylesWithoutHost,!1),re}function uu(t,e,n,r){return ee(t,e,n,r),re(),uu}let h4=(t,e,n,r,o,i)=>(qi(!0),iI(r,o,qU()));function Age(t,e,n,r,o,i){const s=e[xr],a=!s||Wc()||yd(n)||Jc(s,i);if(qi(a),a)return iI(r,o,qU());const c=eg(s,t,e,n);return WB(s,i)&&Jv(s,i,c.nextSibling),s&&(US(n)||DB(c))&&zc(n)&&(function Zce(t){_e.skipHydrationRootTNode=t}(n),O$(c)),c}let g4=(t,e,n,r)=>(qi(!0),p0(e[me],""));function Nge(t,e,n,r){let o;const i=e[xr],s=!i||Wc()||Jc(i,r)||yd(n);if(qi(s),s)return p0(e[me],"");const a=eg(i,t,e,n),c=function qB(t,e){const n=t.data;let r=n[Qv]?.[e]??null;return null===r&&n[kp]?.[e]&&(r=e0(t,e)),r}(i,r);return Jv(i,r,a),o=_I(c,a),o}function es(){return L()}const lu=void 0;var Oge=["en",[["a","p"],["AM","PM"],lu],[["AM","PM"],lu,lu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lu,"{1} 'at' {0}",lu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xge(t){const n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ld={};function Lr(t){const e=function kge(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=v4(e);if(n)return n;const r=e.split("-")[0];if(n=v4(r),n)return n;if("en"===r)return Oge;throw new j(701,!1)}function v4(t){return t in Ld||(Ld[t]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[t]),Ld[t]}var Tt=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Tt||{});const OI="en-US";let I4=OI,V4=(t,e,n)=>{};function st(t,e,n,r){const o=L(),i=xe(),s=lt();return xA(i,o,o[me],s,t,e,r),st}function xA(t,e,n,r,o,i,s){const a=Nv(r),u=t.firstCreatePass&&function Y$(t){return t.cleanup??=[]}(t),l=e[Ct],d=function Q$(t){return t[Kl]??=[]}(e);let h=!0;if(3&r.type||s){const y=Or(r,e),v=s?s(y):y,D=d.length,I=s?k=>s(Ke(k[r.index])):r.index;let A=null;if(!s&&a&&(A=function wme(t,e,n,r){const o=t.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===n&&o[i+1]===r){const a=e[Kl],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(t,e,o,r.index)),null!==A)(A.__ngLastListenerFn__||A).__ngNextListenerFn__=i,A.__ngLastListenerFn__=i,h=!1;else{i=$4(r,e,l,i),V4(y,o,i);const k=n.listen(v,o,i);d.push(i,k),u&&u.push(o,I,D,D+1)}}else i=$4(r,e,l,i);const p=r.outputs;let m;if(h&&null!==p&&(m=p[o])){const y=m.length;if(y)for(let v=0;v<y;v+=2){const U=e[m[v]][m[v+1]].subscribe(i),z=d.length;d.push(i,U),u&&u.push(o,r.index,z,-(z+1))}}}function B4(t,e,n,r){const o=Pe(null);try{return zi(6,e,n),!1!==n(r)}catch(i){return dI(t,i),!1}finally{zi(7,e,n),Pe(o)}}function $4(t,e,n,r){return function o(i){if(i===Function)return r;Wp(t.componentOffset>-1?Io(t.index,e):e,5);let a=B4(e,n,r,i),c=o.__ngNextListenerFn__;for(;c;)a=B4(e,n,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function St(t=1){return function oue(t){return(_e.lFrame.contextLView=function NU(t,e){for(;t>0;)e=e[Ql],t--;return e}(t,_e.lFrame.contextLView))[Ct]}(t)}function Ce(t,e=""){const n=L(),r=xe(),o=t+oe,i=r.firstCreatePass?tu(r,o,1,e,null):r.data[o],s=lG(r,n,i,e,t);n[o]=s,bp()&&aI(r,n,s,i),hi(i,!1)}let lG=(t,e,n,r,o)=>(qi(!0),h0(e[me],r));function $me(t,e,n,r,o){const i=e[xr],s=!i||Wc()||yd(n)||Jc(i,o);return qi(s),s?h0(e[me],r):eg(i,t,e,n)}function ts(t){return Vd("",t,""),ts}function Vd(t,e,n){const r=L(),o=function Sd(t,e,n,r){return on(t,pi(),n)?e+De(n)+r:we}(r,t,e,n);return o!==we&&js(r,rr(),o),Vd}function FA(t,e,n,r,o){const i=L(),s=Ad(i,t,e,n,r,o);return s!==we&&js(i,rr(),s),FA}function qo(t,e,n){YH(e)&&(e=e());const r=L();return on(r,pi(),e)&&ro(xe(),bt(),r,t,e,r[me],n,!1),qo}function yi(t,e){const n=YH(t);return n&&t.set(e),n}function Wo(t,e){const n=L(),r=xe(),o=lt();return xA(r,n,n[me],o,t,e),Wo}function LA(t,e,n,r,o){if(t=pe(t),Array.isArray(t))for(let i=0;i<t.length;i++)LA(t[i],e,n,r,o);else{const i=xe(),s=L(),a=lt();let c=Hc(t)?t:pe(t.provide);const u=pU(t),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Hc(t)||!t.multi){const p=new Tp(u,o,G),m=jA(c,e,o?l:l+h,d);-1===m?(NS(Bv(a,s),i,c),VA(i,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(p),s.push(p)):(n[m]=p,s[m]=p)}else{const p=jA(c,e,l+h,d),m=jA(c,e,l,l+h),v=m>=0&&n[m];if(o&&!v||!o&&!(p>=0&&n[p])){NS(Bv(a,s),i,c);const D=function Qme(t,e,n,r,o){const i=new Tp(t,n,G);return i.multi=[],i.index=e,i.componentProviders=0,IG(i,o,r&&!n),i}(o?Kme:Wme,n.length,o,r,u);!o&&v&&(n[m].providerFactory=D),VA(i,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),n.push(D),s.push(D)}else VA(i,t,p>-1?p:m,IG(n[o?m:p],u,!o&&r));!o&&r&&v&&n[m].componentProviders++}}}function VA(t,e,n,r){const o=Hc(e),i=function Ice(t){return!!t.useClass}(e);if(o||i){const c=(i?pe(e.useClass):e).prototype.ngOnDestroy;if(c){const u=t.destroyHooks||(t.destroyHooks=[]);if(!o&&e.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function IG(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function jA(t,e,n,r){for(let o=n;o<r;o++)if(e[o]===t)return o;return-1}function Wme(t,e,n,r){return UA(this.multi,[])}function Kme(t,e,n,r){const o=this.multi;let i;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Yc(n,n[q],this.providerFactory.index,r);i=a.slice(0,s),UA(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],UA(o,i);return i}function UA(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function $t(t,e=[]){return n=>{n.providersResolver=(r,o)=>function qme(t,e,n){const r=xe();if(r.firstCreatePass){const o=fi(t);LA(n,r.data,r.blueprint,o,!0),LA(e,r.data,r.blueprint,o,!1)}}(r,o?o(t):t,e)}}let Yme=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=XT(0,n.type),o=r.length>0?cA([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ae({token:t,providedIn:"environment",factory:()=>new t(Me(vo))})}}return t})();function $s(t){mr("NgStandalone"),t.getStandaloneInjector=e=>e.get(Yme).getOrCreateStandaloneInjector(t)}function jd(t,e,n){const r=kr()+t,o=L();return o[r]===we?Yi(o,r,n?e.call(n):e()):function sg(t,e){return t[e]}(o,r)}function CG(t,e,n,r,o,i,s){const a=e+n;return su(t,a,o,i)?Yi(t,a+2,s?r.call(s,o,i):r(o,i)):function yg(t,e){const n=t[e];return n===we?void 0:n}(t,a+2)}function du(t,e){const n=xe();let r;const o=t+oe;n.firstCreatePass?(r=function u_e(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}}(e,n.pipeRegistry),n.data[o]=r,r.onDestroy&&(n.destroyHooks??=[]).push(o,r.onDestroy)):r=n.data[o];const i=r.factory||(r.factory=$c(r.type)),a=Xr(G);try{const c=Uv(!1),u=i();return Uv(c),function kA(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,L(),o,u),u}finally{Xr(a)}}function fu(t,e,n,r){const o=t+oe,i=L(),s=function qc(t,e){return t[e]}(i,o);return function vg(t,e){return t[q].data[e].pure}(i,o)?CG(i,kr(),e,s.transform,n,r,s):s.transform(n,r)}let zA=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const WG=new K("");function wg(t){return!!t&&"function"==typeof t.then}function KG(t){return!!t&&"function"==typeof t.subscribe}const cye=new K("");let QG=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=B(cye,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(wg(i))n.push(i);else if(KG(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Cg=new K("");let GI,vi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B($ue),this.afterRenderManager=B(D3),this.zonelessEnabled=B(gd),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new go,this.afterTick=new go,this.componentTypes=[],this.components=[],this.isStable=B(Zc).hasPendingTasks.pipe(ot(n=>!n)),this._injector=B(vo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof AH;if(!this._injector.get(QG).done)throw!o&&function Pa(t){const e=Fe(t)||Rn(t)||tr(t);return null!==e&&e.standalone}(n),new j(405,!1);let s;s=o?n:this._injector.get(vI).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function uye(t){return t.isBoundToModule}(s)?void 0:this._injector.get(iu),u=s.create(or.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(WG,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),HI(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);const n=Pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(q0,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:i}of this._views)fye(o,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>Pv(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;HI(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Cg,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>HI(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new j(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function HI(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function YA(t){GI??=new WeakMap;const e=GI.get(t);if(e)return e;const n=t.isStable.pipe(Sa(r=>r)).toPromise().then(()=>{});return GI.set(t,n),t.onDestroy(()=>GI?.delete(t)),n}function fye(t,e,n,r){(n||Pv(t))&&fI(t,e,n&&!r?0:1)}class hye{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let pye=(()=>{class t{compileModuleSync(n){return new aA(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),i=Co(hr(n).declarations).reduce((s,a)=>{const c=Fe(a);return c&&s.push(new og(c)),s},[]);return new hye(r,i)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_ye=(()=>{class t{constructor(){this.zone=B(it),this.changeDetectionScheduler=B(pd),this.applicationRef=B(vi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const yye=new K("",{factory:()=>!1});function ZA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new it({...JA(),scheduleInRootZone:n}),[{provide:it,useFactory:t},{provide:ci,multi:!0,useFactory:()=>{const r=B(_ye,{optional:!0});return()=>r.initialize()}},{provide:ci,multi:!0,useFactory:()=>{const r=B(Iye);return()=>{r.initialize()}}},!0===e?{provide:SH,useValue:!0}:[],{provide:z0,useValue:n??pB}]}function JA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}let Iye=(()=>{class t{constructor(){this.subscription=new Pr,this.initialized=!1,this.zone=B(it),this.pendingTasks=B(Zc)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),bg=(()=>{class t{constructor(){this.appRef=B(vi),this.taskService=B(Zc),this.ngZone=B(it),this.zonelessEnabled=B(gd),this.disableScheduling=B(SH,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pr,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(qv):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(z0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof VS||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&5===n)return;switch(n){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const r=this.useMicrotaskScheduler?mB:gB;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>r(()=>this.tick())):this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(qv+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,mB(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Ha=new K("",{providedIn:"root",factory:()=>B(Ha,Ve.Optional|Ve.SkipSelf)||function Eye(){return typeof $localize<"u"&&$localize.locale||OI}()}),zI=new K("");function qI(t){return!t.moduleRef}let Ga=null;let $d=(()=>{class t{static{this.__NG_ELEMENT_ID__=Nye}}return t})();function Nye(t){return function Pye(t,e,n){if(zc(t)&&!n){const r=Io(t.index,e);return new Kp(r,r)}return 175&t.type?new Kp(e[Bt],e):null}(lt(),L(),!(16&~t))}class fz{constructor(){}supports(e){return CI(e)}create(e){return new Lye(e)}}const Fye=(t,e)=>e;class Lye{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Fye}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,o=0,i=null;for(;n||r;){const s=!r||n&&n.currentIndex<pz(r,o,i)?n:r,a=pz(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)o++;else{i||(i=[]);const u=a-o,l=c-o;if(u!=l){for(let h=0;h<u;h++){const p=h<i.length?i[h]:i[h]=0,m=p+h;l<=m&&m<u&&(i[h]=p+1)}i[s.previousIndex]=l-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!CI(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let o,i,s,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,i,s,a)),Object.is(n.item,i)||this._addIdentityChange(n,i)):(n=this._mismatch(n,i,s,a),r=!0),n=n._next}else o=0,function Jhe(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(o,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,o)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,o),r=!0),n=n._next,o++}),this.length=o;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,o){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,i,o)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,i,o)):e=this._addAfter(new Vye(n,r),i,o),e}_verifyReinsertion(e,n,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const o=e._prevRemoved,i=e._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const o=null===n?this._itHead:n._next;return e._next=o,e._prev=n,null===o?this._itTail=e:o._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new hz),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hz),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Vye{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jye{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class hz{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new jye,this.map.set(n,r)),r.add(e)}get(e,n){const o=this.map.get(e);return o?o.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pz(t,e,n){const r=t.previousIndex;if(null===r)return r;let o=0;return n&&r<n.length&&(o=n[r]),r+e+o}function mz(){return new iM([new fz])}let iM=(()=>{class t{static{this.\u0275prov=ae({token:t,providedIn:"root",factory:mz})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const o=r.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||mz()),deps:[[t,new WT,new qT]]}}find(n){const r=this.factories.find(o=>o.supports(n));if(null!=r)return r;throw new j(901,!1)}}return t})();function tve(t){try{const{rootComponent:e,appProviders:n,platformProviders:r}=t,o=function Rye(t=[]){if(Ga)return Ga;const e=function iz(t=[],e){return or.create({name:e,providers:[{provide:nS,useValue:"platform"},{provide:zI,useValue:new Set([()=>Ga=null])},...t]})}(t);return Ga=e,function YG(){!function lae(t){Tj=t}(()=>{throw new j(600,!1)})}(),function sz(t){t.get(BB,null)?.forEach(n=>n())}(e),e}(r),i=[ZA({}),{provide:pd,useExisting:bg},...n||[]];return function nz(t){const e=qI(t)?t.r3Injector:t.moduleRef.injector,n=e.get(it);return n.run(()=>{qI(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();const r=e.get(Ki,null);let o;if(n.runOutsideAngular(()=>{o=n.onError.subscribe({next:i=>{r.handleError(i)}})}),qI(t)){const i=()=>e.destroy(),s=t.platformInjector.get(zI);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else{const i=()=>t.moduleRef.destroy(),s=t.platformInjector.get(zI);s.add(i),t.moduleRef.onDestroy(()=>{HI(t.allPlatformModules,t.moduleRef),o.unsubscribe(),s.delete(i)})}return function dye(t,e,n){try{const r=n();return wg(r)?r.catch(o=>{throw e.runOutsideAngular(()=>t.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(r,n,()=>{const i=e.get(QG);return i.runInitializers(),i.donePromise.then(()=>{if(function jge(t){"string"==typeof t&&(I4=t.toLowerCase().replace(/_/g,"-"))}(e.get(Ha,OI)||OI),qI(t)){const a=e.get(vi);return void 0!==t.rootComponent&&a.bootstrap(t.rootComponent),a}return function Sye(t,e){const n=t.injector.get(vi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new j(-403,!1);t.instance.ngDoBootstrap(n)}e.push(t)}(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}({r3Injector:new p3({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1}).injector,platformInjector:o,rootComponent:e})}catch(e){return Promise.reject(e)}}let Vz=!1;function Ive(){return Gl([{provide:Xv,useFactory:()=>{let t=!0;return bo()&&(t=!!B(od,{optional:!0})?.get(YS,null)),t&&mr("NgHydration"),t}},{provide:ci,useValue:()=>{(function DH(t){IH=t})(!1),bo()&&B(Xv)&&(function Eve(){const t=ka();let e;for(const n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&"nghm"===n.textContent?.trim()){e=n;break}if(!e)throw new j(-507,!1)}(),function _ve(){Vz||(Vz=!0,function yle(){HB=_le}(),function Mge(){h4=Age}(),function Hme(){lG=$me}(),function Pge(){g4=Nge}(),function npe(){g3=tpe}(),function Dhe(){LH=Ehe,Y0=Ihe}(),function ehe(){TH=Xfe}(),function Ade(){$$=Sde}())}())},multi:!0},{provide:ZB,useFactory:()=>bo()&&B(Xv)},{provide:Cg,useFactory:()=>{if(bo()&&B(Xv)){const t=B(vi);return B(or),()=>{(function vve(t){return YA(t)})(t).then(()=>{!function Zfe(t){const e=t._views;for(const n of e){const r=GB(n);null!==r&&null!==r[Ut]&&(Pn(r)?yI(r):bH(r))}}(t)})}}return()=>{}},multi:!0}])}function Hd(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function Mg(t,e){mr("NgSignals");const n=function aae(t){const e=Object.create(cae);e.computation=t;const n=()=>{if(vj(e),mT(e),e.value===iv)throw e.error;return e.value};return n[ai]=e,n}(t);return e?.equal&&(n[ai].equal=e.equal),n}function ns(t){const e=Pe(null);try{return t()}finally{Pe(e)}}let Uz=null;function za(){return Uz}class Mve{}const rs=new K("");let Bz=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>B(Rve),providedIn:"platform"})}}return t})(),Rve=(()=>{class t extends Bz{constructor(){super(),this._doc=B(rs),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return za().getBaseHref(this._doc)}onPopState(n){const r=za().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=za().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,o){this._history.pushState(n,r,o)}replaceState(n,r,o){this._history.replaceState(n,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function $z(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Hz(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function pu(t){return t&&"?"!==t[0]?"?"+t:t}let nE=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>B(Pve),providedIn:"root"})}}return t})();const Nve=new K("");let Pve=(()=>{class t extends nE{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(rs).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return $z(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+pu(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${r}${o}`:r}pushState(n,r,o,i){const s=this.prepareExternalUrl(o+pu(i));this._platformLocation.pushState(n,r,s)}replaceState(n,r,o,i){const s=this.prepareExternalUrl(o+pu(i));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(Me(Bz),Me(Nve,8))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Rg=(()=>{class t{constructor(n){this._subject=new Yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function kve(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Hz(Gz(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+pu(r))}normalize(n){return t.stripTrailingSlash(function Ove(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,Gz(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",o=null){this._locationStrategy.pushState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pu(r)),o)}replaceState(n,r="",o=null){this._locationStrategy.replaceState(o,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+pu(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(o=>o(n,r))}subscribe(n,r,o){return this._subject.subscribe({next:n,error:r,complete:o})}static{this.normalizeQueryParams=pu}static{this.joinWithSlash=$z}static{this.stripTrailingSlash=Hz}static{this.\u0275fac=function(r){return new(r||t)(Me(nE))}}static{this.\u0275prov=ae({token:t,factory:()=>function xve(){return new Rg(Me(nE))}(),providedIn:"root"})}}return t})();function Gz(t){return t.replace(/\/index.html$/,"")}var jr=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(jr||{}),_t=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(_t||{}),So=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(So||{});const vn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function oE(t,e){return Qo(Lr(t)[Tt.DateFormat],e)}function iE(t,e){return Qo(Lr(t)[Tt.TimeFormat],e)}function sE(t,e){return Qo(Lr(t)[Tt.DateTimeFormat],e)}function Ko(t,e){const n=Lr(t),r=n[Tt.NumberSymbols][e];if(typeof r>"u"){if(e===vn.CurrencyDecimal)return n[Tt.NumberSymbols][vn.Decimal];if(e===vn.CurrencyGroup)return n[Tt.NumberSymbols][vn.Group]}return r}function qz(t){if(!t[Tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Qo(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function uM(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const Qve=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,aE={},Yve=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Hs=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Hs||{}),Xe=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Xe||{}),et=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(et||{});function Zve(t,e,n,r){let o=function sIe(t){if(Qz(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[o,i=1,s=1]=t.split("-").map(a=>+a);return cE(o,i-1,s)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(Qve))return function aIe(t){const e=new Date(0);let n=0,r=0;const o=t[8]?e.setUTCFullYear:e.setFullYear,i=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),o.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return i.call(e,s,a,c,u),e}(r)}const e=new Date(t);if(!Qz(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=Gs(n,e)||e;let a,s=[];for(;e;){if(a=Yve.exec(e),!a){s.push(e);break}{s=s.concat(a.slice(1));const l=s.pop();if(!l)break;e=l}}let c=o.getTimezoneOffset();r&&(c=Kz(r,c),o=function iIe(t,e,n){const r=n?-1:1,o=t.getTimezoneOffset();return function oIe(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(Kz(e,o)-o))}(o,r,!0));let u="";return s.forEach(l=>{const d=function rIe(t){if(dM[t])return dM[t];let e;switch(t){case"G":case"GG":case"GGG":e=At(et.Eras,_t.Abbreviated);break;case"GGGG":e=At(et.Eras,_t.Wide);break;case"GGGGG":e=At(et.Eras,_t.Narrow);break;case"y":e=In(Xe.FullYear,1,0,!1,!0);break;case"yy":e=In(Xe.FullYear,2,0,!0,!0);break;case"yyy":e=In(Xe.FullYear,3,0,!1,!0);break;case"yyyy":e=In(Xe.FullYear,4,0,!1,!0);break;case"Y":e=fE(1);break;case"YY":e=fE(2,!0);break;case"YYY":e=fE(3);break;case"YYYY":e=fE(4);break;case"M":case"L":e=In(Xe.Month,1,1);break;case"MM":case"LL":e=In(Xe.Month,2,1);break;case"MMM":e=At(et.Months,_t.Abbreviated);break;case"MMMM":e=At(et.Months,_t.Wide);break;case"MMMMM":e=At(et.Months,_t.Narrow);break;case"LLL":e=At(et.Months,_t.Abbreviated,jr.Standalone);break;case"LLLL":e=At(et.Months,_t.Wide,jr.Standalone);break;case"LLLLL":e=At(et.Months,_t.Narrow,jr.Standalone);break;case"w":e=lM(1);break;case"ww":e=lM(2);break;case"W":e=lM(1,!0);break;case"d":e=In(Xe.Date,1);break;case"dd":e=In(Xe.Date,2);break;case"c":case"cc":e=In(Xe.Day,1);break;case"ccc":e=At(et.Days,_t.Abbreviated,jr.Standalone);break;case"cccc":e=At(et.Days,_t.Wide,jr.Standalone);break;case"ccccc":e=At(et.Days,_t.Narrow,jr.Standalone);break;case"cccccc":e=At(et.Days,_t.Short,jr.Standalone);break;case"E":case"EE":case"EEE":e=At(et.Days,_t.Abbreviated);break;case"EEEE":e=At(et.Days,_t.Wide);break;case"EEEEE":e=At(et.Days,_t.Narrow);break;case"EEEEEE":e=At(et.Days,_t.Short);break;case"a":case"aa":case"aaa":e=At(et.DayPeriods,_t.Abbreviated);break;case"aaaa":e=At(et.DayPeriods,_t.Wide);break;case"aaaaa":e=At(et.DayPeriods,_t.Narrow);break;case"b":case"bb":case"bbb":e=At(et.DayPeriods,_t.Abbreviated,jr.Standalone,!0);break;case"bbbb":e=At(et.DayPeriods,_t.Wide,jr.Standalone,!0);break;case"bbbbb":e=At(et.DayPeriods,_t.Narrow,jr.Standalone,!0);break;case"B":case"BB":case"BBB":e=At(et.DayPeriods,_t.Abbreviated,jr.Format,!0);break;case"BBBB":e=At(et.DayPeriods,_t.Wide,jr.Format,!0);break;case"BBBBB":e=At(et.DayPeriods,_t.Narrow,jr.Format,!0);break;case"h":e=In(Xe.Hours,1,-12);break;case"hh":e=In(Xe.Hours,2,-12);break;case"H":e=In(Xe.Hours,1);break;case"HH":e=In(Xe.Hours,2);break;case"m":e=In(Xe.Minutes,1);break;case"mm":e=In(Xe.Minutes,2);break;case"s":e=In(Xe.Seconds,1);break;case"ss":e=In(Xe.Seconds,2);break;case"S":e=In(Xe.FractionalSeconds,1);break;case"SS":e=In(Xe.FractionalSeconds,2);break;case"SSS":e=In(Xe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=lE(Hs.Short);break;case"ZZZZZ":e=lE(Hs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=lE(Hs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=lE(Hs.Long);break;default:return null}return dM[t]=e,e}(l);u+=d?d(o,n,c):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function cE(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function Gs(t,e){const n=function Lve(t){return Lr(t)[Tt.LocaleId]}(t);if(aE[n]??={},aE[n][e])return aE[n][e];let r="";switch(e){case"shortDate":r=oE(t,So.Short);break;case"mediumDate":r=oE(t,So.Medium);break;case"longDate":r=oE(t,So.Long);break;case"fullDate":r=oE(t,So.Full);break;case"shortTime":r=iE(t,So.Short);break;case"mediumTime":r=iE(t,So.Medium);break;case"longTime":r=iE(t,So.Long);break;case"fullTime":r=iE(t,So.Full);break;case"short":const o=Gs(t,"shortTime"),i=Gs(t,"shortDate");r=uE(sE(t,So.Short),[o,i]);break;case"medium":const s=Gs(t,"mediumTime"),a=Gs(t,"mediumDate");r=uE(sE(t,So.Medium),[s,a]);break;case"long":const c=Gs(t,"longTime"),u=Gs(t,"longDate");r=uE(sE(t,So.Long),[c,u]);break;case"full":const l=Gs(t,"fullTime"),d=Gs(t,"fullDate");r=uE(sE(t,So.Full),[l,d])}return r&&(aE[n][e]=r),r}function uE(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function Ii(t,e,n="-",r,o){let i="";(t<0||o&&t<=0)&&(o?t=1-t:(t=-t,i=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),i+s}function In(t,e,n=0,r=!1,o=!1){return function(i,s){let a=function Xve(t,e){switch(t){case Xe.FullYear:return e.getFullYear();case Xe.Month:return e.getMonth();case Xe.Date:return e.getDate();case Xe.Hours:return e.getHours();case Xe.Minutes:return e.getMinutes();case Xe.Seconds:return e.getSeconds();case Xe.FractionalSeconds:return e.getMilliseconds();case Xe.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,i);if((n>0||a>-n)&&(a+=n),t===Xe.Hours)0===a&&-12===n&&(a=12);else if(t===Xe.FractionalSeconds)return function Jve(t,e){return Ii(t,3).substring(0,e)}(a,e);const c=Ko(s,vn.MinusSign);return Ii(a,e,c,r,o)}}function At(t,e,n=jr.Format,r=!1){return function(o,i){return function eIe(t,e,n,r,o,i){switch(n){case et.Months:return function Uve(t,e,n){const r=Lr(t),i=Qo([r[Tt.MonthsFormat],r[Tt.MonthsStandalone]],e);return Qo(i,n)}(e,o,r)[t.getMonth()];case et.Days:return function jve(t,e,n){const r=Lr(t),i=Qo([r[Tt.DaysFormat],r[Tt.DaysStandalone]],e);return Qo(i,n)}(e,o,r)[t.getDay()];case et.DayPeriods:const s=t.getHours(),a=t.getMinutes();if(i){const u=function Gve(t){const e=Lr(t);return qz(e),(e[Tt.ExtraData][2]||[]).map(r=>"string"==typeof r?uM(r):[uM(r[0]),uM(r[1])])}(e),l=function zve(t,e,n){const r=Lr(t);qz(r);const i=Qo([r[Tt.ExtraData][0],r[Tt.ExtraData][1]],e)||[];return Qo(i,n)||[]}(e,o,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[p,m]=h,y=s>=p.hours&&a>=p.minutes,v=s<m.hours||s===m.hours&&a<m.minutes;if(p.hours<m.hours){if(y&&v)return!0}else if(y||v)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function Vve(t,e,n){const r=Lr(t),i=Qo([r[Tt.DayPeriodsFormat],r[Tt.DayPeriodsStandalone]],e);return Qo(i,n)}(e,o,r)[s<12?0:1];case et.Eras:return function Bve(t,e){return Qo(Lr(t)[Tt.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,i,t,e,n,r)}}function lE(t){return function(e,n,r){const o=-1*r,i=Ko(n,vn.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(t){case Hs.Short:return(o>=0?"+":"")+Ii(s,2,i)+Ii(Math.abs(o%60),2,i);case Hs.ShortGMT:return"GMT"+(o>=0?"+":"")+Ii(s,1,i);case Hs.Long:return"GMT"+(o>=0?"+":"")+Ii(s,2,i)+":"+Ii(Math.abs(o%60),2,i);case Hs.Extended:return 0===r?"Z":(o>=0?"+":"")+Ii(s,2,i)+":"+Ii(Math.abs(o%60),2,i);default:throw new Error(`Unknown zone width "${t}"`)}}}const tIe=0,dE=4;function Wz(t){const e=t.getDay(),n=0===e?-3:dE-e;return cE(t.getFullYear(),t.getMonth(),t.getDate()+n)}function lM(t,e=!1){return function(n,r){let o;if(e){const i=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();o=1+Math.floor((s+i)/7)}else{const i=Wz(n),s=function nIe(t){const e=cE(t,tIe,1).getDay();return cE(t,0,1+(e<=dE?dE:dE+7)-e)}(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Ii(o,t,Ko(r,vn.MinusSign))}}function fE(t,e=!1){return function(n,r){return Ii(Wz(n).getFullYear(),t,Ko(r,vn.MinusSign),e)}}const dM={};function Kz(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Qz(t){return t instanceof Date&&!isNaN(t.valueOf())}class DIe{constructor(e,n,r,o){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pE=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,o){this._viewContainer=n,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new DIe(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),tq(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{tq(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(G(gi),G(Us),G(iM))}}static{this.\u0275dir=Ie({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function tq(t,e){t.context.$implicit=e.item}let zd=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new wIe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){nq("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){nq("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(G(gi),G(Us))}}static{this.\u0275dir=Ie({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})();class wIe{constructor(){this.$implicit=null,this.ngIf=null}}function nq(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Mn(e)}'.`)}const FIe=new K(""),LIe=new K("");let oq=(()=>{class t{constructor(n,r,o){this.locale=n,this.defaultTimezone=r,this.defaultOptions=o}transform(n,r,o,i){if(null==n||""===n||n!=n)return null;try{return Zve(n,r??this.defaultOptions?.dateFormat??"mediumDate",i||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw function Ei(t,e){return new j(2100,!1)}()}}static{this.\u0275fac=function(r){return new(r||t)(G(Ha,16),G(FIe,24),G(LIe,24))}}static{this.\u0275pipe=to({name:"date",type:t,pure:!0,standalone:!0})}}return t})(),qd=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_p({type:t})}static{this.\u0275inj=Ul({})}}return t})();const WIe="server";function DM(t){return t===WIe}function TM(t){return t[t.length-1]}function _q(t){return Ot(TM(t))?t.pop():void 0}function yE(t){return function wEe(t){return t&&Ot(t.schedule)}(TM(t))?t.pop():void 0}function qa(t){return this instanceof qa?(this.v=t,this):new qa(t)}function Eq(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function RM(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Dq=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function wq(t){return Ot(t?.then)}function Cq(t){return Ot(t[NT])}function bq(t){return Symbol.asyncIterator&&Ot(t?.[Symbol.asyncIterator])}function Tq(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Sq=function YEe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Aq(t){return Ot(t?.[Sq])}function Mq(t){return function Iq(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(t,e||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(p){return function(m){return Promise.resolve(m).then(p,d)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(p,m){r[p]&&(o[p]=function(y){return new Promise(function(v,D){i.push([p,y,v,D])>1||c(p,y)})},m&&(o[p]=m(o[p])))}function c(p,m){try{!function u(p){p.value instanceof qa?Promise.resolve(p.value.v).then(l,d):h(i[0][2],p)}(r[p](m))}catch(y){h(i[0][3],y)}}function l(p){c("next",p)}function d(p){c("throw",p)}function h(p,m){p(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:o}=yield qa(n.read());if(o)return yield qa(void 0);yield yield qa(r)}}finally{n.releaseLock()}})}function Rq(t){return Ot(t?.getReader)}function os(t){if(t instanceof Sn)return t;if(null!=t){if(Cq(t))return function ZEe(t){return new Sn(e=>{const n=t[NT]();if(Ot(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(Dq(t))return function JEe(t){return new Sn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(wq(t))return function XEe(t){return new Sn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xj)})}(t);if(bq(t))return Nq(t);if(Aq(t))return function eDe(t){return new Sn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Rq(t))return function tDe(t){return Nq(Mq(t))}(t)}throw Tq(t)}function Nq(t){return new Sn(e=>{(function nDe(t,e){var n,r,o,i;return function yq(t,e,n,r){return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Eq(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function zs(t,e,n,r=0,o=!1){const i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function Pq(t,e=0){return er((n,r)=>{n.subscribe(An(r,o=>zs(r,t,()=>r.next(o),e),()=>zs(r,t,()=>r.complete(),e),o=>zs(r,t,()=>r.error(o),e)))})}function xq(t,e=0){return er((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Oq(t,e){if(!t)throw new Error("Iterable cannot be null");return new Sn(n=>{zs(n,e,()=>{const r=t[Symbol.asyncIterator]();zs(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function _r(t,e){return e?function cDe(t,e){if(null!=t){if(Cq(t))return function rDe(t,e){return os(t).pipe(xq(e),Pq(e))}(t,e);if(Dq(t))return function iDe(t,e){return new Sn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(wq(t))return function oDe(t,e){return os(t).pipe(xq(e),Pq(e))}(t,e);if(bq(t))return Oq(t,e);if(Aq(t))return function sDe(t,e){return new Sn(n=>{let r;return zs(n,e,()=>{r=t[Sq](),zs(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>Ot(r?.return)&&r.return()})}(t,e);if(Rq(t))return function aDe(t,e){return Oq(Mq(t),e)}(t,e)}throw Tq(t)}(t,e):os(t)}function Ae(...t){return _r(t,yE(t))}function yr(t,e,n){const r=Ot(t)||e||n?{next:t,error:e,complete:n}:t;return r?er((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(An(i,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),i.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Bc}class gu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const o=n.slice(0,r),i=o.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof gu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new gu;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof gu?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const o=("a"===e.op?this.headers.get(n):void 0)||[];o.push(...r),this.headers.set(n,o);break;case"d":const i=e.value;if(i){let s=this.headers.get(n);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}var xM=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(xM||{});class OM{constructor(e,n=200,r="OK"){this.headers=e.headers||new gu,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class IE extends OM{constructor(e={}){super(e),this.type=xM.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new IE({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}const DDe=new K(""),ODe=new K(""),Qq="b",Yq="h",Zq="s",Jq="st",Xq="u",e8="rt",DE=new K(""),kDe=["GET","HEAD"];function FDe(t,e){const{isCacheActive:n,...r}=B(DE),{transferCache:o,method:i}=t;if(!n||!1===o||"POST"===i&&!r.includePostRequests&&!o||"POST"!==i&&!kDe.includes(i)||!r.includeRequestsWithAuthHeaders&&function LDe(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}(t)||!1===r.filter?.(t))return e(t);const s=B(od),a=B(ODe,{optional:!0}),c=DM(B(Fa));if(a&&!c)throw new j(2803,!1);const u=c&&a?function $De(t,e){const n=new URL(t,"resolve://").origin,r=e[n];return r?t.replace(n,r):t}(t.url,a):t.url,l=function jDe(t,e){const{params:n,method:r,responseType:o}=t,i=t8(n);let s=t.serializeBody();s instanceof URLSearchParams?s=t8(s):"string"!=typeof s&&(s="");const c=function UDe(t){let e=0;for(const n of t)e=Math.imul(31,e)+n.charCodeAt(0)|0;return e+=2147483648,e.toString()}([r,o,e,s,i].join("|"));return c}(t,u),d=s.get(l,null);let h=r.includeHeaders;if("object"==typeof o&&o.includeHeaders&&(h=o.includeHeaders),d){const{[Qq]:p,[e8]:m,[Yq]:y,[Zq]:v,[Jq]:D,[Xq]:I}=d;let A=p;switch(m){case"arraybuffer":A=(new TextEncoder).encode(p).buffer;break;case"blob":A=new Blob([p])}let k=new gu(y);return Ae(new IE({body:A,headers:k,status:v,statusText:D,url:I}))}return e(t).pipe(yr(p=>{p instanceof IE&&c&&s.set(l,{[Qq]:p.body,[Yq]:VDe(p.headers,h),[Zq]:p.status,[Jq]:p.statusText,[Xq]:u,[e8]:t.responseType})}))}function VDe(t,e){if(!e)return{};const n={};for(const r of e){const o=t.getAll(r);null!==o&&(n[r]=o)}return n}function t8(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function BDe(t){return[{provide:DE,useFactory:()=>(mr("NgHttpTransferCache"),{isCacheActive:!0,...t})},{provide:DDe,useValue:FDe,multi:!0,deps:[od,DE]},{provide:Cg,multi:!0,useFactory:()=>{const e=B(vi),n=B(DE);return()=>{YA(e).then(()=>{n.isCacheActive=!1})}}}]}class HDe extends Mve{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class LM extends HDe{static makeCurrent(){!function Ave(t){Uz??=t}(new LM)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function GDe(){return kg=kg||document.querySelector("base"),kg?kg.getAttribute("href"):null}();return null==n?null:function zDe(t){return new URL(t,document.baseURI).pathname}(n)}resetBaseElement(){kg=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function vIe(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,e)}}let kg=null,WDe=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})();const VM=new K("");let n8=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(i=>i.supports(n)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(Me(VM),Me(it))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})();class r8{constructor(e){this._doc=e}}const jM="ng-app-id";let o8=(()=>{class t{constructor(n,r,o,i={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=DM(i),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${jM}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){const o=this.styleRef;if(o.has(n)){const i=o.get(n);return i.usage+=r,i.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const o=this.styleNodesInDOM,i=o?.get(r);if(i?.parentNode===n)return o.delete(r),i.removeAttribute(jM),i;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(jM,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){const o=this.getStyleElement(n,r),i=this.styleRef,s=i.get(r)?.elements;s?s.push(o):i.set(r,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(Me(rs),Me(Op),Me($B,8),Me(Fa))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})();const UM={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},BM=/%COMP%/g,ZDe=new K("",{providedIn:"root",factory:()=>!0});function s8(t,e){return e.map(n=>n.replace(BM,t))}let a8=(()=>{class t{constructor(n,r,o,i,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=DM(a),this.defaultRenderer=new $M(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ui.ShadowDom&&(r={...r,encapsulation:ui.Emulated});const o=this.getOrCreateRenderer(n,r);return o instanceof u8?o.applyToHost(n):o instanceof HM&&o.applyStyles(),o}getOrCreateRenderer(n,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case ui.Emulated:i=new u8(c,u,r,this.appId,l,s,a,d);break;case ui.ShadowDom:return new twe(c,u,n,r,s,a,this.nonce,d);default:i=new HM(c,u,r,l,s,a,d)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(Me(n8),Me(o8),Me(Op),Me(ZDe),Me(rs),Me(Fa),Me(it),Me($B))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})();class $M{constructor(e,n,r,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(UM[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(c8(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(c8(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,o){if(o){n=o+":"+n;const i=UM[o];i?e.setAttributeNS(i,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const o=UM[r];o?e.removeAttributeNS(o,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,o){o&(Va.DashCase|Va.Important)?e.style.setProperty(n,r,o&Va.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Va.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){null!=e&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=za().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function c8(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class twe extends $M{constructor(e,n,r,o,i,s,a,c){super(e,i,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=s8(o.id,o.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class HM extends $M{constructor(e,n,r,o,i,s,a,c){super(e,i,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=o,this.styles=c?s8(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class u8 extends HM{constructor(e,n,r,o,i,s,a,c){const u=o+"-"+r.id;super(e,n,r,i,s,a,c,u),this.contentAttr=function JDe(t){return"_ngcontent-%COMP%".replace(BM,t)}(u),this.hostAttr=function XDe(t){return"_nghost-%COMP%".replace(BM,t)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}const l8=["alt","control","meta","shift"],rwe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},owe={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};function d8(t){return{appProviders:[...fwe,...t?.providers??[]],platformProviders:lwe}}const lwe=[{provide:Fa,useValue:"browser"},{provide:BB,useValue:function awe(){LM.makeCurrent()},multi:!0},{provide:rs,useFactory:function uwe(){return function lle(t){GS=t}(document),document},deps:[]}],fwe=[{provide:nS,useValue:"root"},{provide:Ki,useFactory:function cwe(){return new Ki},deps:[]},{provide:VM,useClass:(()=>{class t extends r8{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||t)(Me(rs))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})(),multi:!0,deps:[rs,it,Fa]},{provide:VM,useClass:(()=>{class t extends r8{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,o){const i=t.parseEventName(r),s=t.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>za().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=t._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),l8.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let o=rwe[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),l8.forEach(s=>{s!==o&&(0,owe[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{t.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(Me(rs))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac})}}return t})(),multi:!0,deps:[rs]},a8,o8,n8,{provide:q0,useExisting:a8},{provide:class QIe{},useClass:WDe,deps:[]},[]];let hwe=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(Me(rs))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var _u=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t}(_u||{});const{isArray:vwe}=Array,{getPrototypeOf:Iwe,prototype:Ewe,keys:Dwe}=Object;function p8(t){if(1===t.length){const e=t[0];if(vwe(e))return{args:e,keys:null};if(function wwe(t){return t&&"object"==typeof t&&Iwe(t)===Ewe}(e)){const n=Dwe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:Cwe}=Array;function g8(t){return ot(e=>function bwe(t,e){return Cwe(e)?t(...e):t(e)}(t,e))}function m8(t,e){return t.reduce((n,r,o)=>(n[r]=e[o],n),{})}function _8(...t){const e=yE(t),n=_q(t),{args:r,keys:o}=p8(t);if(0===r.length)return _r([],e);const i=new Sn(function Twe(t,e,n=Bc){return r=>{y8(e,()=>{const{length:o}=t,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)y8(e,()=>{const u=_r(t[c],e);let l=!1;u.subscribe(An(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(n(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,o?s=>m8(o,s):Bc));return n?i.pipe(g8(n)):i}function y8(t,e,n){t?zs(n,t,e):e()}function Ur(t,e,n=1/0){return Ot(e)?Ur((r,o)=>ot((i,s)=>e(r,i,o,s))(os(t(r,o))),n):("number"==typeof e&&(n=e),er((r,o)=>function Swe(t,e,n,r,o,i,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},p=y=>u<r?m(y):c.push(y),m=y=>{i&&e.next(y),u++;let v=!1;os(n(y,l++)).subscribe(An(e,D=>{o?.(D),i?p(D):e.next(D)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){const D=c.shift();s?zs(e,s,()=>m(D)):m(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(An(e,p,()=>{d=!0,h()})),()=>{a?.()}}(r,o,t,n)))}function zM(...t){return function Awe(){return function GM(t=1/0){return Ur(Bc,t)}(1)}()(_r(t,yE(t)))}function v8(t){return new Sn(e=>{os(t()).subscribe(e)})}function CE(t,e){const n=Ot(t)?t:()=>t,r=o=>o.error(n());return new Sn(e?o=>e.schedule(r,0,o):r)}function qM(){return er((t,e)=>{let n=null;t._refCount++;const r=An(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class I8 extends Sn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lj(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pr;const n=this.getSubject();e.add(this.source.subscribe(An(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pr.EMPTY)}return e}refCount(){return qM()(this)}}function qs(t,e){return er((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(An(r,c=>{o?.unsubscribe();let u=0;const l=i++;os(t(c,l)).subscribe(o=An(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function bE(t,e){return Ot(e)?Ur(t,e,1):Ur(t,1)}function Kd(t){return er((e,n)=>{let i,r=null,o=!1;r=e.subscribe(An(n,void 0,void 0,s=>{i=os(t(s,Kd(t)(e))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function WM(t){return t<=0?()=>Bi:er((e,n)=>{let r=[];e.subscribe(An(n,o=>{r.push(o),t<r.length&&r.shift()},()=>{for(const o of r)n.next(o);n.complete()},void 0,()=>{r=null}))})}function KM(t){return er((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const Ne="primary",Fg=Symbol("RouteTitle");class kwe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Qd(t){return new kwe(t)}function Fwe(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=t[i];if(":"===s[0])o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}function is(t,e){const n=t?QM(t):void 0,r=e?QM(e):void 0;if(!n||!r||n.length!=r.length)return!1;let o;for(let i=0;i<n.length;i++)if(o=n[i],!E8(t[o],e[o]))return!1;return!0}function QM(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function E8(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((o,i)=>r[i]===o)}return t===e}function D8(t){return t.length>0?t[t.length-1]:null}function Ka(t){return function ywe(t){return!!t&&(t instanceof Sn||Ot(t.lift)&&Ot(t.subscribe))}(t)?t:wg(t)?_r(Promise.resolve(t)):Ae(t)}const Vwe={exact:function b8(t,e,n){if(!vu(t.segments,e.segments)||!TE(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!b8(t.children[r],e.children[r],n))return!1;return!0},subset:T8},w8={exact:function jwe(t,e){return is(t,e)},subset:function Uwe(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>E8(t[n],e[n]))},ignored:()=>!0};function C8(t,e,n){return Vwe[n.paths](t.root,e.root,n.matrixParams)&&w8[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function T8(t,e,n){return S8(t,e,e.segments,n)}function S8(t,e,n,r){if(t.segments.length>n.length){const o=t.segments.slice(0,n.length);return!(!vu(o,n)||e.hasChildren()||!TE(o,n,r))}if(t.segments.length===n.length){if(!vu(t.segments,n)||!TE(t.segments,n,r))return!1;for(const o in e.children)if(!t.children[o]||!T8(t.children[o],e.children[o],r))return!1;return!0}{const o=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!(vu(t.segments,o)&&TE(t.segments,o,r)&&t.children[Ne])&&S8(t.children[Ne],e,i,r)}}function TE(t,e,n){return e.every((r,o)=>w8[n](t[o].parameters,r.parameters))}class yu{constructor(e=new gt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qd(this.queryParams),this._queryParamMap}toString(){return Hwe.serialize(this)}}class gt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return AE(this)}}class Lg{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qd(this.parameters),this._parameterMap}toString(){return R8(this)}}function vu(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Yd=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>new SE,providedIn:"root"})}}return t})();class SE{parse(e){const n=new eCe(e);return new yu(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Vg(e.root,!0)}`,r=function qwe(t){const e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(o=>`${ME(n)}=${ME(o)}`).join("&"):`${ME(n)}=${ME(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Gwe(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Hwe=new SE;function AE(t){return t.segments.map(e=>R8(e)).join("/")}function Vg(t,e){if(!t.hasChildren())return AE(t);if(e){const n=t.children[Ne]?Vg(t.children[Ne],!1):"",r=[];return Object.entries(t.children).forEach(([o,i])=>{o!==Ne&&r.push(`${o}:${Vg(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function $we(t,e){let n=[];return Object.entries(t.children).forEach(([r,o])=>{r===Ne&&(n=n.concat(e(o,r)))}),Object.entries(t.children).forEach(([r,o])=>{r!==Ne&&(n=n.concat(e(o,r)))}),n}(t,(r,o)=>o===Ne?[Vg(t.children[Ne],!1)]:[`${o}:${Vg(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ne]?`${AE(t)}/${n[0]}`:`${AE(t)}/(${n.join("//")})`}}function A8(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ME(t){return A8(t).replace(/%3B/gi,";")}function YM(t){return A8(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function RE(t){return decodeURIComponent(t)}function M8(t){return RE(t.replace(/\+/g,"%20"))}function R8(t){return`${YM(t.path)}${function zwe(t){return Object.entries(t).map(([e,n])=>`;${YM(e)}=${YM(n)}`).join("")}(t.parameters)}`}const Wwe=/^[^\/()?;#]+/;function ZM(t){const e=t.match(Wwe);return e?e[0]:""}const Kwe=/^[^\/()?;=#]+/,Ywe=/^[^=?&#]+/,Jwe=/^[^&#]+/;class eCe{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new gt([],{}):new gt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ne]=new gt(e,n)),r}parseSegment(){const e=ZM(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Lg(RE(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Qwe(t){const e=t.match(Kwe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=ZM(this.remaining);o&&(r=o,this.capture(r))}e[RE(n)]=RE(r)}parseQueryParam(e){const n=function Zwe(t){const e=t.match(Ywe);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Xwe(t){const e=t.match(Jwe);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=M8(n),i=M8(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=ZM(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new j(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=Ne);const s=this.parseChildren();n[i]=1===Object.keys(s).length?s[Ne]:new gt([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}}function N8(t){return t.segments.length>0?new gt([],{[Ne]:t}):t}function P8(t){const e={};for(const[r,o]of Object.entries(t.children)){const i=P8(o);if(r===Ne&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}return function tCe(t){if(1===t.numberOfChildren&&t.children[Ne]){const e=t.children[Ne];return new gt(t.segments.concat(e.segments),e.children)}return t}(new gt(t.segments,e))}function Iu(t){return t instanceof yu}function x8(t){let e;const o=N8(function n(i){const s={};for(const c of i.children){const u=n(c);s[c.outlet]=u}const a=new gt(i.url,s);return i===t&&(e=a),a}(t.root));return e??o}function O8(t,e,n,r){let o=t;for(;o.parent;)o=o.parent;if(0===e.length)return JM(o,o,o,n,r);const i=function rCe(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new F8(!0,0,t);let e=0,n=!1;const r=t.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new F8(n,e,r)}(e);if(i.toRoot())return JM(o,o,new gt([],{}),n,r);const s=function oCe(t,e,n){if(t.isAbsolute)return new PE(e,!0,0);if(!n)return new PE(e,!1,NaN);if(null===n.parent)return new PE(n,!0,0);const r=NE(t.commands[0])?0:1;return function iCe(t,e,n){let r=t,o=e,i=n;for(;i>o;){if(i-=o,r=r.parent,!r)throw new j(4005,!1);o=r.segments.length}return new PE(r,!1,o-i)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(i,o,t),a=s.processChildren?Ug(s.segmentGroup,s.index,i.commands):L8(s.segmentGroup,s.index,i.commands);return JM(o,s.segmentGroup,a,n,r)}function NE(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function jg(t){return"object"==typeof t&&null!=t&&t.outlets}function JM(t,e,n,r,o){let s,i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=t===e?n:k8(t,e,n);const a=N8(P8(s));return new yu(a,i,o)}function k8(t,e,n){const r={};return Object.entries(t.children).forEach(([o,i])=>{r[o]=i===e?n:k8(i,e,n)}),new gt(t.segments,r)}class F8{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&NE(r[0]))throw new j(4003,!1);const o=r.find(jg);if(o&&o!==D8(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class PE{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function L8(t,e,n){if(t??=new gt([],{}),0===t.segments.length&&t.hasChildren())return Ug(t,e,n);const r=function aCe(t,e,n){let r=0,o=e;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<t.segments.length;){if(r>=n.length)return i;const s=t.segments[o],a=n[r];if(jg(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!j8(c,u,s))return i;r+=2}else{if(!j8(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const i=new gt(t.segments.slice(0,r.pathIndex),{});return i.children[Ne]=new gt(t.segments.slice(r.pathIndex),t.children),Ug(i,0,o)}return r.match&&0===o.length?new gt(t.segments,{}):r.match&&!t.hasChildren()?XM(t,e,n):r.match?Ug(t,0,o):XM(t,e,n)}function Ug(t,e,n){if(0===n.length)return new gt(t.segments,{});{const r=function sCe(t){return jg(t[0])?t[0].outlets:{[Ne]:t}}(n),o={};if(Object.keys(r).some(i=>i!==Ne)&&t.children[Ne]&&1===t.numberOfChildren&&0===t.children[Ne].segments.length){const i=Ug(t.children[Ne],e,n);return new gt(t.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=L8(t.children[i],e,s))}),Object.entries(t.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new gt(t.segments,o)}}function XM(t,e,n){const r=t.segments.slice(0,e);let o=0;for(;o<n.length;){const i=n[o];if(jg(i)){const c=cCe(i.outlets);return new gt(r,c)}if(0===o&&NE(n[0])){r.push(new Lg(t.segments[e].path,V8(n[0]))),o++;continue}const s=jg(i)?i.outlets[Ne]:`${i}`,a=o<n.length-1?n[o+1]:null;s&&a&&NE(a)?(r.push(new Lg(s,V8(a))),o+=2):(r.push(new Lg(s,{})),o++)}return new gt(r,{})}function cCe(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=XM(new gt([],{}),0,r))}),e}function V8(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function j8(t,e,n){return t==n.path&&is(e,n.parameters)}const Bg="imperative";var ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ze||{});class ss{constructor(e,n){this.id=e,this.url=n}}class eR extends ss{constructor(e,n,r="imperative",o=null){super(e,n),this.type=ze.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qa extends ss{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Ao=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ao||{}),tR=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(tR||{});class Eu extends ss{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $g extends ss{constructor(e,n,r,o){super(e,n),this.reason=r,this.code=o,this.type=ze.NavigationSkipped}}class nR extends ss{constructor(e,n,r,o){super(e,n),this.error=r,this.target=o,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class U8 extends ss{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uCe extends ss{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lCe extends ss{constructor(e,n,r,o,i){super(e,n),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dCe extends ss{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fCe extends ss{constructor(e,n,r,o){super(e,n),this.urlAfterRedirects=r,this.state=o,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hCe{constructor(e){this.route=e,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pCe{constructor(e){this.route=e,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gCe{constructor(e){this.snapshot=e,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mCe{constructor(e){this.snapshot=e,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _Ce{constructor(e){this.snapshot=e,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yCe{constructor(e){this.snapshot=e,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rR{}class xE{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}}function Di(t){return t.outlet||Ne}function Hg(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class CCe{get injector(){return Hg(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Gg(this.rootInjector),this.attachRef=null}}let Gg=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){const o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new CCe(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(Me(vo))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class B8{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=oR(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=oR(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=iR(e,this._root);return n.length<2?[]:n[n.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return iR(e,this._root).map(n=>n.value)}}function oR(t,e){if(t===e.value)return e;for(const n of e.children){const r=oR(t,n);if(r)return r}return null}function iR(t,e){if(t===e.value)return[e];for(const n of e.children){const r=iR(t,n);if(r.length)return r.unshift(e),r}return[]}class wi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Zd(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class $8 extends B8{constructor(e,n){super(e),this.snapshot=n,sR(this,e)}toString(){return this.snapshot.toString()}}function H8(t){const e=function bCe(t){const i=new kE([],{},{},"",{},Ne,t,null,{});return new G8("",new wi(i,[]))}(t),n=new Bo([new Lg("",{})]),r=new Bo({}),o=new Bo({}),i=new Bo({}),s=new Bo(""),a=new Jd(n,r,i,s,o,Ne,t,e.root);return a.snapshot=e.root,new $8(new wi(a,[]),e)}class Jd{constructor(e,n,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ot(u=>u[Fg]))??Ae(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ot(e=>Qd(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ot(e=>Qd(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OE(t,e,n="emptyOnly"){let r;const{routeConfig:o}=t;return r=null===e||"always"!==n&&""!==o?.path&&(e.component||e.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.data,...o?.data,...t._resolvedData}},o&&q8(o)&&(r.resolve[Fg]=o.title),r}class kE{get title(){return this.data?.[Fg]}constructor(e,n,r,o,i,s,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qd(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qd(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class G8 extends B8{constructor(e,n){super(n),this.url=e,sR(this,n)}toString(){return z8(this._root)}}function sR(t,e){e.value._routerState=t,e.children.forEach(n=>sR(t,n))}function z8(t){const e=t.children.length>0?` { ${t.children.map(z8).join(", ")} } `:"";return`${t.value}${e}`}function aR(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,is(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),is(e.params,n.params)||t.paramsSubject.next(n.params),function Lwe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!is(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),is(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cR(t,e){const n=is(t.params,e.params)&&function Bwe(t,e){return vu(t,e)&&t.every((n,r)=>is(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||cR(t.parent,e.parent))}function q8(t){return"string"==typeof t.title||null===t.title}let uR=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ne,this.activateEvents=new Yt,this.deactivateEvents=new Yt,this.attachEvents=new Yt,this.detachEvents=new Yt,this.parentContexts=B(Gg),this.location=B(gi),this.changeDetector=B($d),this.inputBinder=B(FE,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=n;const o=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new lR(n,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ie({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ho]})}}return t})();class lR{__ngOutletInjector(e){return new lR(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Jd?this.route:e===Gg?this.childContexts:this.parent.get(e,n)}}const FE=new K("");function zg(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const o=function SCe(t,e,n){return e.children.map(r=>{for(const o of n.children)if(t.shouldReuseRoute(r.value,o.value.snapshot))return zg(t,r,o);return zg(t,r)})}(t,e,n);return new wi(r,o)}{if(t.shouldAttach(e.value)){const i=t.retrieve(e.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>zg(t,a)),s}}const r=function ACe(t){return new Jd(new Bo(t.url),new Bo(t.params),new Bo(t.queryParams),new Bo(t.fragment),new Bo(t.data),t.outlet,t.component,t)}(e.value),o=e.children.map(i=>zg(t,i));return new wi(r,o)}}class dR{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}}const K8="ngNavigationCancelingError";function LE(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Iu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=Q8(!1,Ao.Redirect);return o.url=n,o.navigationBehaviorOptions=r,o}function Q8(t,e){const n=new Error(`NavigationCancelingError: ${t||""}`);return n[K8]=!0,n.cancellationCode=e,n}function Y8(t){return!!t&&t[K8]}class NCe{constructor(e,n,r,o,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),aR(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const o=Zd(n);e.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else i&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Zd(e);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),o=r&&e.value.component?r.children:n,i=Zd(e);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const o=Zd(n);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new yCe(i.value.snapshot))}),e.children.length&&this.forwardEvent(new mCe(e.value.snapshot))}activateRoutes(e,n,r){const o=e.value,i=n?n.value:null;if(aR(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),aR(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}}class Z8{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class VE{constructor(e,n){this.component=e,this.route=n}}function PCe(t,e,n){const r=t._root;return qg(r,e?e._root:null,n,[r.value])}function Xd(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Lae(t){return null!==pv(t)}(t)?e.get(t):t:r}function qg(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Zd(e);return t.children.forEach(s=>{(function OCe(t,e,n,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function kCe(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!vu(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vu(t.url,e.url)||!is(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cR(t,e)||!is(t.queryParams,e.queryParams);default:return!cR(t,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Z8(r)):(i.data=s.data,i._resolvedData=s._resolvedData),qg(t,e,i.component?a?a.children:null:n,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new VE(a.outlet.component,s))}else s&&Wg(e,a,o),o.canActivateChecks.push(new Z8(r)),qg(t,null,i.component?a?a.children:null:n,r,o)})(s,i[s.value.outlet],n,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Wg(a,n.getContext(s),o)),o}function Wg(t,e,n){const r=Zd(t),o=t.value;Object.entries(r).forEach(([i,s])=>{Wg(s,o.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new VE(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function Kg(t){return"function"==typeof t}function J8(t){return t instanceof lv||"EmptyError"===t?.name}const jE=Symbol("INITIAL_VALUE");function ef(){return qs(t=>_8(t.map(e=>e.pipe(kl(1),function Mwe(...t){const e=yE(t);return er((n,r)=>{(e?zM(t,n,e):zM(t,n)).subscribe(r)})}(jE)))).pipe(ot(e=>{for(const n of e)if(!0!==n){if(n===jE)return jE;if(!1===n||$Ce(n))return n}return!0}),Ta(e=>e!==jE),kl(1)))}function $Ce(t){return Iu(t)||t instanceof dR}function X8(t){return function Cae(...t){return Oj(t)}(yr(e=>{if("boolean"!=typeof e)throw LE(0,e)}),ot(e=>!0===e))}class fR{constructor(e){this.segmentGroup=e||null}}class UE extends Error{constructor(e){super(),this.urlTree=e}}function tf(t){return CE(new fR(t))}class tbe{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],o=n.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Ae(r);if(o.numberOfChildren>1||!o.children[Ne])return CE(new j(4e3,!1));o=o.children[Ne]}}applyRedirectCommands(e,n,r,o,i){if("string"!=typeof n){const a=n,{queryParams:c,fragment:u,routeConfig:l,url:d,outlet:h,params:p,data:m,title:y}=o,v=xa(i,()=>a({params:p,data:m,queryParams:c,fragment:u,routeConfig:l,url:d,outlet:h,title:y}));if(v instanceof yu)throw new UE(v);n=v}const s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if("/"===n[0])throw new UE(s);return s}applyRedirectCreateUrlTree(e,n,r,o){const i=this.createSegmentGroup(e,n.root,r,o);return new yu(i,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([o,i])=>{if("string"==typeof i&&":"===i[0]){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(e,n,r,o){const i=this.createSegments(e,n.segments,r,o);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new gt(i,s)}createSegments(e,n,r,o){return n.map(i=>":"===i.path[0]?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,n,r){const o=r[n.path.substring(1)];if(!o)throw new j(4001,!1);return o}findOrReturn(e,n){let r=0;for(const o of n){if(o.path===e.path)return n.splice(r),o;r++}return e}}const hR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nbe(t,e,n,r,o){const i=e6(t,e,n);return i.matched?(r=function vCe(t,e){return t.providers&&!t._injector&&(t._injector=cA(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function JCe(t,e,n,r){const o=e.canMatch;return o&&0!==o.length?Ae(o.map(s=>{const a=Xd(s,t);return Ka(function BCe(t){return t&&Kg(t.canMatch)}(a)?a.canMatch(e,n):xa(t,()=>a(e,n)))})).pipe(ef(),X8()):Ae(!0)}(r,e,n).pipe(ot(s=>!0===s?i:{...hR}))):Ae(i)}function e6(t,e,n){if("**"===e.path)return function rbe(t){return{matched:!0,parameters:t.length>0?D8(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...hR}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Fwe)(n,t,e);if(!o)return{...hR};const i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:n.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function t6(t,e,n,r){return n.length>0&&function sbe(t,e,n){return n.some(r=>BE(t,e,r)&&Di(r)!==Ne)}(t,n,r)?{segmentGroup:new gt(e,ibe(r,new gt(n,t.children))),slicedSegments:[]}:0===n.length&&function abe(t,e,n){return n.some(r=>BE(t,e,r))}(t,n,r)?{segmentGroup:new gt(t.segments,obe(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new gt(t.segments,t.children),slicedSegments:n}}function obe(t,e,n,r){const o={};for(const i of n)if(BE(t,e,i)&&!r[Di(i)]){const s=new gt([],{});o[Di(i)]=s}return{...r,...o}}function ibe(t,e){const n={};n[Ne]=e;for(const r of t)if(""===r.path&&Di(r)!==Ne){const o=new gt([],{});n[Di(r)]=o}return n}function BE(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class ube{}class fbe{constructor(e,n,r,o,i,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new tbe(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){const e=t6(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ot(({children:n,rootSnapshot:r})=>{const o=new wi(r,n),i=new G8("",o),s=function nCe(t,e,n=null,r=null){return O8(x8(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){const n=new kE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ne,n).pipe(ot(r=>({children:r,rootSnapshot:n})),Kd(r=>{if(r instanceof UE)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fR?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,o,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r,i):this.processSegment(e,n,r,r.segments,o,!0,i).pipe(ot(s=>s instanceof wi?[s]:[]))}processChildren(e,n,r,o){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return _r(i).pipe(bE(s=>{const a=r.children[s],c=function wCe(t,e){const n=t.filter(r=>Di(r)===e);return n.push(...t.filter(r=>Di(r)!==e)),n}(n,s);return this.processSegmentGroup(e,c,a,s,o)}),function Nwe(t,e){return er(function Rwe(t,e,n,r,o){return(i,s)=>{let a=n,c=e,u=0;i.subscribe(An(s,l=>{const d=u++;c=a?t(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(t,e,arguments.length>=2,!0))}((s,a)=>(s.push(...a),s)),dv(null),function Pwe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ta((o,i)=>t(o,i,r)):Bc,WM(1),n?dv(e):Vj(()=>new lv))}(),Ur(s=>{if(null===s)return tf(r);const a=n6(s);return function hbe(t){t.sort((e,n)=>e.value.outlet===Ne?-1:n.value.outlet===Ne?1:e.value.outlet.localeCompare(n.value.outlet))}(a),Ae(a)}))}processSegment(e,n,r,o,i,s,a){return _r(n).pipe(bE(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,r,o,i,s,a).pipe(Kd(u=>{if(u instanceof fR)return Ae(null);throw u}))),Sa(c=>!!c),Kd(c=>{if(J8(c))return function cbe(t,e,n){return 0===e.length&&!t.children[n]}(r,o,i)?Ae(new ube):tf(r);throw c}))}processSegmentAgainstRoute(e,n,r,o,i,s,a,c){return Di(r)===s||s!==Ne&&BE(o,i,r)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,n,r,i,s,c):tf(o):tf(o)}expandSegmentAgainstRouteUsingRedirect(e,n,r,o,i,s,a){const{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=e6(n,o,i);if(!c)return tf(n);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const p=new kE(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,r6(o),Di(o),o.component??o._loadedComponent??null,o,o6(o)),m=OE(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);const y=this.applyRedirects.applyRedirectCommands(l,o.redirectTo,d,p,e);return this.applyRedirects.lineralizeSegments(o,y).pipe(Ur(v=>this.processSegment(e,r,n,v.concat(h),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,o,i,s){const a=nbe(n,r,o,e);return"**"===r.path&&(n.children={}),a.pipe(qs(c=>c.matched?this.getChildConfig(e=r._injector??e,r,o).pipe(qs(({routes:u})=>{const l=r._loadedInjector??e,{parameters:d,consumedSegments:h,remainingSegments:p}=c,m=new kE(h,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,r6(r),Di(r),r.component??r._loadedComponent??null,r,o6(r)),y=OE(m,s,this.paramsInheritanceStrategy);m.params=Object.freeze(y.params),m.data=Object.freeze(y.data);const{segmentGroup:v,slicedSegments:D}=t6(n,h,p,u);if(0===D.length&&v.hasChildren())return this.processChildren(l,u,v,m).pipe(ot(A=>new wi(m,A)));if(0===u.length&&0===D.length)return Ae(new wi(m,[]));const I=Di(r)===i;return this.processSegment(l,u,v,D,I?Ne:i,!0,m).pipe(ot(A=>new wi(m,A instanceof wi?[A]:[])))})):tf(n)))}getChildConfig(e,n,r){return n.children?Ae({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Ae({routes:n._loadedRoutes,injector:n._loadedInjector}):function ZCe(t,e,n,r){const o=e.canLoad;return void 0===o||0===o.length?Ae(!0):Ae(o.map(s=>{const a=Xd(s,t);return Ka(function LCe(t){return t&&Kg(t.canLoad)}(a)?a.canLoad(e,n):xa(t,()=>a(e,n)))})).pipe(ef(),X8())}(e,n,r).pipe(Ur(o=>o?this.configLoader.loadChildren(e,n).pipe(yr(i=>{n._loadedRoutes=i.routes,n._loadedInjector=i.injector})):function ebe(){return CE(Q8(!1,Ao.GuardRejected))}())):Ae({routes:[],injector:e})}}function pbe(t){const e=t.value.routeConfig;return e&&""===e.path}function n6(t){const e=[],n=new Set;for(const r of t){if(!pbe(r)){e.push(r);continue}const o=e.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),n.add(o)):e.push(r)}for(const r of n){const o=n6(r.children);e.push(new wi(r.value,o))}return e.filter(r=>!n.has(r))}function r6(t){return t.data||{}}function o6(t){return t.resolve||{}}function i6(t){const e=t.children.map(n=>i6(n)).flat();return[t,...e]}function pR(t){return qs(e=>{const n=t(e);return n?_r(n).pipe(ot(()=>e)):Ae(e)})}let s6=(()=>{class t{buildTitle(n){let r,o=n.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===Ne);return r}getResolvedTitleForRoute(n){return n.data[Fg]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>B(Ibe),providedIn:"root"})}}return t})(),Ibe=(()=>{class t extends s6{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(Me(hwe))}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const Qg=new K("",{providedIn:"root",factory:()=>({})});let a6=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=xs({type:t,selectors:[["ng-component"]],standalone:!0,features:[$s],decls:1,vars:0,template:function(r,o){1&r&&uu(0,"router-outlet")},dependencies:[uR],encapsulation:2})}}return t})();function gR(t){const e=t.children&&t.children.map(gR),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ne&&(n.component=a6),n}const $E=new K("");let c6=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(pye)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ka(n.loadComponent()).pipe(ot(u6),yr(i=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=i}),KM(()=>{this.componentLoaders.delete(n)})),o=new I8(r,()=>new go).pipe(qM());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function Ebe(t,e,n,r){return Ka(t.loadChildren()).pipe(ot(u6),Ur(o=>o instanceof h3||Array.isArray(o)?Ae(o):_r(e.compileModuleAsync(o))),ot(o=>{r&&r(t);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(n).injector,s=i.get($E,[],{optional:!0,self:!0}).flat()),{routes:s.map(gR),injector:i}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(KM(()=>{this.childrenLoaders.delete(r)})),s=new I8(i,()=>new go).pipe(qM());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function u6(t){return function Dbe(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let mR=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>B(wbe),providedIn:"root"})}}return t})(),wbe=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const l6=new K(""),f6=new K("");let HE=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new go,this.transitionAbortSubject=new go,this.configLoader=B(c6),this.environmentInjector=B(vo),this.urlSerializer=B(Yd),this.rootContexts=B(Gg),this.location=B(Rg),this.inputBindingEnabled=null!==B(FE,{optional:!0}),this.titleStrategy=B(s6),this.options=B(Qg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(mR),this.createViewTransition=B(l6,{optional:!0}),this.navigationErrorHandler=B(f6,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new pCe(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new hCe(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,o){return this.transitions=new Bo({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Bg,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ta(i=>0!==i.id),ot(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),qs(i=>{let s=!1,a=!1;return Ae(i).pipe(qs(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ao.SupersededByNewNavigation),Bi;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:"string"==typeof c.extras.browserUrl?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const d="";return this.events.next(new $g(c.id,this.urlSerializer.serialize(c.rawUrl),d,tR.IgnoredSameUrlNavigation)),c.resolve(!1),Bi}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Ae(c).pipe(qs(d=>{const h=this.transitions?.getValue();return this.events.next(new eR(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?Bi:Promise.resolve(d)}),function gbe(t,e,n,r,o,i){return Ur(s=>function lbe(t,e,n,r,o,i,s="emptyOnly"){return new fbe(t,e,n,r,o,s,i).recognize()}(t,e,n,r,s.extractedUrl,o,i).pipe(ot(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),yr(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const h=new U8(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:h,source:p,restoredState:m,extras:y}=c,v=new eR(d,this.urlSerializer.serialize(h),p,m);this.events.next(v);const D=H8(this.rootComponentType).snapshot;return this.currentTransition=i={...c,targetSnapshot:D,urlAfterRedirects:h,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,Ae(i)}{const d="";return this.events.next(new $g(c.id,this.urlSerializer.serialize(c.extractedUrl),d,tR.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Bi}}),yr(c=>{const u=new uCe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ot(c=>(this.currentTransition=i={...c,guards:PCe(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},i)),function HCe(t,e){return Ur(n=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=n;return 0===s.length&&0===i.length?Ae({...n,guardsResult:!0}):function GCe(t,e,n,r){return _r(t).pipe(Ur(o=>function YCe(t,e,n,r,o){const i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?Ae(i.map(a=>{const c=Hg(e)??o,u=Xd(a,c);return Ka(function UCe(t){return t&&Kg(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):xa(c,()=>u(t,e,n,r))).pipe(Sa())})).pipe(ef()):Ae(!0)}(o.component,o.route,n,e,r)),Sa(o=>!0!==o,!0))}(s,r,o,t).pipe(Ur(a=>a&&function FCe(t){return"boolean"==typeof t}(a)?function zCe(t,e,n,r){return _r(e).pipe(bE(o=>zM(function WCe(t,e){return null!==t&&e&&e(new gCe(t)),Ae(!0)}(o.route.parent,r),function qCe(t,e){return null!==t&&e&&e(new _Ce(t)),Ae(!0)}(o.route,r),function QCe(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>function xCe(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(s)).filter(s=>null!==s).map(s=>v8(()=>Ae(s.guards.map(c=>{const u=Hg(s.node)??n,l=Xd(c,u);return Ka(function jCe(t){return t&&Kg(t.canActivateChild)}(l)?l.canActivateChild(r,t):xa(u,()=>l(r,t))).pipe(Sa())})).pipe(ef())));return Ae(i).pipe(ef())}(t,o.path,n),function KCe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ae(!0);const o=r.map(i=>v8(()=>{const s=Hg(e)??n,a=Xd(i,s);return Ka(function VCe(t){return t&&Kg(t.canActivate)}(a)?a.canActivate(e,t):xa(s,()=>a(e,t))).pipe(Sa())}));return Ae(o).pipe(ef())}(t,o.route,n))),Sa(o=>!0!==o,!0))}(r,i,t,e):Ae(a)),ot(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),yr(c=>{if(i.guardsResult=c.guardsResult,c.guardsResult&&"boolean"!=typeof c.guardsResult)throw LE(0,c.guardsResult);const u=new lCe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ta(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",Ao.GuardRejected),!1)),pR(c=>{if(c.guards.canActivateChecks.length)return Ae(c).pipe(yr(u=>{const l=new dCe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),qs(u=>{let l=!1;return Ae(u).pipe(function mbe(t,e){return Ur(n=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=n;if(!o.length)return Ae(n);const i=new Set(o.map(c=>c.route)),s=new Set;for(const c of i)if(!s.has(c))for(const u of i6(c))s.add(u);let a=0;return _r(s).pipe(bE(c=>i.has(c)?function _be(t,e,n,r){const o=t.routeConfig,i=t._resolve;return void 0!==o?.title&&!q8(o)&&(i[Fg]=o.title),function ybe(t,e,n,r){const o=QM(t);if(0===o.length)return Ae({});const i={};return _r(o).pipe(Ur(s=>function vbe(t,e,n,r){const o=Hg(e)??r,i=Xd(t,o);return Ka(i.resolve?i.resolve(e,n):xa(o,()=>i(e,n)))}(t[s],e,n,r).pipe(Sa(),yr(a=>{if(a instanceof dR)throw LE(new SE,a);i[s]=a}))),WM(1),function xwe(t){return ot(()=>t)}(i),Kd(s=>J8(s)?Bi:CE(s)))}(i,t,e,r).pipe(ot(s=>(t._resolvedData=s,t.data=OE(t,t.parent,n).resolve,null)))}(c,r,t,e):(c.data=OE(c,c.parent,t).resolve,Ae(void 0))),yr(()=>a++),WM(1),Ur(c=>a===s.size?Ae(n):Bi))})}(this.paramsInheritanceStrategy,this.environmentInjector),yr({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",Ao.NoDataFromResolver)}}))}),yr(u=>{const l=new fCe(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),pR(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(yr(h=>{l.component=h}),ot(()=>{})));for(const h of l.children)d.push(...u(h));return d};return _8(u(c.targetSnapshot.root)).pipe(dv(null),kl(1))}),pR(()=>this.afterPreactivation()),qs(()=>{const{currentSnapshot:c,targetSnapshot:u}=i,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?_r(l).pipe(ot(()=>i)):Ae(i)}),ot(c=>{const u=function TCe(t,e,n){const r=zg(t,e._root,n?n._root:void 0);return new $8(r,e)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i={...c,targetRouterState:u},this.currentNavigation.targetRouterState=u,i}),yr(()=>{this.events.next(new rR)}),((t,e,n,r)=>ot(o=>(new NCe(e,o.targetRouterState,o.currentRouterState,n,r).activate(t),o)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),kl(1),yr({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Qa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function Owe(t){return er((e,n)=>{os(t).subscribe(An(n,()=>n.complete(),bT)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(yr(c=>{throw c}))),KM(()=>{!s&&!a&&this.cancelNavigationTransition(i,"",Ao.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Kd(c=>{if(a=!0,Y8(c))this.events.next(new Eu(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),function MCe(t){return Y8(t)&&Iu(t.url)}(c)?this.events.next(new xE(c.url,c.navigationBehaviorOptions)):i.resolve(!1);else{const u=new nR(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);try{const l=xa(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof dR){const{message:d,cancellationCode:h}=LE(0,l);this.events.next(new Eu(i.id,this.urlSerializer.serialize(i.extractedUrl),d,h)),this.events.next(new xE(l.redirectTo,l.navigationBehaviorOptions))}else{this.events.next(u);const d=n.errorHandler(c);i.resolve(!!d)}}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return Bi}))}))}cancelNavigationTransition(n,r,o){const i=new Eu(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(i),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Tbe(t){return t!==Bg}let Sbe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>B(Mbe),providedIn:"root"})}}return t})();class Abe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let Mbe=(()=>{class t extends Abe{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Wn(t)))(o||t)}})()}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),h6=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:()=>B(Rbe),providedIn:"root"})}}return t})(),Rbe=(()=>{class t extends h6{constructor(){super(...arguments),this.location=B(Rg),this.urlSerializer=B(Yd),this.options=B(Qg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(mR),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yu,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=H8(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof eR)this.stateMemento=this.createStateMemento();else if(n instanceof $g)this.rawUrlTree=r.initialUrl;else if(n instanceof U8){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else n instanceof rR?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Eu&&(n.code===Ao.GuardRejected||n.code===Ao.NoDataFromResolver)?this.restoreHistory(r):n instanceof nR?this.restoreHistory(r,!0):n instanceof Qa&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const o=n instanceof yu?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",i)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.currentUrlTree===n.finalUrl&&0===i&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Wn(t)))(o||t)}})()}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Yg=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Yg||{});function Nbe(t){throw t}const Pbe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xbe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ci=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(zA),this.stateManager=B(h6),this.options=B(Qg,{optional:!0})||{},this.pendingTasks=B(Zc),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(HE),this.urlSerializer=B(Yd),this.location=B(Rg),this.urlHandlingStrategy=B(mR),this._events=new go,this.errorHandler=this.options.errorHandler||Nbe,this.navigated=!1,this.routeReuseStrategy=B(Sbe),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B($E,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(FE,{optional:!0}),this.eventsSubscription=new Pr,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof Eu&&r.code!==Ao.Redirect&&r.code!==Ao.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Qa)this.navigated=!0;else if(r instanceof xE){const s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Tbe(o.source),...s};this.scheduleNavigation(a,Bg,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function kbe(t){return!(t instanceof rR||t instanceof xE)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Bg,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(gR),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l={...this.currentUrlTree.queryParams,...i};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}null!==l&&(l=this.removeEmptyProps(l));try{d=x8(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||"/"!==n[0][0])&&(n=[]),d=this.currentUrlTree.root}return O8(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const o=Iu(n)?n:this.parseUrl(n),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Bg,null,r)}navigate(n,r={skipLocationChange:!1}){return function Obe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new j(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(o=!0===r?{...Pbe}:!1===r?{...xbe}:r,Iu(n))return C8(this.currentUrlTree,n,o);const i=this.parseUrl(n);return C8(this.currentUrlTree,i,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(n,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return function p6(t,e){t.events.pipe(Ta(n=>n instanceof Qa||n instanceof Eu||n instanceof nR||n instanceof $g),ot(n=>n instanceof Qa||n instanceof $g?Yg.COMPLETE:n instanceof Eu&&(n.code===Ao.Redirect||n.code===Ao.SupersededByNewNavigation)?Yg.REDIRECTING:Yg.FAILED),Ta(n=>n!==Yg.REDIRECTING),kl(1)).subscribe(()=>{e()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Zg=(()=>{class t{constructor(n,r,o,i,s,a){this.router=n,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new go,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Qa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null==n?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Iu(n)||Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,o,i,s){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==n||r||o||i||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:function p$(t,e,n){return function Yle(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?h$:f$}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const o=this.renderer,i=this.el.nativeElement;null!==r?o.setAttribute(i,n,r):o.removeAttribute(i,n)}get urlTree(){return null===this.routerLinkInput?null:Iu(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(G(Ci),G(Jd),function Mp(t){return function vue(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let o=0;for(;o<r;){const i=n[o];if(nU(i))break;if(0===i)o+=2;else if("number"==typeof i)for(o++;o<r&&"string"==typeof n[o];)o++;else{if(i===e)return n[o+1];o+=2}}}return null}(lt(),t)}("tabindex"),G(Bs),G(wo),G(nE))}}static{this.\u0275dir=Ie({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){1&r&&st("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Zi("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Hd],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Hd],replaceUrl:[2,"replaceUrl","replaceUrl",Hd],routerLink:"routerLink"},standalone:!0,features:[f3,Ho]})}}return t})();const _R=new K("");function m6(t){return t.routerState.root}function _6(){const t=B(or);return e=>{const n=t.get(vi);if(e!==n.components[0])return;const r=t.get(Ci),o=t.get(y6);1===t.get(yR)&&r.initialNavigation(),t.get(v6,null,Ve.Optional)?.setUpPreloading(),t.get(_R,null,Ve.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const y6=new K("",{factory:()=>new go}),yR=new K("",{providedIn:"root",factory:()=>1}),v6=new K("");let E6=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(G(Bs),G(wo))}}static{this.\u0275dir=Ie({type:t})}}return t})(),Du=(()=>{class t extends E6{static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Wn(t)))(o||t)}})()}static{this.\u0275dir=Ie({type:t,features:[dt]})}}return t})();const cs=new K(""),qbe={provide:cs,useExisting:wt(()=>wu),multi:!0},Kbe=new K("");let wu=(()=>{class t extends E6{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wbe(){const t=za()?za().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(G(Bs),G(wo),G(Kbe,8))}}static{this.\u0275dir=Ie({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&st("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[$t([qbe]),dt]})}}return t})();const vr=new K(""),Za=new K("");function T6(t){return function Ya(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}(t.value)?{required:!0}:null}function GE(t){return null}function P6(t){return null!=t}function x6(t){return wg(t)?_r(t):t}function O6(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function k6(t,e){return e.map(n=>n(t))}function F6(t){return t.map(e=>function Ybe(t){return!t.validate}(e)?e:n=>e.validate(n))}function vR(t){return null!=t?function L6(t){if(!t)return null;const e=t.filter(P6);return 0==e.length?null:function(n){return O6(k6(n,e))}}(F6(t)):null}function IR(t){return null!=t?function V6(t){if(!t)return null;const e=t.filter(P6);return 0==e.length?null:function(n){return function Gbe(...t){const e=_q(t),{args:n,keys:r}=p8(t),o=new Sn(i=>{const{length:s}=n;if(!s)return void i.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;os(n[l]).subscribe(An(i,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||i.next(r?m8(r,a):a),i.complete())}))}});return e?o.pipe(g8(e)):o}(k6(n,e).map(x6)).pipe(ot(O6))}}(F6(t)):null}function j6(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ER(t){return t?Array.isArray(t)?t:[t]:[]}function zE(t,e){return Array.isArray(t)?t.includes(e):t===e}function $6(t,e){const n=ER(e);return ER(t).forEach(o=>{zE(n,o)||n.push(o)}),n}function H6(t,e){return ER(e).filter(n=>!zE(t,n))}class G6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=vR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=IR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Br extends G6{get formDirective(){return null}get path(){return null}}class Ja extends G6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class z6{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Jg=(()=>{class t extends z6{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(G(Ja,2))}}static{this.\u0275dir=Ie({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&Fd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[dt]})}}return t})(),DR=(()=>{class t extends z6{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(G(Br,10))}}static{this.\u0275dir=Ie({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&Fd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[dt]})}}return t})();const Xg="VALID",WE="INVALID",nf="PENDING",em="DISABLED";class rf{}class W6 extends rf{constructor(e,n){super(),this.value=e,this.source=n}}class bR extends rf{constructor(e,n){super(),this.pristine=e,this.source=n}}class TR extends rf{constructor(e,n){super(),this.touched=e,this.source=n}}class KE extends rf{constructor(e,n){super(),this.status=e,this.source=n}}function SR(t){return(QE(t)?t.validators:t)||null}function AR(t,e){return(QE(e)?e.asyncValidators:t)||null}function QE(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class MR{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Mg(()=>this.statusReactive()),this.statusReactive=md(void 0),this._pristine=Mg(()=>this.pristineReactive()),this.pristineReactive=md(!0),this._touched=Mg(()=>this.touchedReactive()),this.touchedReactive=md(!1),this._events=new go,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ns(this.statusReactive)}set status(e){ns(()=>this.statusReactive.set(e))}get valid(){return this.status===Xg}get invalid(){return this.status===WE}get pending(){return this.status==nf}get disabled(){return this.status===em}get enabled(){return this.status!==em}get pristine(){return ns(this.pristineReactive)}set pristine(e){ns(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ns(this.touchedReactive)}set touched(e){ns(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($6(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($6(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(H6(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(H6(e,this._rawAsyncValidators))}hasValidator(e){return zE(this._rawValidators,e)}hasAsyncValidator(e){return zE(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){const n=!1===this.touched;this.touched=!0;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new TR(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){const n=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&!1!==e.emitEvent&&this._events.next(new TR(!1,r))}markAsDirty(e={}){const n=!0===this.pristine;this.pristine=!1;const r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty({...e,sourceControl:r}),n&&!1!==e.emitEvent&&this._events.next(new bR(!1,r))}markAsPristine(e={}){const n=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&!1!==e.emitEvent&&this._events.next(new bR(!0,r))}markAsPending(e={}){this.status=nf;const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new KE(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending({...e,sourceControl:n})}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=em,this.errors=null,this._forEachChild(o=>{o.disable({...e,onlySelf:!0})}),this._updateValue();const r=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new W6(this.value,r)),this._events.next(new KE(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Xg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xg||this.status===nf)&&this._runAsyncValidator(r,e.emitEvent)}const n=e.sourceControl??this;!1!==e.emitEvent&&(this._events.next(new W6(this.value,n)),this._events.next(new KE(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity({...e,sourceControl:n})}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?em:Xg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=nf,this._hasOwnPendingAsyncValidator={emitEvent:!1!==n};const r=x6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent,this,n.shouldHaveEmitted)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,o)=>r&&r._find(o),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new KE(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Yt,this.statusChanges=new Yt}_calculateStatus(){return this._allControlsDisabled()?em:this.errors?WE:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nf)?nf:this._anyControlsHaveStatus(WE)?WE:Xg}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),o&&this._events.next(new bR(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new TR(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){QE(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function rTe(t){return Array.isArray(t)?vR(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function oTe(t){return Array.isArray(t)?IR(t):t||null}(this._rawAsyncValidators)}}class RR extends MR{constructor(e,n,r){super(SR(n),AR(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function Q6(t,e,n){t._forEachChild((r,o)=>{if(void 0===n[o])throw new j(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function K6(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new j(1e3,"");if(!r[n])throw new j(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,o)=>((r.enabled||this.disabled)&&(n[o]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((o,i)=>{r=n(r,o,i)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const sf=new K("CallSetDisabledState",{providedIn:"root",factory:()=>YE}),YE="always";function tm(t,e,n=YE){NR(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function aTe(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Y6(t,e)})}(t,e),function uTe(t,e){const n=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function cTe(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Y6(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function sTe(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function XE(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function NR(t,e){const n=function U6(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(j6(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function B6(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(j6(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const o=()=>t.updateValueAndValidity();XE(e._rawValidators,o),XE(e._rawAsyncValidators,o)}function Y6(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const pTe={provide:Br,useExisting:wt(()=>rm)},nm=Promise.resolve();let rm=(()=>{class t extends Br{get submitted(){return ns(this.submittedReactive)}constructor(n,r,o){super(),this.callSetDisabledState=o,this._submitted=Mg(()=>this.submittedReactive()),this.submittedReactive=md(!1),this._directives=new Set,this.ngSubmit=new Yt,this.form=new RR({},vR(n),IR(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){nm.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),tm(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){nm.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){nm.then(()=>{const r=this._findContainer(n.path),o=new RR({});(function Z6(t,e){NR(t,e)})(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){nm.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){nm.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),function J6(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(G(vr,10),G(Za,10),G(sf,8))}}static{this.\u0275dir=Ie({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){1&r&&st("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$t([pTe]),dt]})}}return t})();function X6(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function e5(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const t5=class extends MR{constructor(e=null,n,r){super(SR(n),AR(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),QE(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=e5(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){X6(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){X6(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){e5(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},_Te={provide:Ja,useExisting:wt(()=>af)},o5=Promise.resolve();let af=(()=>{class t extends Ja{constructor(n,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new t5,this._registered=!1,this.name="",this.update=new Yt,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function OR(t,e){if(!e)return null;let n,r,o;return Array.isArray(e),e.forEach(i=>{i.constructor===wu?n=i:function fTe(t){return Object.getPrototypeOf(t.constructor)===Du}(i)?r=i:o=i}),o||r||n||null}(0,i)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function xR(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){tm(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){o5.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,o=0!==r&&Hd(r);o5.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function ZE(t,e){return[...e.path,t]}(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(G(Br,9),G(vr,10),G(Za,10),G(cs,10),G($d,8),G(sf,8))}}static{this.\u0275dir=Ie({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$t([_Te]),dt,Ho]})}}return t})(),kR=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ie({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Cu=(()=>{class t{constructor(){this._validator=GE}ngOnChanges(n){if(this.inputName in n){const r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):GE,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return null!=n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ie({type:t,features:[Ho]})}}return t})();const kTe={provide:vr,useExisting:wt(()=>om),multi:!0};let om=(()=>{class t extends Cu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Hd,this.createValidator=n=>T6}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(o){return(n||(n=Wn(t)))(o||t)}})()}static{this.\u0275dir=Ie({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){2&r&&Zi("required",o._enabled?"":null)},inputs:{required:"required"},features:[$t([kTe]),dt]})}}return t})(),BTe=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_p({type:t})}static{this.\u0275inj=Ul({})}}return t})(),tD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:sf,useValue:n.callSetDisabledState??YE}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=_p({type:t})}static{this.\u0275inj=Ul({imports:[BTe]})}}return t})();function w5(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,o)}function w(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function s(c){w5(i,r,o,s,a,"next",c)}function a(c){w5(i,r,o,s,a,"throw",c)}s(void 0)})}}const C5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):55296==(64512&o)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++r)),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},b5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,c=o+2<t.length,u=c?t[o+2]:0;let h=(15&a)<<2|u>>6,p=63&u;c||(p=64,s||(h=64)),r.push(n[i>>2],n[(3&i)<<4|a>>4],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(C5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const c=((7&o)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const u=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,null==i||null==a||null==u||null==d)throw new qTe;r.push(i<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qTe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nD=function(t){return function(t){const e=C5(t);return b5.encodeByteArray(e,!0)}(t).replace(/\./g,"")},rD=function(t){try{return b5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},oD=()=>{try{return function QTe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rD(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},S5=t=>{var e,n;return null===(n=null===(e=oD())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},A5=()=>{var t;return null===(t=oD())||void 0===t?void 0:t.config},M5=t=>{var e;return null===(e=oD())||void 0===e?void 0:e[`_${t}`]};class R5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function cn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $R(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function iD(){try{return"object"==typeof indexedDB}catch{return!1}}function HR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e((null===(i=o.error)||void 0===i?void 0:i.message)||"")}}catch(n){e(n)}})}function P5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?function cSe(t,e){return t.replace(uSe,(n,r)=>{const o=e[r];return null!=o?String(o):`<${r}?>`})}(i,r):"Error";return new bi(o,`${this.serviceName}: ${s} (${o}).`,r)}}const uSe=/\{\$([^}]+)}/g;function Tu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(O5(i)&&O5(s)){if(!Tu(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function O5(t){return null!==t&&"object"==typeof t}function im(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,i]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(i)}}),e}function am(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class fSe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");o=function hSe(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===o.next&&(o.next=GR),void 0===o.error&&(o.error=GR),void 0===o.complete&&(o.complete=GR);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(){}const pSe=1e3,gSe=2,mSe=144e5,_Se=.5;function k5(t,e=pSe,n=gSe){const r=e*Math.pow(n,t),o=Math.round(_Se*r*(Math.random()-.5)*2);return Math.min(mSe,r+o)}function Jt(t){return t&&t._delegate?t._delegate:t}class Ti{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Su="[DEFAULT]";class vSe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new R5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),o=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ESe(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Su})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=Su){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return w(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Su){return this.instances.has(e)}getOptions(e=Su){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(i)&&s.resolve(o);return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=null!==(r=this.onInitCallbacks.get(o))&&void 0!==r?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Su?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Su){return this.component?this.component.multipleInstances?e:Su:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class DSe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vSe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const qR=[];var Be=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Be||{});const F5={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},wSe=Be.INFO,CSe={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},bSe=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),o=CSe[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${r}]  ${t.name}:`,...n)};class aD{constructor(e){this.name=e,this._logLevel=wSe,this._logHandler=bSe,this._userLogHandler=null,qR.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?F5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const TSe=(t,e)=>e.some(n=>t instanceof n);let L5,V5;const j5=new WeakMap,WR=new WeakMap,U5=new WeakMap,KR=new WeakMap,QR=new WeakMap;let YR={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return WR.get(t);if("objectStoreNames"===e)return t.objectStoreNames||U5.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xa(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function xSe(t){return"function"==typeof t?function PSe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ASe(){return V5||(V5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(ZR(this),e),Xa(j5.get(this))}:function(...e){return Xa(t.apply(ZR(this),e))}:function(e,...n){const r=t.call(ZR(this),e,...n);return U5.set(r,e.sort?e.sort():[e]),Xa(r)}}(t):(t instanceof IDBTransaction&&function RSe(t){if(WR.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});WR.set(t,e)}(t),TSe(t,function SSe(){return L5||(L5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,YR):t)}function Xa(t){if(t instanceof IDBRequest)return function MSe(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Xa(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&j5.set(n,t)}).catch(()=>{}),QR.set(e,t),e}(t);if(KR.has(t))return KR.get(t);const e=xSe(t);return e!==t&&(KR.set(t,e),QR.set(e,t)),e}const ZR=t=>QR.get(t);function B5(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=Xa(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Xa(s.result),c.oldVersion,c.newVersion,Xa(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),o&&c.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const OSe=["get","getKey","getAll","getAllKeys","count"],kSe=["put","add","delete","clear"],JR=new Map;function $5(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(JR.get(e))return JR.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=kSe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!OSe.includes(n))return;const i=function(){var s=w(function*(a,...c){const u=this.transaction(a,o?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),o&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return JR.set(e,i),i}!function NSe(t){YR=t(YR)}(t=>({...t,get:(e,n,r)=>$5(e,n)||t.get(e,n,r),has:(e,n)=>!!$5(e,n)||t.has(e,n)}));class FSe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function LSe(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const cD="@firebase/app",XR="0.10.13",Ws=new aD("@firebase/app"),VSe="@firebase/app-compat",jSe="@firebase/analytics-compat",USe="@firebase/analytics",BSe="@firebase/app-check-compat",$Se="@firebase/app-check",HSe="@firebase/auth",GSe="@firebase/auth-compat",zSe="@firebase/database",qSe="@firebase/data-connect",WSe="@firebase/database-compat",KSe="@firebase/functions",QSe="@firebase/functions-compat",YSe="@firebase/installations",ZSe="@firebase/installations-compat",JSe="@firebase/messaging",XSe="@firebase/messaging-compat",e0e="@firebase/performance",t0e="@firebase/performance-compat",n0e="@firebase/remote-config",r0e="@firebase/remote-config-compat",o0e="@firebase/storage",i0e="@firebase/storage-compat",s0e="@firebase/firestore",a0e="@firebase/vertexai-preview",c0e="@firebase/firestore-compat",u0e="firebase",uD="[DEFAULT]",d0e={[cD]:"fire-core",[VSe]:"fire-core-compat",[USe]:"fire-analytics",[jSe]:"fire-analytics-compat",[$Se]:"fire-app-check",[BSe]:"fire-app-check-compat",[HSe]:"fire-auth",[GSe]:"fire-auth-compat",[zSe]:"fire-rtdb",[qSe]:"fire-data-connect",[WSe]:"fire-rtdb-compat",[KSe]:"fire-fn",[QSe]:"fire-fn-compat",[YSe]:"fire-iid",[ZSe]:"fire-iid-compat",[JSe]:"fire-fcm",[XSe]:"fire-fcm-compat",[e0e]:"fire-perf",[t0e]:"fire-perf-compat",[n0e]:"fire-rc",[r0e]:"fire-rc-compat",[o0e]:"fire-gcs",[i0e]:"fire-gcs-compat",[s0e]:"fire-fst",[c0e]:"fire-fst-compat",[a0e]:"fire-vertex","fire-js":"fire-js",[u0e]:"fire-js-all"},Au=new Map,cm=new Map,um=new Map;function H5(t,e){try{t.container.addComponent(e)}catch(n){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function us(t){const e=t.name;if(um.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;um.set(e,t);for(const n of Au.values())H5(n,t);for(const n of cm.values())H5(n,t);return!0}function ec(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ks(t){return void 0!==t.settings}const Yo=new bu("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class G5{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}const cf="10.14.1";function z5(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:uD,automaticDataCollectionEnabled:!1},e),o=r.name;if("string"!=typeof o||!o)throw Yo.create("bad-app-name",{appName:String(o)});if(n||(n=A5()),!n)throw Yo.create("no-options");const i=Au.get(o);if(i){if(Tu(n,i.options)&&Tu(r,i.config))return i;throw Yo.create("duplicate-app",{appName:o})}const s=new DSe(o);for(const c of um.values())s.addComponent(c);const a=new G5(n,r,s);return Au.set(o,a),a}function eN(t=uD){const e=Au.get(t);if(!e&&t===uD&&A5())return z5();if(!e)throw Yo.create("no-app",{appName:t});return e}function Mo(t,e,n){var r;let o=null!==(r=d0e[t])&&void 0!==r?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];return i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ws.warn(a.join(" "))}us(new Ti(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const m0e="firebase-heartbeat-database",_0e=1,lm="firebase-heartbeat-store";let nN=null;function q5(){return nN||(nN=B5(m0e,_0e,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(lm)}catch(n){console.warn(n)}}}).catch(t=>{throw Yo.create("idb-open",{originalErrorMessage:t.message})})),nN}function rN(){return(rN=w(function*(t){try{const n=(yield q5()).transaction(lm),r=yield n.objectStore(lm).get(K5(t));return yield n.done,r}catch(e){if(e instanceof bi)Ws.warn(e.message);else{const n=Yo.create("idb-get",{originalErrorMessage:e?.message});Ws.warn(n.message)}}})).apply(this,arguments)}function W5(t,e){return oN.apply(this,arguments)}function oN(){return(oN=w(function*(t,e){try{const r=(yield q5()).transaction(lm,"readwrite");yield r.objectStore(lm).put(e,K5(t)),yield r.done}catch(n){if(n instanceof bi)Ws.warn(n.message);else{const r=Yo.create("idb-set",{originalErrorMessage:n?.message});Ws.warn(r.message)}}})).apply(this,arguments)}function K5(t){return`${t.name}!${t.options.appId}`}class E0e{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new w0e(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return w(function*(){var n,r;try{const i=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Q5();return null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:i}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(o){Ws.warn(o)}})()}getHeartbeatsHeader(){var e=this;return w(function*(){var n;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(n=e._heartbeatsCache)||void 0===n?void 0:n.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=Q5(),{heartbeatsToSend:o,unsentEntries:i}=function D0e(t,e=1024){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),Y5(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Y5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=nD(JSON.stringify({version:2,heartbeats:o}));return e._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return Ws.warn(r),""}})()}}function Q5(){return(new Date).toISOString().substring(0,10)}class w0e{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(function*(){return!!iD()&&HR().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return w(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function y0e(t){return rN.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var n=this;return w(function*(){var r;if(yield n._canUseIndexedDBPromise){const i=yield n.read();return W5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return w(function*(){var r;if(yield n._canUseIndexedDBPromise){const i=yield n.read();return W5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}})()}}function Y5(t){return nD(JSON.stringify({version:2,heartbeats:t})).length}function lD(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function tc(t){return this instanceof tc?(this.v=t,this):new tc(t)}function e9(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function cN(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=t[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}(a,c,(s=t[i](s)).done,s.value)})}}}!function C0e(t){us(new Ti("platform-logger",e=>new FSe(e),"PRIVATE")),us(new Ti("heartbeat",e=>new E0e(e),"PRIVATE")),Mo(cD,XR,t),Mo(cD,XR,"esm2017"),Mo("fire-js","")}(""),Mo("firebase","10.14.1","app"),"function"==typeof SuppressedError&&SuppressedError;const J0e=function t9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},n9=new bu("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dD=new aD("@firebase/auth");function fD(t,...e){dD.logLevel<=Be.ERROR&&dD.error(`Auth (${cf}): ${t}`,...e)}function io(t,...e){throw dN(t,...e)}function Zo(t,...e){return dN(t,...e)}function lN(t,e,n){const r=Object.assign(Object.assign({},J0e()),{[e]:n});return new bu("auth","Firebase",r).create(e,{appName:t.name})}function Kn(t){return lN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dN(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n9.create(t,...e)}function Q(t,e,...n){if(!t)throw dN(e,...n)}function ls(t){const e="INTERNAL ASSERTION FAILED: "+t;throw fD(e),new Error(e)}function nc(t,e){t||ls(e)}function dm(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function r9(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class fm{constructor(e,n){this.shortDelay=e,this.longDelay=n,nc(n>e,"Short delay should be less than long delay!"),this.isMobile=function tSe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}()||function iSe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function eAe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function fN(){return"http:"===r9()||"https:"===r9()}()||$R()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function hN(t,e){nc(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class o9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nAe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},rAe=new fm(3e4,6e4);function Ft(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Lt(t,e,n,r){return pN.apply(this,arguments)}function pN(){return(pN=w(function*(t,e,n,r,o={}){return i9(t,o,w(function*(){let i={},s={};r&&("GET"===e?s=r:i={body:JSON.stringify(r)});const a=im(Object.assign({key:t.config.apiKey},s)).slice(1),c=yield t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return function oSe(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(u.referrerPolicy="no-referrer"),o9.fetch()(s9(t,t.config.apiHost,n,a),u)}))})).apply(this,arguments)}function i9(t,e,n){return gN.apply(this,arguments)}function gN(){return(gN=w(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nAe),e);try{const o=new iAe(t),i=yield Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw hm(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw hm(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw hm(t,"email-already-in-use",s);if("USER_DISABLED"===c)throw hm(t,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw lN(t,l,u);io(t,l)}}catch(o){if(o instanceof bi)throw o;io(t,"network-request-failed",{message:String(o)})}})).apply(this,arguments)}function Qs(t,e,n,r){return mN.apply(this,arguments)}function mN(){return(mN=w(function*(t,e,n,r,o={}){const i=yield Lt(t,e,n,r,o);return"mfaPendingCredential"in i&&io(t,"multi-factor-auth-required",{_serverResponse:i}),i})).apply(this,arguments)}function s9(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?hN(t.config,o):`${t.config.apiScheme}://${o}`}function oAe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iAe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zo(this.auth,"network-request-failed")),rAe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function hm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Zo(t,e,r);return o.customData._tokenResponse=n,o}function c9(t){return void 0!==t&&void 0!==t.enterprise}class u9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oAe(n.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function l9(t,e){return yN.apply(this,arguments)}function yN(){return(yN=w(function*(t,e){return Lt(t,"GET","/v2/recaptchaConfig",Ft(t,e))})).apply(this,arguments)}function vN(){return(vN=w(function*(t,e){return Lt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function d9(t,e){return EN.apply(this,arguments)}function EN(){return(EN=w(function*(t,e){return Lt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function pm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function DN(){return(DN=w(function*(t,e=!1){const n=Jt(t),r=yield n.getIdToken(e),o=hD(r);Q(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i="object"==typeof o.firebase?o.firebase:void 0,s=i?.sign_in_provider;return{claims:o,token:r,authTime:pm(wN(o.auth_time)),issuedAtTime:pm(wN(o.iat)),expirationTime:pm(wN(o.exp)),signInProvider:s||null,signInSecondFactor:i?.sign_in_second_factor||null}})).apply(this,arguments)}function wN(t){return 1e3*Number(t)}function hD(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return fD("JWT malformed, contained fewer than 3 sections"),null;try{const o=rD(n);return o?JSON.parse(o):(fD("Failed to decode base64 JWT payload"),null)}catch(o){return fD("Caught error parsing JWT payload as JSON",o?.toString()),null}}function f9(t){const e=hD(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ys(t,e){return CN.apply(this,arguments)}function CN(){return(CN=w(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof bi&&function lAe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class dAe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const o=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(w(function*(){yield n.iteration()}),r)}iteration(){var e=this;return w(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class bN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pm(this.lastLoginAt),this.creationTime=pm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gm(t){return TN.apply(this,arguments)}function TN(){return(TN=w(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),o=yield Ys(t,d9(n,{idToken:r}));Q(o?.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=null!==(e=i.providerUserInfo)&&void 0!==e&&e.length?h9(i.providerUserInfo):[],a=function hAe(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}(t.providerData,s),l=!!t.isAnonymous&&!(t.email&&i.passwordHash||a?.length),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new bN(i.createdAt,i.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function SN(){return(SN=w(function*(t){const e=Jt(t);yield gm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function h9(t){return t.map(e=>{var{providerId:n}=e,r=lD(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function AN(){return(AN=w(function*(t,e){const n=yield i9(t,{},w(function*(){const r=im({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=s9(t,o,"/v1/token",`key=${i}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",o9.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}function MN(){return(MN=w(function*(t,e){return Lt(t,"POST","/v2/accounts:revokeToken",Ft(t,e))})).apply(this,arguments)}class lf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f9(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(0!==e.length,"internal-error");const n=f9(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){var r=this;return w(function*(){return n||!r.accessToken||r.isExpired?(Q(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return w(function*(){const{accessToken:o,refreshToken:i,expiresIn:s}=yield function pAe(t,e){return AN.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(o,i,Number(s))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new lf;return r&&(Q("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),o&&(Q("string"==typeof o,"internal-error",{appName:e}),s.accessToken=o),i&&(Q("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lf,this.toJSON())}_performRefresh(){return ls("not implemented")}}function rc(t,e){Q("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=lD(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dAe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new bN(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var n=this;return w(function*(){const r=yield Ys(n,n.stsTokenManager.getToken(n.auth,e));return Q(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function uAe(t){return DN.apply(this,arguments)}(this,e)}reload(){return function fAe(t){return SN.apply(this,arguments)}(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return w(function*(){let o=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),o=!0),n&&(yield gm(r)),yield r.auth._persistUserIfCurrent(r),o&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return w(function*(){if(Ks(e.auth.app))return Promise.reject(Kn(e.auth));const n=yield e.getIdToken();return yield Ys(e,function aAe(t,e){return vN.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(o=n.email)&&void 0!==o?o:void 0,p=null!==(i=n.phoneNumber)&&void 0!==i?i:void 0,m=null!==(s=n.photoURL)&&void 0!==s?s:void 0,y=null!==(a=n.tenantId)&&void 0!==a?a:void 0,v=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,D=null!==(u=n.createdAt)&&void 0!==u?u:void 0,I=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:A,emailVerified:k,isAnonymous:U,providerData:z,stsTokenManager:b}=n;Q(A&&b,e,"internal-error");const C=lf.fromJSON(this.name,b);Q("string"==typeof A,e,"internal-error"),rc(d,e.name),rc(h,e.name),Q("boolean"==typeof k,e,"internal-error"),Q("boolean"==typeof U,e,"internal-error"),rc(p,e.name),rc(m,e.name),rc(y,e.name),rc(v,e.name),rc(D,e.name),rc(I,e.name);const T=new Zs({uid:A,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:U,photoURL:m,phoneNumber:p,tenantId:y,stsTokenManager:C,createdAt:D,lastLoginAt:I});return z&&Array.isArray(z)&&(T.providerData=z.map(M=>Object.assign({},M))),v&&(T._redirectEventId=v),T}static _fromIdTokenResponse(e,n,r=!1){return w(function*(){const o=new lf;o.updateFromServerResponse(n);const i=new Zs({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return yield gm(i),i})()}static _fromGetAccountInfoResponse(e,n,r){return w(function*(){const o=n.users[0];Q(void 0!==o.localId,"internal-error");const i=void 0!==o.providerUserInfo?h9(o.providerUserInfo):[],s=!(o.email&&o.passwordHash||i?.length),a=new lf;a.updateFromIdToken(r);const c=new Zs({uid:o.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:i,metadata:new bN(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash||i?.length)};return Object.assign(c,u),c})()}}const p9=new Map;function Js(t){nc(t instanceof Function,"Expected a class definition");let e=p9.get(t);return e?(nc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,p9.set(t,e),e)}const g9=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(function*(){return!0})()}_set(n,r){var o=this;return w(function*(){o.storage[n]=r})()}_get(n){var r=this;return w(function*(){const o=r.storage[n];return void 0===o?null:o})()}_remove(n){var r=this;return w(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function pD(t,e,n){return`firebase:${t}:${e}:${n}`}class df{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=pD(this.userKey,o.apiKey,i),this.fullPersistenceKey=pD("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return w(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Zs._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return w(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(function*(){if(!n.length)return new df(Js(g9),e,r);const o=(yield Promise.all(n.map(function(){var u=w(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let i=o[0]||Js(g9);const s=pD(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=Zs._fromJSON(e,l);u!==i&&(a=d),i=u;break}}catch{}const c=o.filter(u=>u._shouldAllowMigration);return i._shouldAllowMigration&&c.length?(i=c[0],a&&(yield i._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=w(function*(l){if(l!==i)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new df(i,e,r)):new df(i,e,r)})()}}function m9(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I9(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_9(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(D9(e))return"Blackberry";if(w9(e))return"Webos";if(y9(e))return"Safari";if((e.includes("chrome/")||v9(e))&&!e.includes("edge/"))return"Chrome";if(E9(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function _9(t=cn()){return/firefox\//i.test(t)}function y9(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v9(t=cn()){return/crios\//i.test(t)}function I9(t=cn()){return/iemobile/i.test(t)}function E9(t=cn()){return/android/i.test(t)}function D9(t=cn()){return/blackberry/i.test(t)}function w9(t=cn()){return/webos/i.test(t)}function RN(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C9(t=cn()){return RN(t)||E9(t)||w9(t)||D9(t)||/windows phone/i.test(t)||I9(t)}function b9(t,e=[]){let n;switch(t){case"Browser":n=m9(cn());break;case"Worker":n=`${m9(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cf}/${r}`}class yAe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{s(e(i))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return w(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const o of n.queue)yield o(e),o.onAbort&&r.push(o.onAbort)}catch(o){r.reverse();for(const i of r)try{i()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}})()}}function NN(){return(NN=w(function*(t,e={}){return Lt(t,"GET","/v2/passwordPolicy",Ft(t,e))})).apply(this,arguments)}class EAe{constructor(e){var n,r,o,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=s.minPasswordLength)&&void 0!==n?n:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(o=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==o?o:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,i,s,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(o=c.containsLowercaseLetter)||void 0===o||o),c.isValid&&(c.isValid=null===(i=c.containsUppercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsNumericCharacter)||void 0===s||s),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class DAe{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T9(this),this.idTokenSubscription=new T9(this),this.beforeStateQueue=new yAe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Js(n)),this._initializationPromise=this.queue(w(function*(){var o,i;if(!r._deleted&&(r.persistenceManager=yield df.create(r,e),!r._deleted)){if(null!==(o=r._popupRedirectResolver)&&void 0!==o&&o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(i=r.currentUser)||void 0===i?void 0:i.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return w(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUserFromIdToken(e){var n=this;return w(function*(){try{const r=yield d9(n,{idToken:e}),o=yield Zs._fromGetAccountInfoResponse(n,r,e);yield n.directlySetCurrentUser(o)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield n.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var n=this;return w(function*(){var r;if(Ks(n.app)){const a=n.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>n.initializeCurrentUserFromIdToken(a).then(c,c))}):n.directlySetCurrentUser(null)}const o=yield n.assertedPersistence.getCurrentUser();let i=o,s=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=i?._redirectEventId,u=yield n.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(i=u.user,s=!0)}if(!i)return n.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(i)}catch(a){i=o,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return i?n.reloadAndSetCurrentUserOrClear(i):n.directlySetCurrentUser(null)}return Q(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===i._redirectEventId?n.directlySetCurrentUser(i):n.reloadAndSetCurrentUserOrClear(i)})()}tryRedirectSignIn(e){var n=this;return w(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return w(function*(){try{yield gm(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function tAe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return w(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return w(function*(){if(Ks(n.app))return Promise.reject(Kn(n));const r=e?Jt(e):null;return r&&Q(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return w(function*(){if(!r._deleted)return e&&Q(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(w(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return w(function*(){return Ks(e.app)?Promise.reject(Kn(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var n=this;return Ks(this.app)?Promise.reject(Kn(this)):this.queue(w(function*(){yield n.assertedPersistence.setPersistence(Js(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return w(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return w(function*(){const n=yield function vAe(t){return NN.apply(this,arguments)}(e),r=new EAe(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){var n=this;return w(function*(){if(n.currentUser){const r=yield n.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=n.tenantId&&(o.tenantId=n.tenantId),yield function gAe(t,e){return MN.apply(this,arguments)}(n,o)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return w(function*(){const o=yield r.getOrInitRedirectPersistenceManager(n);return null===e?o.removeCurrentUser():o.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return w(function*(){if(!n.redirectPersistenceManager){const r=e&&Js(e)||n._popupRedirectResolver;Q(r,n,"argument-error"),n.redirectPersistenceManager=yield df.create(n,[Js(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return w(function*(){var r,o;return n._isInitialized&&(yield n.queue(w(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(o=n.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return w(function*(){if(e===n.currentUser)return n.queue(w(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i="function"==typeof n?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,o);return()=>{s=!0,c()}}{const c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){var n=this;return w(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=b9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return w(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const o=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();o&&(r["X-Firebase-Client"]=o);const i=yield e._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r})()}_getAppCheckToken(){var e=this;return w(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function X0e(t,...e){dD.logLevel<=Be.WARN&&dD.warn(`Auth (${cf}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function un(t){return Jt(t)}class T9{constructor(e){this.auth=e,this.observer=null,this.addObserver=function dSe(t,e){const n=new fSe(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let mm={loadJS:()=>w(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(t){return mm.loadJS(t)}function S9(t){return`__${t}${Math.floor(1e6*Math.random())}`}class A9{constructor(e){this.type="recaptcha-enterprise",this.auth=un(e)}verify(e="verify",n=!1){var r=this;return w(function*(){function i(){return i=w(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=w(function*(u,l){l9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new u9(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),i.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;c9(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function o(a){return i.apply(this,arguments)})(r.auth).then(u=>{if(!n&&c9(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));let l=function bAe(){return mm.recaptchaEnterpriseScript}();0!==l.length&&(l+=u),PN(l).then(()=>{s(u,a,c)}).catch(d=>{c(d)})}}).catch(u=>{c(u)})})})()}}function M9(t,e,n){return xN.apply(this,arguments)}function xN(){return(xN=w(function*(t,e,n,r=!1){const o=new A9(t);let i;try{i=yield o.verify(n)}catch{i=yield o.verify(n,!0)}const s=Object.assign({},e);return Object.assign(s,r?{captchaResp:i}:{captchaResponse:i}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function _m(t,e,n,r){return ON.apply(this,arguments)}function ON(){return ON=w(function*(t,e,n,r){var o;if(null!==(o=t._getRecaptchaConfig())&&void 0!==o&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=yield M9(t,e,n,"getOobCode"===n);return r(t,i)}return r(t,e).catch(function(){var i=w(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield M9(t,e,n,"getOobCode"===n);return r(t,a)}return Promise.reject(s)});return function(s){return i.apply(this,arguments)}}())}),ON.apply(this,arguments)}function R9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N9(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class ym{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,n){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}function FAe(t,e){return VN.apply(this,arguments)}function VN(){return(VN=w(function*(t,e){return Lt(t,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function VAe(t,e){return UN.apply(this,arguments)}function UN(){return(UN=w(function*(t,e){return Qs(t,"POST","/v1/accounts:signInWithPassword",Ft(t,e))})).apply(this,arguments)}function qN(){return(qN=w(function*(t,e){return Qs(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,e))})).apply(this,arguments)}function WN(){return(WN=w(function*(t,e){return Qs(t,"POST","/v1/accounts:signInWithEmailLink",Ft(t,e))})).apply(this,arguments)}class vm extends ym{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new vm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new vm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return w(function*(){switch(n.signInMethod){case"password":return _m(e,{returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",VAe);case"emailLink":return function HAe(t,e){return qN.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:io(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return w(function*(){switch(r.signInMethod){case"password":return _m(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FAe);case"emailLink":return function GAe(t,e){return WN.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:io(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Xs(t,e){return KN.apply(this,arguments)}function KN(){return(KN=w(function*(t,e){return Qs(t,"POST","/v1/accounts:signInWithIdp",Ft(t,e))})).apply(this,arguments)}class Dm{constructor(e){var n,r,o,i,s,a;const c=sm(am(e)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function ZAe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(o=c.mode)&&void 0!==o?o:null);Q(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function JAe(t){const e=sm(am(t)).link,n=e?sm(am(e)).deep_link_id:null,r=sm(am(t)).deep_link_id;return(r?sm(am(r)).link:null)||r||n||e||t}(e);try{return new Dm(n)}catch{return null}}}let x9=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return vm._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const o=Dm.parseLink(r);return Q(o,"argument-error"),vm._fromEmailAndCode(n,o.code,o.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class ea{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class XAe extends ea{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,o=!1){return w(function*(){const i=yield Zs._fromIdTokenResponse(e,r,o),s=k9(r);return new Jo({user:i,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return w(function*(){yield e._updateTokensIfNecessary(r,!0);const o=k9(r);return new Jo({user:e,providerId:o,_tokenResponse:r,operationType:n})})()}}function k9(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class _D extends bi{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,_D.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new _D(e,n,r,o)}}function F9(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw"auth/multi-factor-auth-required"===i.code?_D._fromErrorAndOperation(t,i,e,r):i})}function oP(){return(oP=w(function*(t,e,n=!1){const r=yield Ys(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Jo._forOperation(t,"link",r)})).apply(this,arguments)}function sP(){return(sP=w(function*(t,e,n=!1){const{auth:r}=t;if(Ks(r.app))return Promise.reject(Kn(r));const o="reauthenticate";try{const i=yield Ys(t,F9(r,o,e,t),n);Q(i.idToken,r,"internal-error");const s=hD(i.idToken);Q(s,r,"internal-error");const{sub:a}=s;return Q(t.uid===a,r,"user-mismatch"),Jo._forOperation(t,o,i)}catch(i){throw"auth/user-not-found"===i?.code&&io(r,"user-mismatch"),i}})).apply(this,arguments)}function j9(t,e){return aP.apply(this,arguments)}function aP(){return(aP=w(function*(t,e,n=!1){if(Ks(t.app))return Promise.reject(Kn(t));const r="signIn",o=yield F9(t,r,e),i=yield Jo._fromIdTokenResponse(t,r,o);return n||(yield t._updateCurrentUser(i.user)),i})).apply(this,arguments)}function cP(t,e){return uP.apply(this,arguments)}function uP(){return(uP=w(function*(t,e){return j9(un(t),e)})).apply(this,arguments)}function mP(t){return _P.apply(this,arguments)}function _P(){return(_P=w(function*(t){const e=un(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}const ID="__sak";class $9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ID,"1"),this.storage.removeItem(ID),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const wMe=(()=>{class t extends $9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C9(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const o=this.storage.getItem(r),i=this.localCache[r];o!==i&&n(r,i,o)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const o=n.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(o);!r&&this.localCache[o]===a||this.notifyListeners(o,a)},s=this.storage.getItem(o);!function _Ae(){return function sSe(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?i():setTimeout(i,10)}notifyListeners(n,r){this.localCache[n]=r;const o=this.listeners[n];if(o)for(const i of Array.from(o))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:o}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var o=()=>super._set,i=this;return w(function*(){yield o().call(i,n,r),i.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,o=this;return w(function*(){const i=yield r().call(o,n);return o.localCache[n]=JSON.stringify(i),i})()}_remove(n){var r=()=>super._remove,o=this;return w(function*(){yield r().call(o,n),delete o.localCache[n]})()}}return t.type="LOCAL",t})(),H9=(()=>{class t extends $9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let bMe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(i=>i.isListeningto(n));if(r)return r;const o=new t(n);return this.receivers.push(o),o}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return w(function*(){const o=n,{eventId:i,eventType:s,data:a}=o.data,c=r.handlersMap[s];if(!c?.size)return;o.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(c).map(function(){var d=w(function*(h){return h(o.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function CMe(t){return Promise.all(t.map(function(){var e=w(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(u);o.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function VP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class TMe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var o=this;return w(function*(){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const l=VP("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const p=h;if(p.data.eventId===l)switch(p.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(p.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},o.handlers.add(a),i.port1.addEventListener("message",a.onMessage),o.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{a&&o.removeMessageHandler(a)})})()}}function En(){return window}function jP(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function UP(){return(UP=w(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const G9="firebaseLocalStorageDb",ED="firebaseLocalStorage",z9="fbase_key";class bm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function DD(t,e){return t.transaction([ED],e?"readwrite":"readonly").objectStore(ED)}function BP(){const t=indexedDB.open(G9,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ED,{keyPath:z9})}catch(o){n(o)}}),t.addEventListener("success",w(function*(){const r=t.result;r.objectStoreNames.contains(ED)?e(r):(r.close(),yield function PMe(){const t=indexedDB.deleteDatabase(G9);return new bm(t).toPromise()}(),e(yield BP()))}))})}function q9(t,e,n){return $P.apply(this,arguments)}function $P(){return($P=w(function*(t,e,n){const r=DD(t,!0).put({[z9]:e,value:n});return new bm(r).toPromise()})).apply(this,arguments)}function HP(){return(HP=w(function*(t,e){const n=DD(t,!1).get(e),r=yield new bm(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function W9(t,e){const n=DD(t,!0).delete(e);return new bm(n).toPromise()}const FMe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return w(function*(){return n.db||(n.db=yield BP()),n.db})()}_withRetries(n){var r=this;return w(function*(){let o=0;for(;;)try{const i=yield r._openDb();return yield n(i)}catch(i){if(o++>3)throw i;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return w(function*(){return jP()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return w(function*(){n.receiver=bMe._getInstance(function RMe(){return jP()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=w(function*(o,i){return{keyProcessed:(yield n._poll()).includes(i.key)}});return function(o,i){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=w(function*(o,i){return["keyChanged"]});return function(o,i){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return w(function*(){var r,o;if(n.activeServiceWorker=yield function AMe(){return UP.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new TMe(n.activeServiceWorker);const i=yield n.sender._send("ping",{},800);i&&null!==(r=i[0])&&void 0!==r&&r.fulfilled&&null!==(o=i[0])&&void 0!==o&&o.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return w(function*(){if(r.sender&&r.activeServiceWorker&&function MMe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return w(function*(){try{if(!indexedDB)return!1;const n=yield BP();return yield q9(n,ID,"1"),yield W9(n,ID),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return w(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var o=this;return w(function*(){return o._withPendingWrite(w(function*(){return yield o._withRetries(i=>q9(i,n,r)),o.localCache[n]=r,o.notifyServiceWorker(n)}))})()}_get(n){var r=this;return w(function*(){const o=yield r._withRetries(i=>function xMe(t,e){return HP.apply(this,arguments)}(i,n));return r.localCache[n]=o,o})()}_remove(n){var r=this;return w(function*(){return r._withPendingWrite(w(function*(){return yield r._withRetries(o=>W9(o,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return w(function*(){const r=yield n._withRetries(s=>{const a=DD(s,!1).getAll();return new bm(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const o=[],i=new Set;if(0!==r.length)for(const{fbase_key:s,value:a}of r)i.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),o.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!i.has(s)&&(n.notifyListeners(s,null),o.push(s));return o})()}notifyListeners(n,r){this.localCache[n]=r;const o=this.listeners[n];if(o)for(const i of Array.from(o))i(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(w(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();S9("rcb"),new fm(3e4,6e4);class JP extends ym{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZMe(t){return j9(t.auth,new JP(t),t.bypassAuthState)}function JMe(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),function V9(t,e){return sP.apply(this,arguments)}(n,new JP(t),t.bypassAuthState)}function XMe(t){return XP.apply(this,arguments)}function XP(){return(XP=w(function*(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),function rP(t,e){return oP.apply(this,arguments)}(n,new JP(t),t.bypassAuthState)})).apply(this,arguments)}class eRe{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=w(function*(r,o){e.pendingPromise={resolve:r,reject:o};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(i){e.reject(i)}});return function(r,o){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return w(function*(){const{urlResponse:r,sessionId:o,postBody:i,tenantId:s,error:a,type:c}=e;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:o,tenantId:s||void 0,postBody:i||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZMe;case"linkViaPopup":case"linkViaRedirect":return XMe;case"reauthViaPopup":case"reauthViaRedirect":return JMe;default:io(this.auth,"internal-error")}}resolve(e){nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){nc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new fm(2e3,1e4);const tRe="pendingRedirect",Tm=new Map;class nRe extends eRe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return w(function*(){let r=Tm.get(n.auth._key());if(!r){try{const i=(yield function rRe(t,e){return ox.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(i)}catch(o){r=()=>Promise.reject(o)}Tm.set(n.auth._key(),r)}return n.bypassAuthState||Tm.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return w(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const o=yield r.auth._redirectUserForId(e.eventId);if(o)return r.user=o,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return w(function*(){})()}cleanUp(){}}function ox(){return(ox=w(function*(t,e){const n=function Y9(t){return pD(tRe,t.config.apiKey,t.name)}(e),r=function Q9(t){return Js(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const o="true"===(yield r._get(n));return yield r._remove(n),o})).apply(this,arguments)}function oRe(t,e){Tm.set(t._key(),e)}function Z9(t,e){return dx.apply(this,arguments)}function dx(){return(dx=w(function*(t,e,n=!1){if(Ks(t.app))return Promise.reject(Kn(t));const r=un(t),o=function Ru(t,e){return e?Js(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),s=yield new nRe(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}class uRe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function lRe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eW(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eW(e)){const o=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Zo(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(X9(e))}saveEventToCache(e){this.cachedEventUids.add(X9(e)),this.lastProcessedEventTime=Date.now()}}function X9(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eW({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function hx(){return(hx=w(function*(t,e={}){return Lt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const fRe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hRe=/^https?/;function px(){return px=w(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function dRe(t){return hx.apply(this,arguments)}(t);for(const n of e)try{if(gRe(n))return}catch{}io(t,"unauthorized-domain")}),px.apply(this,arguments)}function gRe(t){const e=dm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return""===s.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!hRe.test(n))return!1;if(fRe.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}const mRe=new fm(3e4,6e4);function tW(){const t=En().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let CD=null;const vRe=new fm(5e3,15e3),IRe="__/auth/iframe",ERe="emulator/auth/iframe",DRe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wRe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CRe(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hN(e,ERe):`https://${t.config.authDomain}/${IRe}`,r={apiKey:e.apiKey,appName:t.name,v:cf},o=wRe.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${im(r).slice(1)}`}function gx(){return gx=w(function*(t){const e=yield function yRe(t){return CD=CD||function _Re(t){return new Promise((e,n)=>{var r,o,i;function s(){tW(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tW(),n(Zo(t,"network-request-failed"))},timeout:mRe.get()})}if(null!==(o=null===(r=En().gapi)||void 0===r?void 0:r.iframes)&&void 0!==o&&o.Iframe)e(gapi.iframes.getContext());else{if(null===(i=En().gapi)||void 0===i||!i.load){const a=S9("iframefcb");return En()[a]=()=>{gapi.load?s():n(Zo(t,"network-request-failed"))},PN(`${function TAe(){return mm.gapiScript}()}?onload=${a}`).catch(c=>n(c))}s()}}).catch(e=>{throw CD=null,e})}(t),CD}(t),n=En().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:CRe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DRe,dontclear:!0},r=>new Promise(function(){var o=w(function*(i,s){yield r.restyle({setHideOnLeave:!1});const a=Zo(t,"network-request-failed"),c=En().setTimeout(()=>{s(a)},vRe.get());function u(){En().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{s(a)})});return function(i,s){return o.apply(this,arguments)}}()))}),gx.apply(this,arguments)}const TRe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nW{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const xRe="__/auth/handler",ORe="emulator/auth/handler",kRe=encodeURIComponent("fac");function rW(t,e,n,r,o,i){return mx.apply(this,arguments)}function mx(){return(mx=w(function*(t,e,n,r,o,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cf,eventId:o};if(e instanceof ea){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",function lSe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries(i||{}))s[l]=d}if(e instanceof XAe){const l=e.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield t._getAppCheckToken(),u=c?`#${kRe}=${encodeURIComponent(c)}`:"";return`${function FRe({config:t}){return t.emulator?hN(t,ORe):`https://${t.authDomain}/${xRe}`}(t)}?${im(a).slice(1)}${u}`})).apply(this,arguments)}const _x="webStorageSupport",VRe=class LRe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H9,this._completeRedirectFn=Z9,this._overrideRedirectResult=oRe}_openPopup(e,n,r,o){var i=this;return w(function*(){var s;nc(null===(s=i.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield rW(e,n,r,dm(),o);return function NRe(t,e,n,r=500,o=600){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},TRe),{width:r.toString(),height:o.toString(),top:i,left:s}),u=cn().toLowerCase();n&&(a=v9(u)?"_blank":n),_9(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(function mAe(t=cn()){var e;return RN(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function PRe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new nW(null);const d=window.open(e||"",a,l);Q(d,t,"popup-blocked");try{d.focus()}catch{}return new nW(d)}(e,a,VP())})()}_openRedirect(e,n,r,o){var i=this;return w(function*(){return yield i._originValidation(e),function SMe(t){En().location.href=t}(yield rW(e,n,r,dm(),o)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(nc(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return w(function*(){const r=yield function bRe(t){return gx.apply(this,arguments)}(e),o=new uRe(e);return r.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:o.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:o},n.iframes[e._key()]=r,o})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_x,{type:_x},o=>{var i;const s=null===(i=o?.[0])||void 0===i?void 0:i[_x];void 0!==s&&n(!!s),io(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function pRe(t){return px.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C9()||y9()||RN()}};var aW="@firebase/auth";class jRe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return w(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const HRe=M5("authIdTokenMaxAge")||300;let uW=null;const GRe=t=>function(){var e=w(function*(n){const r=n&&(yield n.getIdTokenResult()),o=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(o&&o>HRe)return;const i=r?.token;uW!==i&&(uW=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function zRe(t=eN()){const e=ec(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function RAe(t,e){const n=ec(t,"auth");if(n.isInitialized()){const o=n.getImmediate();if(Tu(n.getOptions(),e??{}))return o;io(o,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:VRe,persistence:[FMe,wMe,H9]}),r=M5("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const s=GRe(i.toString());(function gMe(t,e,n){Jt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function pMe(t,e,n,r){Jt(t).onIdTokenChanged(e,n,r)}(n,a=>s(a))}}const o=S5("auth");return o&&function PAe(t,e,n){const r=un(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!n?.disableWarnings,i=R9(e),{host:s,port:a}=function xAe(t){const e=R9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:N9(r.substr(i.length+1))}}{const[i,s]=r.split(":");return{host:i,port:N9(s)}}}(e);r.config.emulator={url:`${i}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||function OAe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${o}`),n}(function wAe(t){mm=t})({loadJS:t=>new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Zo("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",function qRe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function BRe(t){us(new Ti("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b9(t)},u=new DAe(r,o,i,c);return function NAe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Js);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),us(new Ti("auth-internal",e=>{const n=un(e.getProvider("auth").getImmediate());return new jRe(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mo(aW,"1.7.9",function URe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(t)),Mo(aW,"1.7.9","esm2017")}("Browser");var Nu,fW,lW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dW={};(function(){var t;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function o(b,C,T){T||(T=0);var M=Array(16);if("string"==typeof C)for(var R=0;16>R;++R)M[R]=C.charCodeAt(T++)|C.charCodeAt(T++)<<8|C.charCodeAt(T++)<<16|C.charCodeAt(T++)<<24;else for(R=0;16>R;++R)M[R]=C[T++]|C[T++]<<8|C[T++]<<16|C[T++]<<24;var x=b.g[3],S=(C=b.g[0])+(x^(T=b.g[1])&((R=b.g[2])^x))+M[0]+3614090360&4294967295;S=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=(T=(R=(x=(C=T+(S<<7&4294967295|S>>>25))+((S=x+(R^C&(T^R))+M[1]+3905402710&4294967295)<<12&4294967295|S>>>20))+((S=R+(T^x&(C^T))+M[2]+606105819&4294967295)<<17&4294967295|S>>>15))+((S=T+(C^R&(x^C))+M[3]+3250441966&4294967295)<<22&4294967295|S>>>10))+((S=C+(x^T&(R^x))+M[4]+4118548399&4294967295)<<7&4294967295|S>>>25))+((S=x+(R^C&(T^R))+M[5]+1200080426&4294967295)<<12&4294967295|S>>>20))+((S=R+(T^x&(C^T))+M[6]+2821735955&4294967295)<<17&4294967295|S>>>15))+((S=T+(C^R&(x^C))+M[7]+4249261313&4294967295)<<22&4294967295|S>>>10))+((S=C+(x^T&(R^x))+M[8]+1770035416&4294967295)<<7&4294967295|S>>>25))+((S=x+(R^C&(T^R))+M[9]+2336552879&4294967295)<<12&4294967295|S>>>20))+((S=R+(T^x&(C^T))+M[10]+4294925233&4294967295)<<17&4294967295|S>>>15))+((S=T+(C^R&(x^C))+M[11]+2304563134&4294967295)<<22&4294967295|S>>>10))+((S=C+(x^T&(R^x))+M[12]+1804603682&4294967295)<<7&4294967295|S>>>25))+((S=x+(R^C&(T^R))+M[13]+4254626195&4294967295)<<12&4294967295|S>>>20))+((S=R+(T^x&(C^T))+M[14]+2792965006&4294967295)<<17&4294967295|S>>>15))+((S=T+(C^R&(x^C))+M[15]+1236535329&4294967295)<<22&4294967295|S>>>10))+((S=C+(R^x&(T^R))+M[1]+4129170786&4294967295)<<5&4294967295|S>>>27))+((S=x+(T^R&(C^T))+M[6]+3225465664&4294967295)<<9&4294967295|S>>>23))+((S=R+(C^T&(x^C))+M[11]+643717713&4294967295)<<14&4294967295|S>>>18))+((S=T+(x^C&(R^x))+M[0]+3921069994&4294967295)<<20&4294967295|S>>>12))+((S=C+(R^x&(T^R))+M[5]+3593408605&4294967295)<<5&4294967295|S>>>27))+((S=x+(T^R&(C^T))+M[10]+38016083&4294967295)<<9&4294967295|S>>>23))+((S=R+(C^T&(x^C))+M[15]+3634488961&4294967295)<<14&4294967295|S>>>18))+((S=T+(x^C&(R^x))+M[4]+3889429448&4294967295)<<20&4294967295|S>>>12))+((S=C+(R^x&(T^R))+M[9]+568446438&4294967295)<<5&4294967295|S>>>27))+((S=x+(T^R&(C^T))+M[14]+3275163606&4294967295)<<9&4294967295|S>>>23))+((S=R+(C^T&(x^C))+M[3]+4107603335&4294967295)<<14&4294967295|S>>>18))+((S=T+(x^C&(R^x))+M[8]+1163531501&4294967295)<<20&4294967295|S>>>12))+((S=C+(R^x&(T^R))+M[13]+2850285829&4294967295)<<5&4294967295|S>>>27))+((S=x+(T^R&(C^T))+M[2]+4243563512&4294967295)<<9&4294967295|S>>>23))+((S=R+(C^T&(x^C))+M[7]+1735328473&4294967295)<<14&4294967295|S>>>18))+((S=T+(x^C&(R^x))+M[12]+2368359562&4294967295)<<20&4294967295|S>>>12))+((S=C+(T^R^x)+M[5]+4294588738&4294967295)<<4&4294967295|S>>>28))+((S=x+(C^T^R)+M[8]+2272392833&4294967295)<<11&4294967295|S>>>21))+((S=R+(x^C^T)+M[11]+1839030562&4294967295)<<16&4294967295|S>>>16))+((S=T+(R^x^C)+M[14]+4259657740&4294967295)<<23&4294967295|S>>>9))+((S=C+(T^R^x)+M[1]+2763975236&4294967295)<<4&4294967295|S>>>28))+((S=x+(C^T^R)+M[4]+1272893353&4294967295)<<11&4294967295|S>>>21))+((S=R+(x^C^T)+M[7]+4139469664&4294967295)<<16&4294967295|S>>>16))+((S=T+(R^x^C)+M[10]+3200236656&4294967295)<<23&4294967295|S>>>9))+((S=C+(T^R^x)+M[13]+681279174&4294967295)<<4&4294967295|S>>>28))+((S=x+(C^T^R)+M[0]+3936430074&4294967295)<<11&4294967295|S>>>21))+((S=R+(x^C^T)+M[3]+3572445317&4294967295)<<16&4294967295|S>>>16))+((S=T+(R^x^C)+M[6]+76029189&4294967295)<<23&4294967295|S>>>9))+((S=C+(T^R^x)+M[9]+3654602809&4294967295)<<4&4294967295|S>>>28))+((S=x+(C^T^R)+M[12]+3873151461&4294967295)<<11&4294967295|S>>>21))+((S=R+(x^C^T)+M[15]+530742520&4294967295)<<16&4294967295|S>>>16))+((S=T+(R^x^C)+M[2]+3299628645&4294967295)<<23&4294967295|S>>>9))+((S=C+(R^(T|~x))+M[0]+4096336452&4294967295)<<6&4294967295|S>>>26))+((S=x+(T^(C|~R))+M[7]+1126891415&4294967295)<<10&4294967295|S>>>22))+((S=R+(C^(x|~T))+M[14]+2878612391&4294967295)<<15&4294967295|S>>>17))+((S=T+(x^(R|~C))+M[5]+4237533241&4294967295)<<21&4294967295|S>>>11))+((S=C+(R^(T|~x))+M[12]+1700485571&4294967295)<<6&4294967295|S>>>26))+((S=x+(T^(C|~R))+M[3]+2399980690&4294967295)<<10&4294967295|S>>>22))+((S=R+(C^(x|~T))+M[10]+4293915773&4294967295)<<15&4294967295|S>>>17))+((S=T+(x^(R|~C))+M[1]+2240044497&4294967295)<<21&4294967295|S>>>11))+((S=C+(R^(T|~x))+M[8]+1873313359&4294967295)<<6&4294967295|S>>>26))+((S=x+(T^(C|~R))+M[15]+4264355552&4294967295)<<10&4294967295|S>>>22))+((S=R+(C^(x|~T))+M[6]+2734768916&4294967295)<<15&4294967295|S>>>17))+((S=T+(x^(R|~C))+M[13]+1309151649&4294967295)<<21&4294967295|S>>>11))+((x=(C=T+((S=C+(R^(T|~x))+M[4]+4149444226&4294967295)<<6&4294967295|S>>>26))+((S=x+(T^(C|~R))+M[11]+3174756917&4294967295)<<10&4294967295|S>>>22))^((R=x+((S=R+(C^(x|~T))+M[2]+718787259&4294967295)<<15&4294967295|S>>>17))|~C))+M[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(R+(S<<21&4294967295|S>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+x&4294967295}function s(b,C){this.h=C;for(var T=[],M=!0,R=b.length-1;0<=R;R--){var x=0|b[R];M&&x==C||(T[R]=x,M=!1)}this.g=T}(function e(b,C){function T(){}T.prototype=C.prototype,b.D=C.prototype,b.prototype=new T,b.prototype.constructor=b,b.C=function(M,R,x){for(var S=Array(arguments.length-2),wa=2;wa<arguments.length;wa++)S[wa-2]=arguments[wa];return C.prototype[R].apply(M,S)}})(r,function n(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(b,C){void 0===C&&(C=b.length);for(var T=C-this.blockSize,M=this.B,R=this.h,x=0;x<C;){if(0==R)for(;x<=T;)o(this,b,x),x+=this.blockSize;if("string"==typeof b){for(;x<C;)if(M[R++]=b.charCodeAt(x++),R==this.blockSize){o(this,M),R=0;break}}else for(;x<C;)if(M[R++]=b[x++],R==this.blockSize){o(this,M),R=0;break}}this.h=R,this.o+=C},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;var T=8*this.o;for(C=b.length-8;C<b.length;++C)b[C]=255&T,T/=256;for(this.u(b),b=Array(16),C=T=0;4>C;++C)for(var M=0;32>M;M+=8)b[T++]=this.g[C]>>>M&255;return b};var a={};function c(b){return-128<=b&&128>b?function i(b,C){var T=a;return Object.prototype.hasOwnProperty.call(T,b)?T[b]:T[b]=C(b)}(b,function(C){return new s([0|C],0>C?-1:0)}):new s([0|b],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return d;if(0>b)return v(u(-b));for(var C=[],T=1,M=0;b>=T;M++)C[M]=b/T|0,T*=4294967296;return new s(C,0)}var d=c(0),h=c(1),p=c(16777216);function m(b){if(0!=b.h)return!1;for(var C=0;C<b.g.length;C++)if(0!=b.g[C])return!1;return!0}function y(b){return-1==b.h}function v(b){for(var C=b.g.length,T=[],M=0;M<C;M++)T[M]=~b.g[M];return new s(T,~b.h).add(h)}function D(b,C){return b.add(v(C))}function I(b,C){for(;(65535&b[C])!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function A(b,C){this.g=b,this.h=C}function k(b,C){if(m(C))throw Error("division by zero");if(m(b))return new A(d,d);if(y(b))return C=k(v(b),C),new A(v(C.g),v(C.h));if(y(C))return C=k(b,v(C)),new A(v(C.g),C.h);if(30<b.g.length){if(y(b)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var T=h,M=C;0>=M.l(b);)T=U(T),M=U(M);var R=z(T,1),x=z(M,1);for(M=z(M,2),T=z(T,2);!m(M);){var S=x.add(M);0>=S.l(b)&&(R=R.add(T),x=S),M=z(M,1),T=z(T,1)}return C=D(b,R.j(C)),new A(R,C)}for(R=d;0<=b.l(C);){for(T=Math.max(1,Math.floor(b.m()/C.m())),M=48>=(M=Math.ceil(Math.log(T)/Math.LN2))?1:Math.pow(2,M-48),S=(x=u(T)).j(C);y(S)||0<S.l(b);)S=(x=u(T-=M)).j(C);m(x)&&(x=h),R=R.add(x),b=D(b,S)}return new A(R,b)}function U(b){for(var C=b.g.length+1,T=[],M=0;M<C;M++)T[M]=b.i(M)<<1|b.i(M-1)>>>31;return new s(T,b.h)}function z(b,C){var T=C>>5;C%=32;for(var M=b.g.length-T,R=[],x=0;x<M;x++)R[x]=0<C?b.i(x+T)>>>C|b.i(x+T+1)<<32-C:b.i(x+T);return new s(R,b.h)}(t=s.prototype).m=function(){if(y(this))return-v(this).m();for(var b=0,C=1,T=0;T<this.g.length;T++){var M=this.i(T);b+=(0<=M?M:4294967296+M)*C,C*=4294967296}return b},t.toString=function(b){if(2>(b=b||10)||36<b)throw Error("radix out of range: "+b);if(m(this))return"0";if(y(this))return"-"+v(this).toString(b);for(var C=u(Math.pow(b,6)),T=this,M="";;){var R=k(T,C).g,x=((0<(T=D(T,R.j(C))).g.length?T.g[0]:T.h)>>>0).toString(b);if(m(T=R))return x+M;for(;6>x.length;)x="0"+x;M=x+M}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h},t.l=function(b){return y(b=D(this,b))?-1:m(b)?0:1},t.abs=function(){return y(this)?v(this):this},t.add=function(b){for(var C=Math.max(this.g.length,b.g.length),T=[],M=0,R=0;R<=C;R++){var x=M+(65535&this.i(R))+(65535&b.i(R)),S=(x>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);M=S>>>16,T[R]=(S&=65535)<<16|(x&=65535)}return new s(T,-2147483648&T[T.length-1]?-1:0)},t.j=function(b){if(m(this)||m(b))return d;if(y(this))return y(b)?v(this).j(v(b)):v(v(this).j(b));if(y(b))return v(this.j(v(b)));if(0>this.l(p)&&0>b.l(p))return u(this.m()*b.m());for(var C=this.g.length+b.g.length,T=[],M=0;M<2*C;M++)T[M]=0;for(M=0;M<this.g.length;M++)for(var R=0;R<b.g.length;R++){var x=this.i(M)>>>16,S=65535&this.i(M),wa=b.i(R)>>>16,Fy=65535&b.i(R);T[2*M+2*R]+=S*Fy,I(T,2*M+2*R),T[2*M+2*R+1]+=x*Fy,I(T,2*M+2*R+1),T[2*M+2*R+1]+=S*wa,I(T,2*M+2*R+1),T[2*M+2*R+2]+=x*wa,I(T,2*M+2*R+2)}for(M=0;M<C;M++)T[M]=T[2*M+1]<<16|T[2*M];for(M=C;M<2*C;M++)T[M]=0;return new s(T,0)},t.A=function(b){return k(this,b).h},t.and=function(b){for(var C=Math.max(this.g.length,b.g.length),T=[],M=0;M<C;M++)T[M]=this.i(M)&b.i(M);return new s(T,this.h&b.h)},t.or=function(b){for(var C=Math.max(this.g.length,b.g.length),T=[],M=0;M<C;M++)T[M]=this.i(M)|b.i(M);return new s(T,this.h|b.h)},t.xor=function(b){for(var C=Math.max(this.g.length,b.g.length),T=[],M=0;M<C;M++)T[M]=this.i(M)^b.i(M);return new s(T,this.h^b.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fW=dW.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=function l(b,C){if(0==b.length)throw Error("number format error: empty string");if(2>(C=C||10)||36<C)throw Error("radix out of range: "+C);if("-"==b.charAt(0))return v(l(b.substring(1),C));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(C,8)),M=d,R=0;R<b.length;R+=8){var x=Math.min(8,b.length-R),S=parseInt(b.substring(R,R+x),C);8>x?(x=u(Math.pow(C,x)),M=M.j(x).add(u(S))):M=(M=M.j(T)).add(u(S))}return M},Nu=dW.Integer=s}).apply(typeof lW<"u"?lW:typeof self<"u"?self:typeof window<"u"?window:{});var hW,Sm,pW,SD,vx,gW,mW,_W,TD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ta={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(f,g,_){return f==Array.prototype||f==Object.prototype||(f[g]=_.value),f},r=function n(f){f=["object"==typeof globalThis&&globalThis,f,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof TD&&TD];for(var g=0;g<f.length;++g){var _=f[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}(this);!function o(f,g){if(g)e:{var _=r;f=f.split(".");for(var E=0;E<f.length-1;E++){var N=f[E];if(!(N in _))break e;_=_[N]}(g=g(E=_[f=f[f.length-1]]))!=E&&null!=g&&e(_,f,{configurable:!0,writable:!0,value:g})}}("Array.prototype.values",function(f){return f||function(){return function i(f,g){f instanceof String&&(f+="");var _=0,E=!1,N={next:function(){if(!E&&_<f.length){var F=_++;return{value:g(F,f[F]),done:!1}}return E=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}(this,function(g,_){return _})}});var s=s||{},a=this||self;function c(f){var g=typeof f;return"array"==(g="object"!=g?g:f?Array.isArray(f)?"array":g:"null")||"object"==g&&"number"==typeof f.length}function u(f){var g=typeof f;return"object"==g&&null!=f||"function"==g}function l(f,g,_){return f.call.apply(f.bind,arguments)}function d(f,g,_){if(!f)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,E),f.apply(g,N)}}return function(){return f.apply(g,arguments)}}function h(f,g,_){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:d).apply(null,arguments)}function p(f,g){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),f.apply(this,E)}}function m(f,g){function _(){}_.prototype=g.prototype,f.aa=g.prototype,f.prototype=new _,f.prototype.constructor=f,f.Qb=function(E,N,F){for(var Z=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)Z[Dt-2]=arguments[Dt];return g.prototype[N].apply(E,Z)}}function y(f){const g=f.length;if(0<g){const _=Array(g);for(let E=0;E<g;E++)_[E]=f[E];return _}return[]}function v(f,g){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(c(E)){const N=f.length||0,F=E.length||0;f.length=N+F;for(let Z=0;Z<F;Z++)f[N+Z]=E[Z]}else f.push(E)}}function I(f){return/^[\s\xa0]*$/.test(f)}function A(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var U=!(-1==A().indexOf("Gecko")||-1!=A().toLowerCase().indexOf("webkit")&&-1==A().indexOf("Edge")||-1!=A().indexOf("Trident")||-1!=A().indexOf("MSIE")||-1!=A().indexOf("Edge"));function z(f,g,_){for(const E in f)g.call(_,f[E],E,f)}function C(f){const g={};for(const _ in f)g[_]=f[_];return g}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(f,g){let _,E;for(let N=1;N<arguments.length;N++){for(_ in E=arguments[N],E)f[_]=E[_];for(let F=0;F<T.length;F++)_=T[F],Object.prototype.hasOwnProperty.call(E,_)&&(f[_]=E[_])}}function R(f){var g=1;f=f.split(":");const _=[];for(;0<g&&f.length;)_.push(f.shift()),g--;return f.length&&_.push(f.join(":")),_}function x(f){a.setTimeout(()=>{throw f},0)}function S(){var f=W2;let g=null;return f.g&&(g=f.g,f.g=f.g.next,f.g||(f.h=null),g.next=null),g}var Fy=new class D{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}(()=>new u6e,f=>f.reset());class u6e{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ly,Vy=!1,W2=new class wa{constructor(){this.h=this.g=null}add(g,_){const E=Fy.get();E.set(g,_),this.h?this.h.next=E:this.g=E,this.h=E}},ose=()=>{const f=a.Promise.resolve(void 0);Ly=()=>{f.then(l6e)}};var l6e=()=>{for(var f;f=S();){try{f.h.call(f.g)}catch(_){x(_)}var g=Fy;g.j(f),100>g.h&&(g.h++,f.next=g.g,g.g=f)}Vy=!1};function kc(){this.s=this.s,this.C=this.C}function Ar(f,g){this.type=f,this.g=this.target=g,this.defaultPrevented=!1}kc.prototype.s=!1,kc.prototype.ma=function(){this.s||(this.s=!0,this.N())},kc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ar.prototype.h=function(){this.defaultPrevented=!0};var d6e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,g=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const _=()=>{};a.addEventListener("test",_,g),a.removeEventListener("test",_,g)}catch{}return f}();function jy(f,g){if(Ar.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var _=this.type=f.type,E=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=g,g=f.relatedTarget){if(U){e:{try{k(g.nodeName);var N=!0;break e}catch{}N=!1}N||(g=null)}}else"mouseover"==_?g=f.fromElement:"mouseout"==_&&(g=f.toElement);this.relatedTarget=g,E?(this.clientX=void 0!==E.clientX?E.clientX:E.pageX,this.clientY=void 0!==E.clientY?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=void 0!==f.clientX?f.clientX:f.pageX,this.clientY=void 0!==f.clientY?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType="string"==typeof f.pointerType?f.pointerType:f6e[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&jy.aa.h.call(this)}}m(jy,Ar);var f6e={2:"touch",3:"pen",4:"mouse"};jy.prototype.h=function(){jy.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Uy="closure_listenable_"+(1e6*Math.random()|0),h6e=0;function p6e(f,g,_,E,N){this.listener=f,this.proxy=null,this.src=g,this.type=_,this.capture=!!E,this.ha=N,this.key=++h6e,this.da=this.fa=!1}function Xb(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function eT(f){this.src=f,this.g={},this.h=0}function K2(f,g){var _=g.type;if(_ in f.g){var F,E=f.g[_],N=Array.prototype.indexOf.call(E,g,void 0);(F=0<=N)&&Array.prototype.splice.call(E,N,1),F&&(Xb(g),0==f.g[_].length&&(delete f.g[_],f.h--))}}function Q2(f,g,_,E){for(var N=0;N<f.length;++N){var F=f[N];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==E)return N}return-1}eT.prototype.add=function(f,g,_,E,N){var F=f.toString();(f=this.g[F])||(f=this.g[F]=[],this.h++);var Z=Q2(f,g,E,N);return-1<Z?(g=f[Z],_||(g.fa=!1)):((g=new p6e(g,this.src,F,!!E,N)).fa=_,f.push(g)),g};var Y2="closure_lm_"+(1e6*Math.random()|0),Z2={};function ise(f,g,_,E,N){if(E&&E.once)return ase(f,g,_,E,N);if(Array.isArray(g)){for(var F=0;F<g.length;F++)ise(f,g[F],_,E,N);return null}return _=tj(_),f&&f[Uy]?f.K(g,_,u(E)?!!E.capture:!!E,N):sse(f,g,_,!1,E,N)}function sse(f,g,_,E,N,F){if(!g)throw Error("Invalid event type");var Z=u(N)?!!N.capture:!!N,Dt=X2(f);if(Dt||(f[Y2]=Dt=new eT(f)),(_=Dt.add(g,_,E,Z,F)).proxy)return _;if(E=function g6e(){const g=m6e;return function f(_){return g.call(f.src,f.listener,_)}}(),_.proxy=E,E.src=f,E.listener=_,f.addEventListener)d6e||(N=Z),void 0===N&&(N=!1),f.addEventListener(g.toString(),E,N);else if(f.attachEvent)f.attachEvent(use(g.toString()),E);else{if(!f.addListener||!f.removeListener)throw Error("addEventListener and attachEvent are unavailable.");f.addListener(E)}return _}function ase(f,g,_,E,N){if(Array.isArray(g)){for(var F=0;F<g.length;F++)ase(f,g[F],_,E,N);return null}return _=tj(_),f&&f[Uy]?f.L(g,_,u(E)?!!E.capture:!!E,N):sse(f,g,_,!0,E,N)}function cse(f,g,_,E,N){if(Array.isArray(g))for(var F=0;F<g.length;F++)cse(f,g[F],_,E,N);else E=u(E)?!!E.capture:!!E,_=tj(_),f&&f[Uy]?(f=f.i,(g=String(g).toString())in f.g&&-1<(_=Q2(F=f.g[g],_,E,N))&&(Xb(F[_]),Array.prototype.splice.call(F,_,1),0==F.length&&(delete f.g[g],f.h--))):f&&(f=X2(f))&&(g=f.g[g.toString()],f=-1,g&&(f=Q2(g,_,E,N)),(_=-1<f?g[f]:null)&&J2(_))}function J2(f){if("number"!=typeof f&&f&&!f.da){var g=f.src;if(g&&g[Uy])K2(g.i,f);else{var _=f.type,E=f.proxy;g.removeEventListener?g.removeEventListener(_,E,f.capture):g.detachEvent?g.detachEvent(use(_),E):g.addListener&&g.removeListener&&g.removeListener(E),(_=X2(g))?(K2(_,f),0==_.h&&(_.src=null,g[Y2]=null)):Xb(f)}}}function use(f){return f in Z2?Z2[f]:Z2[f]="on"+f}function m6e(f,g){if(f.da)f=!0;else{g=new jy(g,this);var _=f.listener,E=f.ha||f.src;f.fa&&J2(f),f=_.call(E,g)}return f}function X2(f){return(f=f[Y2])instanceof eT?f:null}var ej="__closure_events_fn_"+(1e9*Math.random()>>>0);function tj(f){return"function"==typeof f?f:(f[ej]||(f[ej]=function(g){return f.handleEvent(g)}),f[ej])}function Mr(){kc.call(this),this.i=new eT(this),this.M=this,this.F=null}function Zr(f,g){var _,E=f.F;if(E)for(_=[];E;E=E.F)_.push(E);if(f=f.M,E=g.type||g,"string"==typeof g)g=new Ar(g,f);else if(g instanceof Ar)g.target=g.target||f;else{var N=g;M(g=new Ar(E,f),N)}if(N=!0,_)for(var F=_.length-1;0<=F;F--){var Z=g.g=_[F];N=tT(Z,E,!0,g)&&N}if(N=tT(Z=g.g=f,E,!0,g)&&N,N=tT(Z,E,!1,g)&&N,_)for(F=0;F<_.length;F++)N=tT(Z=g.g=_[F],E,!1,g)&&N}function tT(f,g,_,E){if(!(g=f.i.g[String(g)]))return!0;g=g.concat();for(var N=!0,F=0;F<g.length;++F){var Z=g[F];if(Z&&!Z.da&&Z.capture==_){var Dt=Z.listener,fr=Z.ha||Z.src;Z.fa&&K2(f.i,Z),N=!1!==Dt.call(fr,E)&&N}}return N&&!E.defaultPrevented}function lse(f,g,_){if("function"==typeof f)_&&(f=h(f,_));else{if(!f||"function"!=typeof f.handleEvent)throw Error("Invalid listener argument");f=h(f.handleEvent,f)}return 2147483647<Number(g)?-1:a.setTimeout(f,g||0)}function dse(f){f.g=lse(()=>{f.g=null,f.i&&(f.i=!1,dse(f))},f.l);const g=f.h;f.h=null,f.m.apply(null,g)}m(Mr,kc),Mr.prototype[Uy]=!0,Mr.prototype.removeEventListener=function(f,g,_,E){cse(this,f,g,_,E)},Mr.prototype.N=function(){if(Mr.aa.N.call(this),this.i){var g,f=this.i;for(g in f.g){for(var _=f.g[g],E=0;E<_.length;E++)Xb(_[E]);delete f.g[g],f.h--}}this.F=null},Mr.prototype.K=function(f,g,_,E){return this.i.add(String(f),g,!1,_,E)},Mr.prototype.L=function(f,g,_,E){return this.i.add(String(f),g,!0,_,E)};class _6e extends kc{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:dse(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function By(f){kc.call(this),this.h=f,this.g={}}m(By,kc);var fse=[];function hse(f){z(f.g,function(g,_){this.g.hasOwnProperty(_)&&J2(g)},f),f.g={}}By.prototype.N=function(){By.aa.N.call(this),hse(this)},By.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nj=a.JSON.stringify,y6e=a.JSON.parse,v6e=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function rj(){}function gse(){}rj.prototype.h=null;var $y={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oj(){Ar.call(this,"d")}function ij(){Ar.call(this,"c")}m(oj,Ar),m(ij,Ar);var Ml={},mse=null;function nT(){return mse=mse||new Mr}function _se(f){Ar.call(this,Ml.La,f)}function Hy(f){const g=nT();Zr(g,new _se(g))}function yse(f,g){Ar.call(this,Ml.STAT_EVENT,f),this.stat=g}function Jr(f){const g=nT();Zr(g,new yse(g,f))}function vse(f,g){Ar.call(this,Ml.Ma,f),this.size=g}function Gy(f,g){if("function"!=typeof f)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},g)}function zy(){this.g=!0}function sp(f,g,_,E){f.info(function(){return"XMLHTTP TEXT ("+g+"): "+function w6e(f,g){if(!f.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_)for(f=0;f<_.length;f++)if(Array.isArray(_[f])){var E=_[f];if(!(2>E.length)){var N=E[1];if(Array.isArray(N)&&!(1>N.length)){var F=N[0];if("noop"!=F&&"stop"!=F&&"close"!=F)for(var Z=1;Z<N.length;Z++)N[Z]=""}}}return nj(_)}catch{return g}}(f,_)+(E?" "+E:"")})}Ml.La="serverreachability",m(_se,Ar),Ml.STAT_EVENT="statevent",m(yse,Ar),Ml.Ma="timingevent",m(vse,Ar),zy.prototype.xa=function(){this.g=!1},zy.prototype.info=function(){};var sj,rT={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ise={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function oT(){}function Fc(f,g,_,E){this.j=f,this.i=g,this.l=_,this.R=E||1,this.U=new By(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ese}function Ese(){this.i=null,this.g="",this.h=!1}m(oT,rj),oT.prototype.g=function(){return new XMLHttpRequest},oT.prototype.i=function(){return{}},sj=new oT;var Dse={},aj={};function cj(f,g,_){f.L=1,f.v=cT(Ca(g)),f.m=_,f.P=!0,wse(f,null)}function wse(f,g){f.F=Date.now(),iT(f),f.A=Ca(f.v);var _=f.A,E=f.R;Array.isArray(E)||(E=[String(E)]),Lse(_.i,"t",E),f.C=0,_=f.j.J,f.h=new Ese,f.g=tae(f.j,_?g:null,!f.m),0<f.O&&(f.M=new _6e(h(f.Y,f,f.g),f.O)),g=f.U,_=f.g,E=f.ca;var N="readystatechange";Array.isArray(N)||(N&&(fse[0]=N.toString()),N=fse);for(var F=0;F<N.length;F++){var Z=ise(_,N[F],E||g.handleEvent,!1,g.h||g);if(!Z)break;g.g[Z.key]=Z}g=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,g)):(f.u="GET",f.g.ea(f.A,f.u,null,g)),Hy(),function I6e(f,g,_,E,N,F){f.info(function(){if(f.g)if(F)for(var Z="",Dt=F.split("&"),fr=0;fr<Dt.length;fr++){var Ze=Dt[fr].split("=");if(1<Ze.length){var Rr=Ze[0];Ze=Ze[1];var Nr=Rr.split("_");Z=2<=Nr.length&&"type"==Nr[1]?Z+(Rr+"=")+Ze+"&":Z+(Rr+"=redacted&")}}else Z=null;else Z=F;return"XMLHTTP REQ ("+E+") [attempt "+N+"]: "+g+"\n"+_+"\n"+Z})}(f.i,f.u,f.A,f.l,f.R,f.m)}function Cse(f){return!!f.g&&"GET"==f.u&&2!=f.L&&f.j.Ca}function C6e(f,g){var _=f.C,E=g.indexOf("\n",_);return-1==E?aj:(_=Number(g.substring(_,E)),isNaN(_)?Dse:(E+=1)+_>g.length?aj:(g=g.slice(E,E+_),f.C=E+_,g))}function iT(f){f.S=Date.now()+f.I,bse(f,f.I)}function bse(f,g){if(null!=f.B)throw Error("WatchDog timer not null");f.B=Gy(h(f.ba,f),g)}function uj(f){f.B&&(a.clearTimeout(f.B),f.B=null)}function qy(f){0==f.j.G||f.J||Zse(f.j,f)}function Rl(f){uj(f);var g=f.M;g&&"function"==typeof g.ma&&g.ma(),f.M=null,hse(f.U),f.g&&(g=f.g,f.g=null,g.abort(),g.ma())}function lj(f,g){try{var _=f.j;if(0!=_.G&&(_.g==f||dj(_.h,f)))if(!f.K&&dj(_.h,f)&&3==_.G){try{var E=_.Da.g.parse(g)}catch{E=null}if(Array.isArray(E)&&3==E.length){var N=E;if(0==N[0]){e:if(!_.u){if(_.g){if(!(_.g.F+3e3<f.F))break e;hT(_),dT(_)}gj(_),Jr(18)}}else _.za=N[1],0<_.za-_.T&&37500>N[2]&&_.F&&0==_.v&&!_.C&&(_.C=Gy(h(_.Za,_),6e3));if(1>=Ase(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Pl(_,11)}else if((f.K||_.g==f)&&hT(_),!I(g))for(N=_.Da.g.parse(g),g=0;g<N.length;g++){let Ze=N[g];if(_.T=Ze[0],Ze=Ze[1],2==_.G)if("c"==Ze[0]){_.K=Ze[1],_.ia=Ze[2];const Rr=Ze[3];null!=Rr&&(_.la=Rr,_.j.info("VER="+_.la));const Nr=Ze[4];null!=Nr&&(_.Aa=Nr,_.j.info("SVER="+_.Aa));const up=Ze[5];null!=up&&"number"==typeof up&&0<up&&(_.L=E=1.5*up,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const Ui=f.g;if(Ui){const gT=Ui.g?Ui.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gT){var F=E.h;F.g||-1==gT.indexOf("spdy")&&-1==gT.indexOf("quic")&&-1==gT.indexOf("h2")||(F.j=F.l,F.g=new Set,F.h&&(fj(F,F.h),F.h=null))}if(E.D){const _j=Ui.g?Ui.g.getResponseHeader("X-HTTP-Session-Id"):null;_j&&(E.ya=_j,jt(E.I,E.D,_j))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-f.F,_.j.info("Handshake RTT: "+_.R+"ms"));var Z=f;if((E=_).qa=eae(E,E.J?E.ia:null,E.W),Z.K){Mse(E.h,Z);var Dt=Z,fr=E.L;fr&&(Dt.I=fr),Dt.B&&(uj(Dt),iT(Dt)),E.g=Z}else Qse(E);0<_.i.length&&fT(_)}else"stop"!=Ze[0]&&"close"!=Ze[0]||Pl(_,7);else 3==_.G&&("stop"==Ze[0]||"close"==Ze[0]?"stop"==Ze[0]?Pl(_,7):pj(_):"noop"!=Ze[0]&&_.l&&_.l.ta(Ze),_.v=0)}Hy()}catch{}}Fc.prototype.ca=function(f){f=f.target;const g=this.M;g&&3==ba(f)?g.j():this.Y(f)},Fc.prototype.Y=function(f){try{if(f==this.g)e:{const Nr=ba(this.g);var g=this.g.Ba();if(this.g.Z(),!(3>Nr)&&(3!=Nr||this.g&&(this.h.h||this.g.oa()||Gse(this.g)))){this.J||4!=Nr||7==g||Hy(),uj(this);var _=this.g.Z();this.X=_;t:if(Cse(this)){var E=Gse(this.g);f="";var N=E.length,F=4==ba(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Rl(this),qy(this);var Z="";break t}this.h.i=new a.TextDecoder}for(g=0;g<N;g++)this.h.h=!0,f+=this.h.i.decode(E[g],{stream:!(F&&g==N-1)});E.length=0,this.h.g+=f,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=200==_,function E6e(f,g,_,E,N,F,Z){f.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+N+"]: "+g+"\n"+_+"\n"+F+" "+Z})}(this.i,this.u,this.A,this.l,this.R,Nr,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Dt,fr=this.g;if((Dt=fr.g?fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Dt)){var Ze=Dt;break t}}Ze=null}if(!(_=Ze)){this.o=!1,this.s=3,Jr(12),Rl(this),qy(this);break e}sp(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lj(this,_)}if(this.P){let Ui;for(_=!0;!this.J&&this.C<Z.length;){if(Ui=C6e(this,Z),Ui==aj){4==Nr&&(this.s=4,Jr(14),_=!1),sp(this.i,this.l,null,"[Incomplete Response]");break}if(Ui==Dse){this.s=4,Jr(15),sp(this.i,this.l,Z,"[Invalid Chunk]"),_=!1;break}sp(this.i,this.l,Ui,null),lj(this,Ui)}if(Cse(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Nr||0!=Z.length||this.h.h||(this.s=1,Jr(16),_=!1),this.o=this.o&&_,_){if(0<Z.length&&!this.W){this.W=!0;var Rr=this.j;Rr.g==this&&Rr.ba&&!Rr.M&&(Rr.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),mj(Rr),Rr.M=!0,Jr(11))}}else sp(this.i,this.l,Z,"[Invalid Chunked Response]"),Rl(this),qy(this)}else sp(this.i,this.l,Z,null),lj(this,Z);4==Nr&&Rl(this),this.o&&!this.J&&(4==Nr?Zse(this.j,this):(this.o=!1,iT(this)))}else(function B6e(f){const g={};f=(f.g&&2<=ba(f)&&f.g.getAllResponseHeaders()||"").split("\r\n");for(let E=0;E<f.length;E++){if(I(f[E]))continue;var _=R(f[E]);const N=_[0];if("string"!=typeof(_=_[1]))continue;_=_.trim();const F=g[N]||[];g[N]=F,F.push(_)}!function b(f,g){for(const _ in f)g.call(void 0,f[_],_,f)}(g,function(E){return E.join(", ")})})(this.g),400==_&&0<Z.indexOf("Unknown SID")?(this.s=3,Jr(12)):(this.s=0,Jr(13)),Rl(this),qy(this)}}}catch{}},Fc.prototype.cancel=function(){this.J=!0,Rl(this)},Fc.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(function D6e(f,g){f.info(function(){return"TIMEOUT: "+g})}(this.i,this.A),2!=this.L&&(Hy(),Jr(17)),Rl(this),this.s=2,qy(this)):bse(this,this.S-f)};var b6e=class{constructor(f,g){this.g=f,this.map=g}};function Tse(f){this.l=f||10,f=a.PerformanceNavigationTiming?0<(f=a.performance.getEntriesByType("navigation")).length&&("hq"==f[0].nextHopProtocol||"h2"==f[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sse(f){return!!f.h||!!f.g&&f.g.size>=f.j}function Ase(f){return f.h?1:f.g?f.g.size:0}function dj(f,g){return f.h?f.h==g:!!f.g&&f.g.has(g)}function fj(f,g){f.g?f.g.add(g):f.h=g}function Mse(f,g){f.h&&f.h==g?f.h=null:f.g&&f.g.has(g)&&f.g.delete(g)}function Rse(f){if(null!=f.h)return f.i.concat(f.h.D);if(null!=f.g&&0!==f.g.size){let g=f.i;for(const _ of f.g.values())g=g.concat(_.D);return g}return y(f.i)}function Nse(f,g){if(f.forEach&&"function"==typeof f.forEach)f.forEach(g,void 0);else if(c(f)||"string"==typeof f)Array.prototype.forEach.call(f,g,void 0);else for(var _=function S6e(f){if(f.na&&"function"==typeof f.na)return f.na();if(!f.V||"function"!=typeof f.V){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||"string"==typeof f){var g=[];f=f.length;for(var _=0;_<f;_++)g.push(_);return g}g=[],_=0;for(const E in f)g[_++]=E;return g}}}(f),E=function T6e(f){if(f.V&&"function"==typeof f.V)return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if("string"==typeof f)return f.split("");if(c(f)){for(var g=[],_=f.length,E=0;E<_;E++)g.push(f[E]);return g}for(E in g=[],_=0,f)g[_++]=f[E];return g}(f),N=E.length,F=0;F<N;F++)g.call(void 0,E[F],_&&_[F],f)}Tse.prototype.cancel=function(){if(this.i=Rse(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const f of this.g.values())f.cancel();this.g.clear()}};var Pse=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nl(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Nl){this.h=f.h,sT(this,f.j),this.o=f.o,this.g=f.g,aT(this,f.s),this.l=f.l;var g=f.i,_=new Qy;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),xse(this,_),this.m=f.m}else f&&(g=String(f).match(Pse))?(this.h=!1,sT(this,g[1]||"",!0),this.o=Wy(g[2]||""),this.g=Wy(g[3]||"",!0),aT(this,g[4]),this.l=Wy(g[5]||"",!0),xse(this,g[6]||"",!0),this.m=Wy(g[7]||"")):(this.h=!1,this.i=new Qy(null,this.h))}function Ca(f){return new Nl(f)}function sT(f,g,_){f.j=_?Wy(g,!0):g,f.j&&(f.j=f.j.replace(/:$/,""))}function aT(f,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);f.s=g}else f.s=null}function xse(f,g,_){g instanceof Qy?(f.i=g,function O6e(f,g){g&&!f.j&&(Lc(f),f.i=null,f.g.forEach(function(_,E){var N=E.toLowerCase();E!=N&&(kse(this,E),Lse(this,N,_))},f)),f.j=g}(f.i,f.h)):(_||(g=Ky(g,P6e)),f.i=new Qy(g,f.h))}function jt(f,g,_){f.i.set(g,_)}function cT(f){return jt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Wy(f,g){return f?g?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ky(f,g,_){return"string"==typeof f?(f=encodeURI(f).replace(g,M6e),_&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function M6e(f){return"%"+((f=f.charCodeAt(0))>>4&15).toString(16)+(15&f).toString(16)}Nl.prototype.toString=function(){var f=[],g=this.j;g&&f.push(Ky(g,Ose,!0),":");var _=this.g;return(_||"file"==g)&&(f.push("//"),(g=this.o)&&f.push(Ky(g,Ose,!0),"@"),f.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(_=this.s)&&f.push(":",String(_))),(_=this.l)&&(this.g&&"/"!=_.charAt(0)&&f.push("/"),f.push(Ky(_,"/"==_.charAt(0)?N6e:R6e,!0))),(_=this.i.toString())&&f.push("?",_),(_=this.m)&&f.push("#",Ky(_,x6e)),f.join("")};var Ose=/[#\/\?@]/g,R6e=/[#\?:]/g,N6e=/[#\?]/g,P6e=/[#\?@]/g,x6e=/#/g;function Qy(f,g){this.h=this.g=null,this.i=f||null,this.j=!!g}function Lc(f){f.g||(f.g=new Map,f.h=0,f.i&&function A6e(f,g){if(f){f=f.split("&");for(var _=0;_<f.length;_++){var E=f[_].indexOf("="),N=null;if(0<=E){var F=f[_].substring(0,E);N=f[_].substring(E+1)}else F=f[_];g(F,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}(f.i,function(g,_){f.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}function kse(f,g){Lc(f),g=ap(f,g),f.g.has(g)&&(f.i=null,f.h-=f.g.get(g).length,f.g.delete(g))}function Fse(f,g){return Lc(f),g=ap(f,g),f.g.has(g)}function Lse(f,g,_){kse(f,g),0<_.length&&(f.i=null,f.g.set(ap(f,g),y(_)),f.h+=_.length)}function ap(f,g){return g=String(g),f.j&&(g=g.toLowerCase()),g}function Vc(f,g,_,E,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),E(_)}catch{}}function L6e(){this.g=new v6e}function V6e(f,g,_){const E=_||"";try{Nse(f,function(N,F){let Z=N;u(N)&&(Z=nj(N)),g.push(E+F+"="+encodeURIComponent(Z))})}catch(N){throw g.push(E+"type="+encodeURIComponent("_badmap")),N}}function Yy(f){this.l=f.Ub||null,this.j=f.eb||!1}function uT(f,g){Mr.call(this),this.D=f,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Vse(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}function Zy(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Jy(f)}function Jy(f){f.onreadystatechange&&f.onreadystatechange.call(f)}function jse(f){let g="";return z(f,function(_,E){g+=E,g+=":",g+=_,g+="\r\n"}),g}function hj(f,g,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=jse(_),"string"==typeof f?null!=_&&encodeURIComponent(String(_)):jt(f,g,_))}function tn(f){Mr.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Qy.prototype).add=function(f,g){Lc(this),this.i=null,f=ap(this,f);var _=this.g.get(f);return _||this.g.set(f,_=[]),_.push(g),this.h+=1,this},t.forEach=function(f,g){Lc(this),this.g.forEach(function(_,E){_.forEach(function(N){f.call(g,N,E,this)},this)},this)},t.na=function(){Lc(this);const f=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let E=0;E<g.length;E++){const N=f[E];for(let F=0;F<N.length;F++)_.push(g[E])}return _},t.V=function(f){Lc(this);let g=[];if("string"==typeof f)Fse(this,f)&&(g=g.concat(this.g.get(ap(this,f))));else{f=Array.from(this.g.values());for(let _=0;_<f.length;_++)g=g.concat(f[_])}return g},t.set=function(f,g){return Lc(this),this.i=null,Fse(this,f=ap(this,f))&&(this.h-=this.g.get(f).length),this.g.set(f,[g]),this.h+=1,this},t.get=function(f,g){return f&&0<(f=this.V(f)).length?String(f[0]):g},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var E=g[_];const F=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var N=F;""!==Z[E]&&(N+="="+encodeURIComponent(String(Z[E]))),f.push(N)}}return this.i=f.join("&")},m(Yy,rj),Yy.prototype.g=function(){return new uT(this.l,this.j)},Yy.prototype.i=function(f){return function(){return f}}({}),m(uT,Mr),(t=uT.prototype).open=function(f,g){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=g,this.readyState=1,Jy(this)},t.send=function(f){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(g.body=f),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Zy(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Jy(this)),this.g&&(this.readyState=3,Jy(this),this.g)))if("arraybuffer"===this.responseType)f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vse(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var g=f.value?f.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!f.done}))&&(this.response=this.responseText+=g)}f.done?Zy(this):Jy(this),3==this.readyState&&Vse(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Zy(this))},t.Qa=function(f){this.g&&(this.response=f,Zy(this))},t.ga=function(){this.g&&Zy(this)},t.setRequestHeader=function(f,g){this.u.append(f,g)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],g=this.h.entries();for(var _=g.next();!_.done;)f.push((_=_.value)[0]+": "+_[1]),_=g.next();return f.join("\r\n")},Object.defineProperty(uT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(f){this.m=f?"include":"same-origin"}}),m(tn,Mr);var j6e=/^https?$/i,U6e=["POST","PUT"];function Use(f,g){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=g,f.m=5,Bse(f),lT(f)}function Bse(f){f.A||(f.A=!0,Zr(f,"complete"),Zr(f,"error"))}function $se(f){if(f.h&&typeof s<"u"&&(!f.v[1]||4!=ba(f)||2!=f.Z()))if(f.u&&4==ba(f))lse(f.Ea,0,f);else if(Zr(f,"readystatechange"),4==ba(f)){f.h=!1;try{const Z=f.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var E;if(E=0===Z){var N=String(f.D).match(Pse)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),E=!j6e.test(N?N.toLowerCase():"")}_=E}if(_)Zr(f,"complete"),Zr(f,"success");else{f.m=6;try{var F=2<ba(f)?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.Z()+"]",Bse(f)}}finally{lT(f)}}}function lT(f,g){if(f.g){Hse(f);const _=f.g,E=f.v[0]?()=>{}:null;f.g=null,f.v=null,g||Zr(f,"ready");try{_.onreadystatechange=E}catch{}}}function Hse(f){f.I&&(a.clearTimeout(f.I),f.I=null)}function ba(f){return f.g?f.g.readyState:0}function Gse(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Xy(f,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[f]||g}function zse(f){this.Aa=0,this.i=[],this.j=new zy,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xy("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xy("baseRetryDelayMs",5e3,f),this.cb=Xy("retryDelaySeedMs",1e4,f),this.Wa=Xy("forwardChannelMaxRetries",2,f),this.wa=Xy("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Tse(f&&f.concurrentRequestLimit),this.Da=new L6e,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function pj(f){if(qse(f),3==f.G){var g=f.U++,_=Ca(f.I);if(jt(_,"SID",f.K),jt(_,"RID",g),jt(_,"TYPE","terminate"),ev(f,_),(g=new Fc(f,f.j,g)).L=2,g.v=cT(Ca(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&a.Image&&((new Image).src=g.v,_=!0),_||(g.g=tae(g.j,null),g.g.ea(g.v)),g.F=Date.now(),iT(g)}Xse(f)}function dT(f){f.g&&(mj(f),f.g.cancel(),f.g=null)}function qse(f){dT(f),f.u&&(a.clearTimeout(f.u),f.u=null),hT(f),f.h.cancel(),f.s&&("number"==typeof f.s&&a.clearTimeout(f.s),f.s=null)}function fT(f){if(!Sse(f.h)&&!f.s){f.s=!0;var g=f.Ga;Ly||ose(),Vy||(Ly(),Vy=!0),W2.add(g,f),f.B=0}}function Wse(f,g){var _;_=g?g.l:f.U++;const E=Ca(f.I);jt(E,"SID",f.K),jt(E,"RID",_),jt(E,"AID",f.T),ev(f,E),f.m&&f.o&&hj(E,f.m,f.o),_=new Fc(f,f.j,_,f.B+1),null===f.m&&(_.H=f.o),g&&(f.i=g.D.concat(f.i)),g=Kse(f,_,1e3),_.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fj(f.h,_),cj(_,E,g)}function ev(f,g){f.H&&z(f.H,function(_,E){jt(g,E,_)}),f.l&&Nse({},function(_,E){jt(g,E,_)})}function Kse(f,g,_){_=Math.min(f.i.length,_);var E=f.l?h(f.l.Na,f.l,f):null;e:{var N=f.i;let F=-1;for(;;){const Z=["count="+_];-1==F?0<_?(F=N[0].g,Z.push("ofs="+F)):F=0:Z.push("ofs="+F);let Dt=!0;for(let fr=0;fr<_;fr++){let Ze=N[fr].g;const Rr=N[fr].map;if(Ze-=F,0>Ze)F=Math.max(0,N[fr].g-100),Dt=!1;else try{V6e(Rr,Z,"req"+Ze+"_")}catch{E&&E(Rr)}}if(Dt){E=Z.join("&");break e}}}return f=f.i.splice(0,_),g.D=f,E}function Qse(f){if(!f.g&&!f.u){f.Y=1;var g=f.Fa;Ly||ose(),Vy||(Ly(),Vy=!0),W2.add(g,f),f.v=0}}function gj(f){return!(f.g||f.u||3<=f.v||(f.Y++,f.u=Gy(h(f.Fa,f),Jse(f,f.v)),f.v++,0))}function mj(f){null!=f.A&&(a.clearTimeout(f.A),f.A=null)}function Yse(f){f.g=new Fc(f,f.j,"rpc",f.Y),null===f.m&&(f.g.H=f.o),f.g.O=0;var g=Ca(f.qa);jt(g,"RID","rpc"),jt(g,"SID",f.K),jt(g,"AID",f.T),jt(g,"CI",f.F?"0":"1"),!f.F&&f.ja&&jt(g,"TO",f.ja),jt(g,"TYPE","xmlhttp"),ev(f,g),f.m&&f.o&&hj(g,f.m,f.o),f.L&&(f.g.I=f.L);var _=f.g;f=f.ia,_.L=1,_.v=cT(Ca(g)),_.m=null,_.P=!0,wse(_,f)}function hT(f){null!=f.C&&(a.clearTimeout(f.C),f.C=null)}function Zse(f,g){var _=null;if(f.g==g){hT(f),mj(f),f.g=null;var E=2}else{if(!dj(f.h,g))return;_=g.D,Mse(f.h,g),E=1}if(0!=f.G)if(g.o)if(1==E){_=g.m?g.m.length:0,g=Date.now()-g.F;var N=f.B;Zr(E=nT(),new vse(E,_)),fT(f)}else Qse(f);else if(3==(N=g.s)||0==N&&0<g.X||!(1==E&&function $6e(f,g){return!(Ase(f.h)>=f.h.j-(f.s?1:0)||(f.s?(f.i=g.D.concat(f.i),0):1==f.G||2==f.G||f.B>=(f.Va?0:f.Wa)||(f.s=Gy(h(f.Ga,f,g),Jse(f,f.B)),f.B++,0)))}(f,g)||2==E&&gj(f)))switch(_&&0<_.length&&(g=f.h,g.i=g.i.concat(_)),N){case 1:Pl(f,5);break;case 4:Pl(f,10);break;case 3:Pl(f,6);break;default:Pl(f,2)}}function Jse(f,g){let _=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(_*=2),_*g}function Pl(f,g){if(f.j.info("Error code "+g),2==g){var _=h(f.fb,f),E=f.Xa;const N=!E;E=new Nl(E||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||sT(E,"https"),cT(E),N?function k6e(f,g){const _=new zy;if(a.Image){const E=new Image;E.onload=p(Vc,_,"TestLoadImage: loaded",!0,g,E),E.onerror=p(Vc,_,"TestLoadImage: error",!1,g,E),E.onabort=p(Vc,_,"TestLoadImage: abort",!1,g,E),E.ontimeout=p(Vc,_,"TestLoadImage: timeout",!1,g,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=f}else g(!1)}(E.toString(),_):function F6e(f,g){new zy;const E=new AbortController,N=setTimeout(()=>{E.abort(),Vc(0,0,!1,g)},1e4);fetch(f,{signal:E.signal}).then(F=>{clearTimeout(N),Vc(0,0,!!F.ok,g)}).catch(()=>{clearTimeout(N),Vc(0,0,!1,g)})}(E.toString(),_)}else Jr(2);f.G=0,f.l&&f.l.sa(g),Xse(f),qse(f)}function Xse(f){if(f.G=0,f.ka=[],f.l){const g=Rse(f.h);(0!=g.length||0!=f.i.length)&&(v(f.ka,g),v(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function eae(f,g,_){var E=_ instanceof Nl?Ca(_):new Nl(_);if(""!=E.g)g&&(E.g=g+"."+E.g),aT(E,E.s);else{var N=a.location;E=N.protocol,g=g?g+"."+N.hostname:N.hostname,N=+N.port;var F=new Nl(null);E&&sT(F,E),g&&(F.g=g),N&&aT(F,N),_&&(F.l=_),E=F}return g=f.ya,(_=f.D)&&g&&jt(E,_,g),jt(E,"VER",f.la),ev(f,E),E}function tae(f,g,_){if(g&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return(g=new tn(f.Ca&&!f.pa?new Yy({eb:_}):f.pa)).Ha(f.J),g}function nae(){}function pT(){}function Uo(f,g){Mr.call(this),this.g=new zse(g),this.l=f,this.h=g&&g.messageUrlParams||null,f=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(f?f["X-WebChannel-Content-Type"]=g.messageContentType:f={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(f?f["X-WebChannel-Client-Profile"]=g.va:f={"X-WebChannel-Client-Profile":g.va}),this.g.S=f,(f=g&&g.Sb)&&!I(f)&&(this.g.m=f),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!I(g)&&(this.g.D=g,null!==(f=this.h)&&g in f&&g in(f=this.h)&&delete f[g]),this.j=new cp(this)}function rae(f){oj.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var g=f.__sm__;if(g){e:{for(const _ in g){f=_;break e}f=void 0}(this.i=f)&&(f=this.i,g=null!==g&&f in g?g[f]:void 0),this.data=g}else this.data=f}function oae(){ij.call(this),this.status=1}function cp(f){this.g=f}(t=tn.prototype).Ha=function(f){this.J=f},t.ea=function(f,g,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);g=g?g.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sj.g(),this.v=function pse(f){return f.h||(f.h=f.i())}(this.o?this.o:sj),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(g,String(f),!0),this.B=!1}catch(F){return void Use(this,F)}if(f=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var N in E)_.set(N,E[N]);else{if("function"!=typeof E.keys||"function"!=typeof E.get)throw Error("Unknown input type for opt_headers: "+String(E));for(const F of E.keys())_.set(F,E.get(F))}E=Array.from(_.keys()).find(F=>"content-type"==F.toLowerCase()),N=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(U6e,g,void 0))||E||N||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Z]of _)this.g.setRequestHeader(F,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hse(this),this.u=!0,this.g.send(f),this.u=!1}catch(F){Use(this,F)}},t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Zr(this,"complete"),Zr(this,"abort"),lT(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),lT(this,!0)),tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$se(this):this.bb())},t.bb=function(){$se(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<ba(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var g=this.g.responseText;return f&&0==g.indexOf(f)&&(g=g.substring(f.length)),y6e(g)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=zse.prototype).la=8,t.G=1,t.connect=function(f,g,_,E){Jr(0),this.W=f,this.H=g||{},_&&void 0!==E&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=eae(this,null,this.W),fT(this)},t.Ga=function(f){if(this.s)if(this.s=null,1==this.G){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const N=new Fc(this,this.j,f);let F=this.o;if(this.S&&(F?(F=C(F),M(F,this.S)):F=this.S),null!==this.m||this.O||(N.H=F,F=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){var E=this.i[_];if(void 0===(E="__data__"in E.map&&"string"==typeof(E=E.map.__data__)?E.length:void 0))break;if(4096<(g+=E)){g=_;break e}if(4096===g||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Kse(this,N,g),jt(_=Ca(this.I),"RID",f),jt(_,"CVER",22),this.D&&jt(_,"X-HTTP-Session-Id",this.D),ev(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(jse(F)))+"&"+g:this.m&&hj(_,this.m,F)),fj(this.h,N),this.Ua&&jt(_,"TYPE","init"),this.P?(jt(_,"$req",g),jt(_,"SID","null"),N.T=!0,cj(N,_,null)):cj(N,_,g),this.G=2}}else 3==this.G&&(f?Wse(this,f):0==this.i.length||Sse(this.h)||Wse(this))},t.Fa=function(){if(this.u=null,Yse(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Gy(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jr(10),dT(this),Yse(this))},t.Za=function(){null!=this.C&&(this.C=null,dT(this),gj(this),Jr(19))},t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Jr(2)):(this.j.info("Failed to ping google.com"),Jr(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=nae.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},pT.prototype.g=function(f,g){return new Uo(f,g)},m(Uo,Mr),Uo.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Uo.prototype.close=function(){pj(this.g)},Uo.prototype.o=function(f){var g=this.g;if("string"==typeof f){var _={};_.__data__=f,f=_}else this.u&&((_={}).__data__=nj(f),f=_);g.i.push(new b6e(g.Ya++,f)),3==g.G&&fT(g)},Uo.prototype.N=function(){this.g.l=null,delete this.j,pj(this.g),delete this.g,Uo.aa.N.call(this)},m(rae,oj),m(oae,ij),m(cp,nae),cp.prototype.ua=function(){Zr(this.g,"a")},cp.prototype.ta=function(f){Zr(this.g,new rae(f))},cp.prototype.sa=function(f){Zr(this.g,new oae)},cp.prototype.ra=function(){Zr(this.g,"b")},pT.prototype.createWebChannel=pT.prototype.g,Uo.prototype.send=Uo.prototype.o,Uo.prototype.open=Uo.prototype.m,Uo.prototype.close=Uo.prototype.close,_W=ta.createWebChannelTransport=function(){return new pT},mW=ta.getStatEventTarget=function(){return nT()},gW=ta.Event=Ml,vx=ta.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rT.NO_ERROR=0,rT.TIMEOUT=8,rT.HTTP_ERROR=6,SD=ta.ErrorCode=rT,Ise.COMPLETE="complete",pW=ta.EventType=Ise,gse.EventType=$y,$y.OPEN="a",$y.CLOSE="b",$y.ERROR="c",$y.MESSAGE="d",Mr.prototype.listen=Mr.prototype.K,Sm=ta.WebChannel=gse,ta.FetchXmlHttpFactory=Yy,tn.prototype.listenOnce=tn.prototype.L,tn.prototype.getLastError=tn.prototype.Ka,tn.prototype.getLastErrorCode=tn.prototype.Ba,tn.prototype.getStatus=tn.prototype.Z,tn.prototype.getResponseJson=tn.prototype.Oa,tn.prototype.getResponseText=tn.prototype.oa,tn.prototype.send=tn.prototype.ea,tn.prototype.setWithCredentials=tn.prototype.Ha,hW=ta.XhrIo=tn}).apply(typeof TD<"u"?TD:typeof self<"u"?self:typeof window<"u"?window:{});const yW="@firebase/firestore";class Qn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");let hf="10.14.0";const oc=new aD("@firebase/firestore");function pf(){return oc.logLevel}function $(t,...e){if(oc.logLevel<=Be.DEBUG){const n=e.map(Ix);oc.debug(`Firestore (${hf}): ${t}`,...n)}}function ln(t,...e){if(oc.logLevel<=Be.ERROR){const n=e.map(Ix);oc.error(`Firestore (${hf}): ${t}`,...n)}}function Xo(t,...e){if(oc.logLevel<=Be.WARN){const n=e.map(Ix);oc.warn(`Firestore (${hf}): ${t}`,...n)}}function Ix(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function te(t="Unexpected state"){const e=`FIRESTORE (${hf}) INTERNAL ASSERTION FAILED: `+t;throw ln(e),new Error(e)}function ne(t,e){t||te()}function Y(t,e){return t}const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class H extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Yn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class vW{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KRe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class QRe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YRe{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;ne(void 0===this.o);let o=this.i;const i=u=>this.i!==o?(o=this.i,n(u)):Promise.resolve();let s=new Yn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Yn,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(w(function*(){yield u.promise,yield i(r.currentUser)}))},c=u=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Yn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ne("string"==typeof r.accessToken),new vW(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ne(null===e||"string"==typeof e),new Qn(e)}}class ZRe{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class JRe{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ZRe(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IW{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XRe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ne(void 0===this.o);const r=i=>{null!=i.error&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?o(i):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ne("string"==typeof n.token),this.R=n.token,new IW(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function eNe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class EW{static newId(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=eNe(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[i]%62))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function gf(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}class Ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class se{constructor(e){this.timestamp=e}static fromTimestamp(e){return new se(e)}static min(){return new se(new Ht(0,0))}static max(){return new se(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Am{constructor(e,n,r){void 0===n?n=0:n>e.length&&te(),void 0===r?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Am.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Am?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const i=e.get(o),s=n.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class $e extends Am{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const tNe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends Am{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return tNe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Gt(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const i=()=>{if(0===r.length)throw new H(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;o<e.length;){const a=e[o];if("\\"===a){if(o+1===e.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[o+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else"`"===a?(s=!s,o++):"."!==a||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}class J{constructor(e){this.path=e}static fromPath(e){return new J($e.fromString(e))}static fromName(e){return new J($e.fromString(e).popFirst(5))}static empty(){return new J($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new $e(e.slice()))}}class Ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ro(se.min(),J.empty(),-1)}static max(){return new Ro(se.max(),J.empty(),-1)}}function Dx(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=J.comparator(t.documentKey,e.documentKey),0!==n?n:Ee(t.largestBatchId,e.largestBatchId))}const bW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ic(t){return wx.apply(this,arguments)}function wx(){return(wx=w(function*(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==bW)throw t;$("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class P{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new P((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof P?n:P.resolve(n)}catch(n){return P.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):P.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):P.reject(n)}static resolve(e){return new P((n,r)=>{n(e)})}static reject(e){return new P((n,r)=>{r(e)})}static waitFor(e){return new P((n,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&n()},c=>r(c))}),s=!0,i===o&&n()})}static or(e){let n=P.resolve(!1);for(const r of e)n=n.next(o=>o?P.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(e,n){return new P((r,o)=>{const i=e.length,s=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(l=>{s[u]=l,++a,a===i&&r(s)},l=>o(l))}})}static doWhile(e,n){return new P((r,o)=>{const i=()=>{!0===e()?n().next(()=>{i()},o):r()};i()})}}function sc(t){return"IndexedDbTransactionError"===t.name}let No=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Rm(t){return null==t}function Nm(t){return 0===t&&1/t==-1/0}function FW(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ac(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Mt{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new Mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new Mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new RD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new RD(this.root,e,this.comparator,!1)}getReverseIterator(){return new RD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new RD(this.root,e,this.comparator,!0)}}class RD{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ir{constructor(e,n,r,o,i){this.key=e,this.value=n,this.color=r??ir.RED,this.left=o??ir.EMPTY,this.right=i??ir.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,i){return new ir(e??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,n,r),null):0===i?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ir.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===n(e,o.key)){if(o.right.isEmpty())return ir.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ir.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ir.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1,ir.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,o,i){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class mt{constructor(e){this.comparator=e,this.data=new Mt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jW(this.data.getIterator())}getIteratorFrom(e){return new jW(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(o,i))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class jW{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class so{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new so([])}unionWith(e){let n=new mt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new so(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class UW extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UW("Invalid base64 string: "+i):i}}(e);return new en(n)}static fromUint8Array(e){const n=function(o){let i="";for(let s=0;s<o.length;++s)i+=String.fromCharCode(o[s]);return i}(e);return new en(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const SNe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function na(t){if(ne(!!t),"string"==typeof t){let e=0;const n=SNe.exec(t);if(ne(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:zt(t.seconds),nanos:zt(t.nanos)}}function zt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ra(t){return"string"==typeof t?en.fromBase64String(t):en.fromUint8Array(t)}function ND(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function PD(t){const e=t.mapValue.fields.__previous_value__;return ND(e)?PD(e):e}function Pm(t){const e=na(t.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}class ANe{constructor(e,n,r,o,i,s,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class ku{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ku("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ku&&e.projectId===this.projectId&&e.database===this.database}}const cc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ND(t)?4:zW(t)?9007199254740991:FD(t)?10:11:te()}function hs(t,e){if(t===e)return!0;const n=uc(t);if(n!==uc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pm(t).isEqual(Pm(e));case 3:return function(o,i){if("string"==typeof o.timestampValue&&"string"==typeof i.timestampValue&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const s=na(o.timestampValue),a=na(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,ra(t.bytesValue).isEqual(ra(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,i){return zt(o.geoPointValue.latitude)===zt(i.geoPointValue.latitude)&&zt(o.geoPointValue.longitude)===zt(i.geoPointValue.longitude)}(t,e);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return zt(o.integerValue)===zt(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const s=zt(o.doubleValue),a=zt(i.doubleValue);return s===a?Nm(s)===Nm(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return gf(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return function(o,i){const s=o.mapValue.fields||{},a=i.mapValue.fields||{};if(FW(s)!==FW(a))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(void 0===a[c]||!hs(s[c],a[c])))return!1;return!0}(t,e);default:return te()}var i}function xm(t,e){return void 0!==(t.values||[]).find(n=>hs(n,e))}function lc(t,e){if(t===e)return 0;const n=uc(t),r=uc(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=zt(i.integerValue||i.doubleValue),c=zt(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return BW(t.timestampValue,e.timestampValue);case 4:return BW(Pm(t),Pm(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(i,s){const a=ra(i),c=ra(s);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){const l=Ee(a[u],c[u]);if(0!==l)return l}return Ee(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=Ee(zt(i.latitude),zt(s.latitude));return 0!==a?a:Ee(zt(i.longitude),zt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $W(t.arrayValue,e.arrayValue);case 10:return function(i,s){var a,c,u,l;const p=null===(a=(i.fields||{}).value)||void 0===a?void 0:a.arrayValue,m=null===(c=(s.fields||{}).value)||void 0===c?void 0:c.arrayValue,y=Ee((null===(u=p?.values)||void 0===u?void 0:u.length)||0,(null===(l=m?.values)||void 0===l?void 0:l.length)||0);return 0!==y?y:$W(p,m)}(t.mapValue,e.mapValue);case 11:return function(i,s){if(i===cc.mapValue&&s===cc.mapValue)return 0;if(i===cc.mapValue)return 1;if(s===cc.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=s.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){const h=Ee(c[d],l[d]);if(0!==h)return h;const p=lc(a[c[d]],u[l[d]]);if(0!==p)return p}return Ee(c.length,l.length)}(t.mapValue,e.mapValue);default:throw te()}}function BW(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ee(t,e);const n=na(t),r=na(e),o=Ee(n.seconds,r.seconds);return 0!==o?o:Ee(n.nanos,r.nanos)}function $W(t,e){const n=t.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const i=lc(n[o],r[o]);if(i)return i}return Ee(n.length,r.length)}function vf(t){return Sx(t)}function Sx(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=na(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ra(t.bytesValue).toBase64():"referenceValue"in t?J.fromName(t.referenceValue).toString():"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const i of n.values||[])o?o=!1:r+=",",r+=Sx(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",i=!0;for(const s of r)i?i=!1:o+=",",o+=`${s}:${Sx(n.fields[s])}`;return o+"}"}(t.mapValue):te()}function Ax(t){return!!t&&"integerValue"in t}function Om(t){return!!t&&"arrayValue"in t}function HW(t){return!!t&&"nullValue"in t}function GW(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kD(t){return!!t&&"mapValue"in t}function FD(t){var e,n;return"__vector__"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function km(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ac(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=km(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=km(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zW(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class sr{constructor(e){this.value=e}static empty(){return new sr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!kD(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=km(n)}setAll(e){let n=Gt.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,o),r={},o=[],n=a.popLast()}s?r[a.lastSegment()]=km(s):o.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(e){const n=this.field(e.popLast());kD(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];kD(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){ac(n,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new sr(km(this.value))}}function QW(t){const e=[];return ac(t.fields,(n,r)=>{const o=new Gt([n]);if(kD(r)){const i=QW(r.mapValue).fields;if(0===i.length)e.push(o);else for(const s of i)e.push(o.child(s))}else e.push(o)}),new so(e)}class Vt{constructor(e,n,r,o,i,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,se.min(),se.min(),se.min(),sr.empty(),0)}static newFoundDocument(e,n,r,o){return new Vt(e,1,n,se.min(),r,o,0)}static newNoDocument(e,n){return new Vt(e,2,n,se.min(),se.min(),sr.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,se.min(),se.min(),sr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dc{constructor(e,n){this.position=e,this.inclusive=n}}function YW(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],s=t.position[o];if(r=i.field.isKeyField()?J.comparator(J.fromName(s.referenceValue),n.key):lc(s,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function ZW(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}class Fm{constructor(e,n="asc"){this.field=e,this.dir=n}}function NNe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class JW{}class He extends JW{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new PNe(e,n,r):"array-contains"===n?new kNe(e,r):"in"===n?new o7(e,r):"not-in"===n?new FNe(e,r):"array-contains-any"===n?new LNe(e,r):new He(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new xNe(e,r):new ONe(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(lc(n,this.value)):null!==n&&uc(this.value)===uc(n)&&this.matchesComparison(lc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ft extends JW{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ft(e,n)}matches(e){return If(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function If(t){return"and"===t.op}function Rx(t){return function XW(t){for(const e of t.filters)if(e instanceof ft)return!1;return!0}(t)&&If(t)}function Nx(t){if(t instanceof He)return t.field.canonicalString()+t.op.toString()+vf(t.value);if(Rx(t))return t.filters.map(e=>Nx(e)).join(",");{const e=t.filters.map(n=>Nx(n)).join(",");return`${t.op}(${e})`}}function e7(t,e){return t instanceof He?(r=t,(o=e)instanceof He&&r.op===o.op&&r.field.isEqual(o.field)&&hs(r.value,o.value)):t instanceof ft?function(r,o){return o instanceof ft&&r.op===o.op&&r.filters.length===o.filters.length&&r.filters.reduce((i,s,a)=>i&&e7(s,o.filters[a]),!0)}(t,e):void te();var r,o}function n7(t){return t instanceof He?`${(n=t).field.canonicalString()} ${n.op} ${vf(n.value)}`:t instanceof ft?function(n){return n.op.toString()+" {"+n.getFilters().map(n7).join(" ,")+"}"}(t):"Filter";var n}class PNe extends He{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class xNe extends He{constructor(e,n){super(e,"in",n),this.keys=r7(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ONe extends He{constructor(e,n){super(e,"not-in",n),this.keys=r7(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function r7(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class kNe extends He{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Om(n)&&xm(n.arrayValue,this.value)}}class o7 extends He{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&xm(this.value.arrayValue,n)}}class FNe extends He{constructor(e,n){super(e,"not-in",n)}matches(e){if(xm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!xm(this.value.arrayValue,n)}}class LNe extends He{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>xm(this.value.arrayValue,r))}}class VNe{constructor(e,n=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Px(t,e=null,n=[],r=[],o=null,i=null,s=null){return new VNe(t,e,n,r,o,i,s)}function Lu(t){const e=Y(t);if(null===e.ue){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Nx(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Rm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vf(r)).join(",")),e.ue=n}return e.ue}function Lm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NNe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!e7(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZW(t.startAt,e.startAt)&&ZW(t.endAt,e.endAt)}function LD(t){return J.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class oa{constructor(e,n=null,r=[],o=[],i=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function Ef(t){return new oa(t)}function c7(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Df(t){const e=Y(t);if(null===e.ce){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new mt(Gt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Fm(i,r))}),n.has(Gt.keyField().canonicalString())||e.ce.push(new Fm(Gt.keyField(),r))}return e.ce}function Er(t){const e=Y(t);return e.le||(e.le=function l7(t,e){if("F"===t.limitType)return Px(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>new Fm(o.field,"desc"===o.dir?"asc":"desc"));const n=t.endAt?new dc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dc(t.startAt.position,t.startAt.inclusive):null;return Px(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}(e,Df(t))),e.le}function jD(t,e,n){return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Vm(t,e){return Lm(Er(t),Er(e))&&t.limitType===e.limitType}function d7(t){return`${Lu(Er(t))}|lt:${t.limitType}`}function wf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return null!==n.collectionGroup&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>n7(o)).join(", ")}]`),Rm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>{return`${(s=o).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>vf(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>vf(o)).join(",")),`Target(${r})`}(Er(t))}; limitType=${t.limitType})`}function jm(t,e){return e.isFoundDocument()&&function(r,o){const i=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):J.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,o){for(const i of Df(r))if(!i.field.isKeyField()&&null===o.data.field(i.field))return!1;return!0}(t,e)&&function(r,o){for(const i of r.filters)if(!i.matches(o))return!1;return!0}(t,e)&&(o=e,!((r=t).startAt&&!function(s,a,c){const u=YW(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Df(r),o)||r.endAt&&!function(s,a,c){const u=YW(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Df(r),o)));var r,o}function h7(t){return(e,n)=>{let r=!1;for(const o of Df(t)){const i=jNe(o,e,n);if(0!==i)return i;r=r||o.field.isKeyField()}return 0}}function jNe(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(i,s,a){const c=s.data.field(i),u=a.data.field(i);return null!==c&&null!==u?lc(c,u):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}class ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[o,i]of r)if(this.equalsFn(o,e))return i}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ac(this.inner,(n,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return VW(this.inner)}size(){return this.innerSize}}const UNe=new Mt(J.comparator);function ao(){return UNe}const p7=new Mt(J.comparator);function Um(...t){let e=p7;for(const n of t)e=e.insert(n.key,n);return e}function g7(t){let e=p7;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ps(){return Bm()}function m7(){return Bm()}function Bm(){return new ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const BNe=new Mt(J.comparator),$Ne=new mt(J.comparator);function Re(...t){let e=$Ne;for(const n of t)e=e.add(n);return e}const HNe=new mt(Ee);function Fx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nm(e)?"-0":e}}function _7(t){return{integerValue:""+t}}function y7(t,e){return function MW(t){return"number"==typeof t&&Number.isInteger(t)&&!Nm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?_7(e):Fx(t,e)}class UD{constructor(){this._=void 0}}function GNe(t,e,n){return t instanceof Cf?function(o,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&ND(i)&&(i=PD(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Vu?I7(t,e):t instanceof ju?E7(t,e):function(o,i){const s=v7(o,i),a=D7(s)+D7(o.Pe);return Ax(s)&&Ax(o.Pe)?_7(a):Fx(o.serializer,a)}(t,e)}function zNe(t,e,n){return t instanceof Vu?I7(t,e):t instanceof ju?E7(t,e):n}function v7(t,e){return t instanceof bf?Ax(r=e)||(i=r)&&"doubleValue"in i?e:{integerValue:0}:null;var r,i}class Cf extends UD{}class Vu extends UD{constructor(e){super(),this.elements=e}}function I7(t,e){const n=w7(e);for(const r of t.elements)n.some(o=>hs(o,r))||n.push(r);return{arrayValue:{values:n}}}class ju extends UD{constructor(e){super(),this.elements=e}}function E7(t,e){let n=w7(e);for(const r of t.elements)n=n.filter(o=>!hs(o,r));return{arrayValue:{values:n}}}class bf extends UD{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function D7(t){return zt(t.integerValue||t.doubleValue)}function w7(t){return Om(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class WNe{constructor(e,n){this.version=e,this.transformResults=n}}class qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function BD(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class $D{}function C7(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Sf(t.key,qt.none()):new Tf(t.key,t.data,qt.none());{const n=t.data,r=sr.empty();let o=new mt(Gt.comparator);for(let i of e.fields)if(!o.has(i)){let s=n.field(i);null===s&&i.length>1&&(i=i.popLast(),s=n.field(i)),null===s?r.delete(i):r.set(i,s),o=o.add(i)}return new sa(t.key,r,new so(o.toArray()),qt.none())}}function KNe(t,e,n){t instanceof Tf?function(o,i,s){const a=o.value.clone(),c=S7(o.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof sa?function(o,i,s){if(!BD(o.precondition,i))return void i.convertToUnknownDocument(s.version);const a=S7(o.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(T7(o)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Hm(t,e,n,r){return t instanceof Tf?function(i,s,a,c){if(!BD(i.precondition,s))return a;const u=i.value.clone(),l=A7(i.fieldTransforms,c,s);return u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof sa?function(i,s,a,c){if(!BD(i.precondition,s))return a;const u=A7(i.fieldTransforms,c,s),l=s.data;return l.setAll(T7(i)),l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null===a?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):(a=n,BD(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function QNe(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),i=v7(r.transform,o||null);null!=i&&(null===n&&(n=sr.empty()),n.set(r.field,i))}return n||null}function b7(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(r=t.fieldTransforms)&&void 0===o||r&&o&&gf(r,o,(i,s)=>function qNe(t,e){return t.field.isEqual(e.field)&&(o=e.transform,(r=t.transform)instanceof Vu&&o instanceof Vu||r instanceof ju&&o instanceof ju?gf(r.elements,o.elements,hs):r instanceof bf&&o instanceof bf?hs(r.Pe,o.Pe):r instanceof Cf&&o instanceof Cf);var r,o}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var r,o}class Tf extends $D{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sa extends $D{constructor(e,n,r,o,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function T7(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function S7(t,e,n){const r=new Map;ne(t.length===n.length);for(let o=0;o<n.length;o++){const i=t[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,zNe(s,a,n[o]))}return r}function A7(t,e,n){const r=new Map;for(const o of t){const i=o.transform,s=n.data.field(o.field);r.set(o.field,GNe(i,s,e))}return r}class Sf extends $D{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lx extends $D{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vx{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&KNe(i,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hm(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hm(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=m7();return this.mutations.forEach(o=>{const i=e.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=n.has(o.key)?null:a;const c=C7(s,a);null!==c&&r.set(o.key,c),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&gf(this.mutations,e.mutations,(n,r)=>b7(n,r))&&gf(this.baseMutations,e.baseMutations,(n,r)=>b7(n,r))}}class jx{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ne(e.mutations.length===r.length);let o=function(){return BNe}();const i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new jx(e,n,r,o)}}class Ux{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class YNe{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dn,qe;function N7(t){if(void 0===t)return ln("GRPC error has no .code"),O.UNKNOWN;switch(t){case Dn.OK:return O.OK;case Dn.CANCELLED:return O.CANCELLED;case Dn.UNKNOWN:return O.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return O.INTERNAL;case Dn.UNAVAILABLE:return O.UNAVAILABLE;case Dn.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Dn.NOT_FOUND:return O.NOT_FOUND;case Dn.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Dn.ABORTED:return O.ABORTED;case Dn.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Dn.DATA_LOSS:return O.DATA_LOSS;default:return te()}}(qe=Dn||(Dn={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";const ZNe=new Nu([4294967295,4294967295],0);function x7(t){const e=function P7(){return new TextEncoder}().encode(t),n=new fW;return n.update(e),new Uint8Array(n.digest())}function O7(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Nu([n,r],0),new Nu([o,i],0)]}class Bx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gm(`Invalid padding: ${n}`);if(r<0)throw new Gm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Gm(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new Gm(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Nu.fromNumber(this.Ie)}Ee(e,n,r){let o=e.add(n.multiply(Nu.fromNumber(r)));return 1===o.compare(ZNe)&&(o=new Nu([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const n=x7(e),[r,o]=O7(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,o,i);if(!this.de(s))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Bx(i,o,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const n=x7(e),[r,o]=O7(n);for(let i=0;i<this.hashCount;i++){const s=this.Ee(r,o,i);this.Ae(s)}}Ae(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class Gm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zm{constructor(e,n,r,o,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,qm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zm(se.min(),o,new Mt(Ee),ao(),Re())}}class qm{constructor(e,n,r,o,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new qm(r,n,Re(),Re(),Re())}}class GD{constructor(e,n,r,o){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=o}}class k7{constructor(e,n){this.targetId=e,this.me=n}}class F7{constructor(e,n,r=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class L7{constructor(){this.fe=0,this.ge=j7(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Re(),n=Re(),r=Re();return this.ge.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:te()}}),new qm(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=j7()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JNe{constructor(e){this.Le=e,this.Be=new Map,this.ke=ao(),this.qe=V7(),this.Qe=new Mt(Ee)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,o)=>{this.ze(o)&&n(o)})}He(e){const n=e.targetId,r=e.me.count,o=this.Je(n);if(o){const i=o.target;if(LD(i))if(0===r){const s=new J(i.path);this.Ue(n,s,Vt.newNoDocument(s,se.min()))}else ne(1===r);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),c=a?this.Xe(a,e,s):1;0!==c&&(this.je(n),this.Qe=this.Qe.insert(n,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:i=0}=n;let s,a;try{s=ra(r).toUint8Array()}catch(c){if(c instanceof UW)return Xo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Bx(s,o,i)}catch(c){return Xo(c instanceof Gm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let o=0;return r.forEach(i=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),o++)}),o}rt(e){const n=new Map;this.Be.forEach((i,s)=>{const a=this.Je(s);if(a){if(i.current&&LD(a.target)){const c=new J(a.target.path);null!==this.ke.get(c)||this.it(s,c)||this.Ue(s,c,Vt.newNoDocument(c,e))}i.be&&(n.set(s,i.ve()),i.Ce())}});let r=Re();this.qe.forEach((i,s)=>{let a=!0;s.forEachWhile(c=>{const u=this.Je(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,s)=>s.setReadTime(e));const o=new zm(e,n,this.Qe,this.ke,r);return this.ke=ao(),this.qe=V7(),this.Qe=new Mt(Ee),o}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new L7,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){const n=null!==this.Je(e);return n||$("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new L7),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function V7(){return new Mt(J.comparator)}function j7(){return new Mt(J.comparator)}const XNe={asc:"ASCENDING",desc:"DESCENDING"},ePe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tPe={and:"AND",or:"OR"};class nPe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $x(t,e){return t.useProto3Json||Rm(e)?e:{value:e}}function Af(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rPe(t,e){return Af(t,e.toTimestamp())}function dn(t){return ne(!!t),se.fromTimestamp(function(n){const r=na(n);return new Ht(r.seconds,r.nanos)}(t))}function Hx(t,e){return Gx(t,e).canonicalString()}function Gx(t,e){const n=(o=t,new $e(["projects",o.projectId,"databases",o.database])).child("documents");var o;return void 0===e?n:n.child(e)}function B7(t){const e=$e.fromString(t);return ne(J7(e)),e}function Wm(t,e){return Hx(t.databaseId,e.path)}function gs(t,e){const n=B7(e);if(n.get(1)!==t.databaseId.projectId)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(G7(n))}function $7(t,e){return Hx(t.databaseId,e)}function zx(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function G7(t){return ne(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function z7(t,e,n){return{name:Wm(t,e),fields:n.value.mapValue.fields}}function W7(t,e){return{documents:[$7(t,e.path)]}}function zD(t,e){const n={structuredQuery:{}},r=e.path;let o;null!==e.collectionGroup?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$7(t,o);const i=function(u){if(0!==u.length)return Z7(ft.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(l=>{return{field:fc((h=l).field),direction:cPe(h.dir)};var h})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=$x(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:o};var u}function Q7(t){let e=function H7(t){const e=B7(t);return 4===e.length?$e.emptyPath():G7(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ne(1===r);const l=n.from[0];l.allDescendants?o=l.collectionId:e=e.child(l.collectionId)}let i=[];n.where&&(i=function(d){const h=Y7(d);return h instanceof ft&&Rx(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(h=>{return new Fm(Mf((m=h).field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction));var m}));let a=null;n.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,Rm(h)?null:h}(n.limit));let c=null;var d;n.startAt&&(c=new dc((d=n.startAt).values||[],!!d.before));let u=null;return n.endAt&&(u=function(d){return new dc(d.values||[],!d.before)}(n.endAt)),function a7(t,e,n,r,o,i,s,a){return new oa(t,e,n,r,o,i,s,a)}(e,o,s,i,a,"F",c,u)}function Y7(t){return void 0!==t.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Mf(n.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Mf(n.unaryFilter.field);return He.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mf(n.unaryFilter.field);return He.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Mf(n.unaryFilter.field);return He.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):void 0!==t.fieldFilter?He.create(Mf((n=t).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==t.compositeFilter?function(n){return ft.create(n.compositeFilter.filters.map(r=>Y7(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te();var n}function cPe(t){return XNe[t]}function uPe(t){return ePe[t]}function lPe(t){return tPe[t]}function fc(t){return{fieldPath:t.canonicalString()}}function Mf(t){return Gt.fromServerFormat(t.fieldPath)}function Z7(t){return t instanceof He?function(n){if("=="===n.op){if(GW(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NAN"}};if(HW(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(GW(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NAN"}};if(HW(n.value))return{unaryFilter:{field:fc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fc(n.field),op:uPe(n.op),value:n.value}}}(t):t instanceof ft?function(n){const r=n.getFilters().map(o=>Z7(o));return 1===r.length?r[0]:{compositeFilter:{op:lPe(n.op),filters:r}}}(t):te()}function dPe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J7(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class aa{constructor(e,n,r,o,i=se.min(),s=se.min(),a=en.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class X7{constructor(e){this.ct=e}}function Wx(t){const e=Q7({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?jD(e,e.limit,"L"):e}class Hu{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(zt(e.integerValue));else if("doubleValue"in e){const r=zt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Nm(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),"string"==typeof r&&(r=na(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ra(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?zW(e)?this.dt(n,Number.MAX_SAFE_INTEGER):FD(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):te()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const o of Object.keys(r))this.Vt(o,n),this.Tt(r[o],n)}wt(e,n){var r,o;const i=e.fields||{};this.dt(n,53);const s="value",a=(null===(o=null===(r=i[s].arrayValue)||void 0===r?void 0:r.values)||void 0===o?void 0:o.length)||0;this.dt(n,15),n.At(zt(a)),this.Vt(s,n),this.Tt(i[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const o of r)this.Tt(o,n)}yt(e,n){this.dt(n,37),J.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}Hu.vt=new Hu;class IPe{constructor(){this.un=new Xx}addToCollectionParentIndex(e,n){return this.un.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Ro.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}}class Xx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new mt($e.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new mt($e.comparator)).toArray()}}new Uint8Array(0);class Dr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Dr(e,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(41943040,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);class zu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new zu(0)}static kn(){return new zu(-1)}}class DK{constructor(){this.changes=new ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class APe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class SK{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(null!==r&&Hm(r.mutation,o,so.empty(),Ht.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const o=ps();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(i=>{let s=Um();return i.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=ps();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,o){let i=ao();const s=Bm(),a=Bm();return n.forEach((c,u)=>{const l=r.get(u.key);o.has(u.key)&&(void 0===l||l.mutation instanceof sa)?i=i.insert(u.key,u):void 0!==l?(s.set(u.key,l.mutation.getFieldMask()),Hm(l.mutation,u,l.mutation.getFieldMask(),Ht.now())):s.set(u.key,so.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,l)=>s.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new APe(l,null!==(d=s.get(u))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Bm();let o=new Mt((s,a)=>s-a),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(c=>{const u=n.get(c);if(null===u)return;let l=r.get(c)||so.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(o.get(a.batchId)||Re()).add(c);o=o.insert(a.batchId,d)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=m7();l.forEach(h=>{if(!i.has(h)){const p=C7(n.get(h),r.get(h));null!==p&&d.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return J.isDocumentKey((s=n).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function xx(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o);var s}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-i.size):P.resolve(ps());let a=-1,c=i;return s.next(u=>P.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(l)?P.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Re())).next(l=>({batchId:a,changes:g7(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let o=Um();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const i=n.collectionGroup;let s=Um();return this.indexManager.getCollectionParents(e,i).next(a=>P.forEach(a,c=>{const u=(d=n,h=c.child(i),new oa(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,u,r,o).next(l=>{l.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,o){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,o))).next(s=>{i.forEach((c,u)=>{const l=u.getKey();null===s.get(l)&&(s=s.insert(l,Vt.newInvalidDocument(l)))});let a=Um();return s.forEach((c,u)=>{const l=i.get(c);void 0!==l&&Hm(l.mutation,u,so.empty(),Ht.now()),jm(n,u)&&(a=a.insert(c,u))}),a})}}class MPe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return P.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,{id:(o=n).id,version:o.version,createTime:dn(o.createTime)}),P.resolve();var o}getNamedQuery(e,n){return P.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,{name:(o=n).name,query:Wx(o.bundledQuery),readTime:dn(o.readTime)}),P.resolve();var o}}class RPe{constructor(){this.overlays=new Mt(J.comparator),this.Ir=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ps();return P.forEach(n,o=>this.getOverlay(e,o).next(i=>{null!==i&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,i)=>{this.ht(e,n,i)}),P.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Ir.get(r);return void 0!==o&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){const o=ps(),i=n.length+1,s=new J(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&o.set(c.getKey(),c)}return P.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let i=new Mt((u,l)=>u-l);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=i.get(u.largestBatchId);null===l&&(l=ps(),i=i.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=ps(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=o)););return P.resolve(a)}ht(e,n,r){const o=this.overlays.get(r.key);if(null!==o){const s=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ux(n,r));let i=this.Ir.get(n);void 0===i&&(i=Re(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}class NPe{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}}class eO{constructor(){this.Tr=new mt(Zn.Er),this.dr=new mt(Zn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Zn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Zn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new J(new $e([])),r=new Zn(n,e),o=new Zn(n,e+1),i=[];return this.dr.forEachInRange([r,o],s=>{this.Vr(s),i.push(s.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new J(new $e([])),r=new Zn(n,e),o=new Zn(n,e+1);let i=Re();return this.dr.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new Zn(e,0),r=this.Tr.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Zn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||J.comparator(e.key,n.key)}}class PPe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new mt(Zn.Er)}checkEmpty(e){return P.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,o){const i=this.Sr;this.Sr++;const s=new Vx(i,n,r,o);this.mutationQueue.push(s);for(const a of o)this.br=this.br.add(new Zn(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const o=this.vr(n+1),i=o<0?0:o;return P.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zn(n,0),o=new Zn(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,o],s=>{const a=this.Dr(s.wr);i.push(a)}),P.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(Ee);return n.forEach(o=>{const i=new Zn(o,0),s=new Zn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let i=r;J.isDocumentKey(i)||(i=i.child(""));const s=new Zn(new J(i),0);let a=new mt(Ee);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===o&&(a=a.add(c.wr)),!0)},s),P.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const o=this.Dr(r);null!==o&&n.push(o)}),n}removeMutationBatch(e,n){ne(0===this.Fr(n.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return P.forEach(n.mutations,o=>{const i=new Zn(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Zn(n,0),o=this.br.firstAfterOrEqual(r);return P.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return P.resolve()}Fr(e,n){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xPe{constructor(e){this.Mr=e,this.docs=new Mt(J.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=ao();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():Vt.newInvalidDocument(o))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let i=ao();const s=n.path,a=new J(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||Dx(new Ro((t=l).readTime,t.key,-1),r)<=0||(o.has(l.key)||jm(n,l))&&(i=i.insert(l.key,l.mutableCopy()))}var t;return P.resolve(i)}getAllFromCollectionGroup(e,n,r,o){te()}Or(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new OPe(this)}getSize(e){return P.resolve(this.size)}}class OPe extends DK{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class kPe{constructor(e){this.persistence=e,this.Nr=new ia(n=>Lu(n),Lm),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new eO,this.targetCount=0,this.kr=zu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,o)=>n(o)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),P.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new zu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.Kn(n),P.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let o=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),P.waitFor(i).next(()=>o)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),P.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),P.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.Br.containsKey(n))}}class tO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new No(0),this.Kr=!1,this.Kr=!0,this.$r=new NPe,this.referenceDelegate=e(this),this.Ur=new kPe(this),this.indexManager=new IPe,this.remoteDocumentCache=new xPe(r=>this.referenceDelegate.Wr(r)),this.serializer=new X7(n),this.Gr=new MPe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RPe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new PPe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);const o=new FPe(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(i=>this.referenceDelegate.jr(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Hr(e,n){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class FPe extends TW{constructor(e){super(),this.currentSequenceNumber=e}}class XD{constructor(e){this.persistence=e,this.Jr=new eO,this.Yr=null}static Zr(e){return new XD(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),P.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(o=>this.Xr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{const o=J.fromPath(r);return this.ei(e,o).next(i=>{i||n.removeEntry(o,se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return P.or([()=>P.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class iO{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=o}static Wi(e,n){let r=Re(),o=Re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new iO(e,n.fromCache,r,o)}}class VPe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function N5(){return!function nSe(){var t;const e=null===(t=oD())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function SW(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(cn())>0?6:4}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,o){const i={result:null};return this.Yi(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Zi(e,n,o,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new VPe;return this.Xi(e,n,s).next(a=>{if(i.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>i.result)}es(e,n,r,o){return r.documentReadCount<this.ji?(pf()<=Be.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",wf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(pf()<=Be.DEBUG&&$("QueryEngine","Query:",wf(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(pf()<=Be.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",wf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Er(n))):P.resolve())}Yi(e,n){if(c7(n))return P.resolve(null);let r=Er(n);return this.indexManager.getIndexType(e,r).next(o=>0===o?null:(null!==n.limit&&1===o&&(n=jD(n,null,"F"),r=Er(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=Re(...i);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(n,a);return this.ns(n,u,s,c.readTime)?this.Yi(e,jD(n,null,"F")):this.rs(e,u,n,c)}))})))}Zi(e,n,r,o){return c7(n)||o.isEqual(se.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const s=this.ts(n,i);return this.ns(n,s,r,o)?P.resolve(null):(pf()<=Be.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wf(n)),this.rs(e,s,n,function wW(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=se.fromTimestamp(1e9===r?new Ht(n+1,0):new Ht(n,r));return new Ro(o,J.empty(),e)}(o,-1)).next(a=>a))})}ts(e,n){let r=new mt(h7(e));return n.forEach((o,i)=>{jm(e,i)&&(r=r.add(i))}),r}ns(e,n,r,o){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const i="F"===e.limitType?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Xi(e,n,r){return pf()<=Be.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",wf(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ro.min(),r)}rs(e,n,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}class jPe{constructor(e,n,r,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Mt(Ee),this._s=new ia(i=>Lu(i),Lm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function NK(t,e){return sO.apply(this,arguments)}function sO(){return(sO=w(function*(t,e){const n=Y(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],a=[];let c=Re();for(const u of o){s.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of i){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})).apply(this,arguments)}function PK(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function $Pe(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kf(t,e,n){return aO.apply(this,arguments)}function aO(){return(aO=w(function*(t,e,n){const r=Y(t),o=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o)))}catch(s){if(!sc(s))throw s;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(o.target)})).apply(this,arguments)}function nw(t,e,n){const r=Y(t);let o=se.min(),i=Re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,l){const d=Y(c),h=d._s.get(l);return void 0!==h?P.resolve(d.os.get(h)):d.Ur.getTargetData(u,l)}(r,s,Er(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?o:se.min(),n?i:Re())).next(a=>(function FK(t,e,n){let r=t.us.get(e)||se.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}(r,function f7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Ts:i})))}class fO{constructor(){this.activeTargetIds=function kx(){return HNe}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jK{constructor(){this.so=new fO,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new fO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zPe{_o(e){}shutdown(){}}class UK{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let iw=null;function pO(){return null===iw?iw=268435456+Math.round(2147483648*Math.random()):iw++,"0x"+iw.toString(16)}const qPe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WPe{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const wr="WebChannelConnection";class KPe extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${o}/databases/${i}`,this.Co="(default)"===this.databaseId.database?`project_id=${o}`:`project_id=${o}&database_id=${i}`}get Fo(){return!1}Mo(n,r,o,i,s){const a=pO(),c=this.xo(n,r.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,c,o);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,s),this.No(n,c,u,o).then(l=>($("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Xo("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",o),l})}Lo(n,r,o,i,s,a){return this.Mo(n,r,o,i,s)}Oo(n,r,o){n["X-Goog-Api-Client"]="gl-js/ fire/"+hf,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>n[s]=i),o&&o.headers.forEach((i,s)=>n[s]=i)}xo(n,r){return`${this.Do}/v1/${r}:${qPe[n]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,o){const i=pO();return new Promise((s,a)=>{const c=new hW;c.setWithCredentials(!0),c.listenOnce(pW.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case SD.NO_ERROR:const l=c.getResponseJson();$(wr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(l)),s(l);break;case SD.TIMEOUT:$(wr,`RPC '${e}' ${i} timed out`),a(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case SD.HTTP_ERROR:const d=c.getStatus();if($(wr,`RPC '${e}' ${i} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h?.error;if(p&&p.status&&p.message){const m=function(v){const D=v.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(D)>=0?D:O.UNKNOWN}(p.status);a(new H(m,p.message))}else a(new H(O.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new H(O.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{$(wr,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(o);$(wr,`RPC '${e}' ${i} sending request:`,o),c.send(n,"POST",u,r,15)})}Bo(e,n,r){const o=pO(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=_W(),a=mW(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=i.join("");$(wr,`Creating RPC '${e}' stream ${o}: ${l}`,c);const d=s.createWebChannel(l,c);let h=!1,p=!1;const m=new WPe({Io:v=>{p?$(wr,`Not sending because RPC '${e}' stream ${o} is closed:`,v):(h||($(wr,`Opening RPC '${e}' stream ${o} transport.`),d.open(),h=!0),$(wr,`RPC '${e}' stream ${o} sending:`,v),d.send(v))},To:()=>d.close()}),y=(v,D,I)=>{v.listen(D,A=>{try{I(A)}catch(k){setTimeout(()=>{throw k},0)}})};return y(d,Sm.EventType.OPEN,()=>{p||($(wr,`RPC '${e}' stream ${o} transport opened.`),m.yo())}),y(d,Sm.EventType.CLOSE,()=>{p||(p=!0,$(wr,`RPC '${e}' stream ${o} transport closed`),m.So())}),y(d,Sm.EventType.ERROR,v=>{p||(p=!0,Xo(wr,`RPC '${e}' stream ${o} transport errored:`,v),m.So(new H(O.UNAVAILABLE,"The operation could not be completed")))}),y(d,Sm.EventType.MESSAGE,v=>{var D;if(!p){const I=v.data[0];ne(!!I);const k=I.error||(null===(D=I[0])||void 0===D?void 0:D.error);if(k){$(wr,`RPC '${e}' stream ${o} received error:`,k);const U=k.status;let z=function(T){const M=Dn[T];if(void 0!==M)return N7(M)}(U),b=k.message;void 0===z&&(z=O.INTERNAL,b="Unknown error status: "+U+" with message "+k.message),p=!0,m.So(new H(z,b)),d.close()}else $(wr,`RPC '${e}' stream ${o} received:`,I),m.bo(I)}}),y(a,gW.STAT_EVENT,v=>{v.stat===vx.PROXY?$(wr,`RPC '${e}' stream ${o} detected buffering proxy`):v.stat===vx.NOPROXY&&$(wr,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{m.wo()},0),m}}function sw(){return typeof document<"u"?document:null}function n_(t){return new nPe(t,!0)}class gO{constructor(e,n,r=1e3,o=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=o,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-r);o>0&&$("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class $K{constructor(e,n,r,o,i,s,a,c){this.ui=e,this.Ho=r,this.Jo=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gO(e,n)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return w(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return w(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){var r=this;return w(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(ln(n.toString()),ln("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(n)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===n&&this.P_(r,o)},r=>{e(()=>{const o=new H(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>1==++this.e_?this.E_(o):this.onNext(o))})}i_(){var e=this;this.state=5,this.t_.Go(w(function*(){e.state=0,e.start()}))}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class QPe extends $K{constructor(e,n,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=function iPe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:te(),o=e.targetChange.targetIds||[],i=function(u,l){return u.useProto3Json?(ne(void 0===l||"string"==typeof l),en.fromBase64String(l||"")):(ne(void 0===l||l instanceof Buffer||l instanceof Uint8Array),en.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const l=void 0===u.code?O.UNKNOWN:N7(u.code);return new H(l,u.message||"")}(s);n=new F7(r,o,i,a||null)}else if("documentChange"in e){const r=e.documentChange,o=gs(t,r.document.name),i=dn(r.document.updateTime),s=r.document.createTime?dn(r.document.createTime):se.min(),a=new sr({mapValue:{fields:r.document.fields}}),c=Vt.newFoundDocument(o,i,s,a);n=new GD(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,o=gs(t,r.document),i=r.readTime?dn(r.readTime):se.min(),s=Vt.newNoDocument(o,i);n=new GD([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,o=gs(t,r.document);n=new GD([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return te();{const r=e.filter,{count:o=0,unchangedNames:i}=r,s=new YNe(o,i);n=new k7(r.targetId,s)}}var u;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return se.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?dn(s.readTime):se.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=zx(this.serializer),n.addTarget=function(i,s){let a;const c=s.target;if(a=LD(c)?{documents:W7(i,c)}:{query:zD(i,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=U7(i,s.resumeToken);const u=$x(i,s.expectedCount);null!==u&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Af(i,s.snapshotVersion.toTimestamp());const u=$x(i,s.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function aPe(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=zx(this.serializer),n.removeTarget=e,this.a_(n)}}class YPe extends $K{constructor(e,n,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ne(!!e.streamToken),this.lastStreamToken=e.streamToken,ne(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=function sPe(t,e){return t&&t.length>0?(ne(void 0!==e),t.map(n=>function(o,i){let s=dn(o.updateTime?o.updateTime:i);return s.isEqual(se.min())&&(s=dn(i)),new WNe(s,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=dn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=zx(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Km(t,e){let n;if(e instanceof Tf)n={update:z7(t,e.key,e.value)};else if(e instanceof Sf)n={delete:Wm(t,e.key)};else if(e instanceof sa)n={update:z7(t,e.key,e.data),updateMask:dPe(e.fieldMask)};else{if(!(e instanceof Lx))return te();n={verify:Wm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof Cf)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ju)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bf)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:rPe(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:te()),n;var i}(this.serializer,r))};this.a_(n)}}class ZPe extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,Gx(n,r),o,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new H(O.UNKNOWN,i.toString())})}Lo(e,n,r,o,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Gx(n,r),o,s,a,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class JPe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ln(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class XPe{constructor(e,n,r,o,i){var s=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(a=>{r.enqueueAndForget(w(function*(){var c;mc(s)&&($("RemoteStore","Restarting streams for network reachability change."),yield(c=w(function*(l){const d=Y(l);d.L_.add(4),yield Ff(d),d.q_.set("Unknown"),d.L_.delete(4),yield r_(d)}),function u(l){return c.apply(this,arguments)})(s))}))}),this.q_=new JPe(r,o)}}function r_(t){return mO.apply(this,arguments)}function mO(){return(mO=w(function*(t){if(mc(t))for(const e of t.B_)yield e(!0)})).apply(this,arguments)}function Ff(t){return _O.apply(this,arguments)}function _O(){return(_O=w(function*(t){for(const e of t.B_)yield e(!1)})).apply(this,arguments)}function aw(t,e){const n=Y(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),IO(n)?vO(n):jf(n).r_()&&yO(n,e))}function Lf(t,e){const n=Y(t),r=jf(n);n.N_.delete(e),r.r_()&&HK(n,e),0===n.N_.size&&(r.r_()?r.o_():mc(n)&&n.q_.set("Unknown"))}function yO(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}jf(t).A_(e)}function HK(t,e){t.Q_.xe(e),jf(t).R_(e)}function vO(t){t.Q_=new JNe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),jf(t).start(),t.q_.v_()}function IO(t){return mc(t)&&!jf(t).n_()&&t.N_.size>0}function mc(t){return 0===Y(t).L_.size}function GK(t){t.Q_=void 0}function exe(t){return EO.apply(this,arguments)}function EO(){return(EO=w(function*(t){t.q_.set("Online")})).apply(this,arguments)}function txe(t){return DO.apply(this,arguments)}function DO(){return(DO=w(function*(t){t.N_.forEach((e,n)=>{yO(t,e)})})).apply(this,arguments)}function nxe(t,e){return wO.apply(this,arguments)}function wO(){return(wO=w(function*(t,e){GK(t),IO(t)?(t.q_.M_(e),vO(t)):t.q_.set("Unknown")})).apply(this,arguments)}function rxe(t,e,n){return CO.apply(this,arguments)}function CO(){return CO=w(function*(t,e,n){if(t.q_.set("Online"),e instanceof F7&&2===e.state&&e.cause)try{yield(r=w(function*(i,s){const a=s.cause;for(const c of s.targetIds)i.N_.has(c)&&(yield i.remoteSyncer.rejectListen(c,a),i.N_.delete(c),i.Q_.removeTarget(c))}),function o(i,s){return r.apply(this,arguments)})(t,e)}catch(r){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield cw(t,r)}else if(e instanceof GD?t.Q_.Ke(e):e instanceof k7?t.Q_.He(e):t.Q_.We(e),!n.isEqual(se.min()))try{const r=yield PK(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const a=i.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const l=i.N_.get(u);l&&i.N_.set(u,l.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{const l=i.N_.get(c);if(!l)return;i.N_.set(c,l.withResumeToken(en.EMPTY_BYTE_STRING,l.snapshotVersion)),HK(i,c);const d=new aa(l.target,c,u,l.sequenceNumber);yO(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){$("RemoteStore","Failed to raise snapshot:",r),yield cw(t,r)}var r}),CO.apply(this,arguments)}function cw(t,e,n){return bO.apply(this,arguments)}function bO(){return(bO=w(function*(t,e,n){if(!sc(e))throw e;t.L_.add(1),yield Ff(t),t.q_.set("Offline"),n||(n=()=>PK(t.localStore)),t.asyncQueue.enqueueRetryable(w(function*(){$("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield r_(t)}))})).apply(this,arguments)}function zK(t,e){return e().catch(n=>cw(t,n,e))}function Vf(t){return TO.apply(this,arguments)}function TO(){return(TO=w(function*(t){const e=Y(t),n=_c(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oxe(e);)try{const o=yield $Pe(e.localStore,r);if(null===o){0===e.O_.length&&n.o_();break}r=o.batchId,ixe(e,o)}catch(o){yield cw(e,o)}qK(e)&&WK(e)})).apply(this,arguments)}function oxe(t){return mc(t)&&t.O_.length<10}function ixe(t,e){t.O_.push(e);const n=_c(t);n.r_()&&n.V_&&n.m_(e.mutations)}function qK(t){return mc(t)&&!_c(t).n_()&&t.O_.length>0}function WK(t){_c(t).start()}function sxe(t){return SO.apply(this,arguments)}function SO(){return(SO=w(function*(t){_c(t).p_()})).apply(this,arguments)}function axe(t){return AO.apply(this,arguments)}function AO(){return(AO=w(function*(t){const e=_c(t);for(const n of t.O_)e.m_(n.mutations)})).apply(this,arguments)}function cxe(t,e,n){return MO.apply(this,arguments)}function MO(){return(MO=w(function*(t,e,n){const r=t.O_.shift(),o=jx.from(r,e,n);yield zK(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),yield Vf(t)})).apply(this,arguments)}function uxe(t,e){return RO.apply(this,arguments)}function RO(){return RO=w(function*(t,e){var n;e&&_c(t).V_&&(yield(n=w(function*(o,i){if(function R7(t){switch(t){default:return te();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}(a=i.code)&&a!==O.ABORTED){const s=o.O_.shift();_c(o).s_(),yield zK(o,()=>o.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Vf(o)}var a}),function r(o,i){return n.apply(this,arguments)})(t,e)),qK(t)&&WK(t)}),RO.apply(this,arguments)}function KK(t,e){return NO.apply(this,arguments)}function NO(){return(NO=w(function*(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const r=mc(n);n.L_.add(3),yield Ff(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield r_(n)})).apply(this,arguments)}function PO(t,e){return xO.apply(this,arguments)}function xO(){return(xO=w(function*(t,e){const n=Y(t);e?(n.L_.delete(2),yield r_(n)):e||(n.L_.add(2),yield Ff(n),n.q_.set("Unknown"))})).apply(this,arguments)}function jf(t){return t.K_||(t.K_=function(n,r,o){const i=Y(n);return i.w_(),new QPe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Eo:exe.bind(null,t),Ro:txe.bind(null,t),mo:nxe.bind(null,t),d_:rxe.bind(null,t)}),t.B_.push(function(){var e=w(function*(n){n?(t.K_.s_(),IO(t)?vO(t):t.q_.set("Unknown")):(yield t.K_.stop(),GK(t))});return function(n){return e.apply(this,arguments)}}())),t.K_}function _c(t){return t.U_||(t.U_=function(n,r,o){const i=Y(n);return i.w_(),new YPe(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:sxe.bind(null,t),mo:uxe.bind(null,t),f_:axe.bind(null,t),g_:cxe.bind(null,t)}),t.B_.push(function(){var e=w(function*(n){n?(t.U_.s_(),yield Vf(t)):(yield t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))});return function(n){return e.apply(this,arguments)}}())),t.U_}class OO{constructor(e,n,r,o,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new Yn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,i){const s=Date.now()+r,a=new OO(e,n,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new H(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Uf(t,e){if(ln("AsyncQueue",`${e}: ${t}`),sc(t))return new H(O.UNAVAILABLE,`${e}: ${t}`);throw t}class Bf{constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Um(),this.sortedSet=new Mt(this.comparator)}static emptySet(e){return new Bf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bf)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Bf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class QK{constructor(){this.W_=new Mt(J.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(n,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(n):1===e.type&&2===r.type?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $f{constructor(e,n,r,o,i,s,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,o,i){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new $f(e,n,Bf.emptySet(n),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}class lxe{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class dxe{constructor(){this.queries=YK(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(n,r){const o=Y(n),i=o.queries;o.queries=YK(),i.forEach((s,a)=>{for(const c of a.j_)c.onError(r)})}(this,new H(O.ABORTED,"Firestore shutting down"))}}function YK(){return new ia(t=>d7(t),Vm)}function kO(t,e){return FO.apply(this,arguments)}function FO(){return(FO=w(function*(t,e){const n=Y(t);let r=3;const o=e.query;let i=n.queries.get(o);i?!i.H_()&&e.J_()&&(r=2):(i=new lxe,r=e.J_()?0:1);try{switch(r){case 0:i.z_=yield n.onListen(o,!0);break;case 1:i.z_=yield n.onListen(o,!1);break;case 2:yield n.onFirstRemoteStoreListen(o)}}catch(s){const a=Uf(s,`Initialization of query '${wf(e.query)}' failed`);return void e.onError(a)}n.queries.set(o,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&jO(n)})).apply(this,arguments)}function LO(t,e){return VO.apply(this,arguments)}function VO(){return(VO=w(function*(t,e){const n=Y(t),r=e.query;let o=3;const i=n.queries.get(r);if(i){const s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),0===i.j_.length?o=e.J_()?0:1:!i.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function fxe(t,e){const n=Y(t);let r=!1;for(const o of e){const s=n.queries.get(o.query);if(s){for(const a of s.j_)a.X_(o)&&(r=!0);s.z_=o}}r&&jO(n)}function hxe(t,e,n){const r=Y(t),o=r.queries.get(e);if(o)for(const i of o.j_)i.onError(n);r.queries.delete(e)}function jO(t){t.Y_.forEach(e=>{e.next()})}var UO,ZK;(ZK=UO||(UO={})).ea="default",ZK.Cache="cache";class BO{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new $f(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=$f.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==UO.Cache}}class eQ{constructor(e){this.key=e}}class tQ{constructor(e){this.key=e}}class nQ{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Re(),this.mutatedKeys=Re(),this.Aa=h7(e),this.Ra=new Bf(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new QK,o=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const c="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,u="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((l,d)=>{const h=o.get(l),p=jm(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==y&&(r.track({type:3,doc:p}),v=!0):this.ga(h,p)||(r.track({type:2,doc:p}),v=!0,(c&&this.Aa(p,c)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),v=!0):h&&!p&&(r.track({type:1,doc:h}),v=!0,(c||u)&&(a=!0)),v&&(p?(s=s.add(p),i=y?i.add(l):i.delete(l)):(s=s.delete(l),i=i.delete(l)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const l="F"===this.query.limitType?s.last():s.first();s=s.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{Ra:s,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((l,d)=>function(p,m){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return y(p)-y(m)}(l.type,d.type)||this.Aa(l.doc,d.doc)),this.pa(r),o=null!=o&&o;const a=n&&!o?this.ya():[],c=0===this.da.size&&this.current&&!o?1:0,u=c!==this.Ea;return this.Ea=c,0!==s.length||u?{snapshot:new $f(this.query,e.Ra,i,s,e.mutatedKeys,0===c,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new QK,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new tQ(r))}),this.da.forEach(r=>{e.has(r)||n.push(new eQ(r))}),n}ba(e){this.Ta=e.Ts,this.da=Re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $f.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class mxe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class _xe{constructor(e){this.key=e,this.va=!1}}class yxe{constructor(e,n,r,o,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ia(a=>d7(a),Vm),this.Ma=new Map,this.xa=new Set,this.Oa=new Mt(J.comparator),this.Na=new Map,this.La=new eO,this.Ba={},this.ka=new Map,this.qa=zu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function vxe(t,e){return $O.apply(this,arguments)}function $O(){return($O=w(function*(t,e,n=!0){const r=uw(t);let o;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Da()):o=yield rQ(r,e,n,!0),o})).apply(this,arguments)}function Ixe(t,e){return HO.apply(this,arguments)}function HO(){return(HO=w(function*(t,e){const n=uw(t);yield rQ(n,e,!0,!1)})).apply(this,arguments)}function rQ(t,e,n,r){return GO.apply(this,arguments)}function GO(){return(GO=w(function*(t,e,n,r){const o=yield function Of(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Ur.getTargetData(r,e).next(i=>i?(o=i,P.resolve(o)):n.Ur.allocateTargetId(r).next(s=>(o=new aa(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.os.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}(t.localStore,Er(e)),i=o.targetId,s=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=yield function zO(t,e,n,r,o){return qO.apply(this,arguments)}(t,e,i,"current"===s,o.resumeToken)),t.isPrimaryClient&&n&&aw(t.remoteStore,o),a})).apply(this,arguments)}function qO(){return qO=w(function*(t,e,n,r,o){t.Ka=(d,h,p)=>{return(m=w(function*(v,D,I,A){let k=D.view.ma(I);k.ns&&(k=yield nw(v.localStore,D.query,!1).then(({documents:C})=>D.view.ma(C,k)));const U=A&&A.targetChanges.get(D.targetId),z=A&&null!=A.targetMismatches.get(D.targetId),b=D.view.applyChanges(k,v.isPrimaryClient,U,z);return rk(v,D.targetId,b.wa),b.snapshot}),function y(v,D,I,A){return m.apply(this,arguments)})(t,d,h,p);var m};const i=yield nw(t.localStore,e,!0),s=new nQ(e,i.Ts),a=s.ma(i.documents),c=qm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,o),u=s.applyChanges(a,t.isPrimaryClient,c);rk(t,n,u.wa);const l=new mxe(e,n,s);return t.Fa.set(e,l),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}),qO.apply(this,arguments)}function Exe(t,e,n){return WO.apply(this,arguments)}function WO(){return(WO=w(function*(t,e,n){const r=Y(t),o=r.Fa.get(e),i=r.Ma.get(o.targetId);if(i.length>1)return r.Ma.set(o.targetId,i.filter(s=>!Vm(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield kf(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Lf(r.remoteStore,o.targetId),Hf(r,o.targetId)}).catch(ic))):(Hf(r,o.targetId),yield kf(r.localStore,o.targetId,!0))})).apply(this,arguments)}function Dxe(t,e){return KO.apply(this,arguments)}function KO(){return(KO=w(function*(t,e){const n=Y(t),r=n.Fa.get(e),o=n.Ma.get(r.targetId);n.isPrimaryClient&&1===o.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lf(n.remoteStore,r.targetId))})).apply(this,arguments)}function QO(){return(QO=w(function*(t,e,n){const r=function pk(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bxe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Txe.bind(null,e),e}(t);try{const o=yield function(s,a){const c=Y(s),u=Ht.now(),l=a.reduce((p,m)=>p.add(m.key),Re());let d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ao(),y=Re();return c.cs.getEntries(p,l).next(v=>{m=v,m.forEach((D,I)=>{I.isValidDocument()||(y=y.add(D))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,m)).next(v=>{d=v;const D=[];for(const I of a){const A=QNe(I,d.get(I.key).overlayedDocument);null!=A&&D.push(new sa(I.key,A,QW(A.value.mapValue),qt.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,D,a)}).next(v=>{h=v;const D=v.applyToLocalDocumentSet(d,y);return c.documentOverlayCache.saveOverlays(p,v.batchId,D)})}).then(()=>({batchId:h.batchId,changes:g7(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new Mt(Ee)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,o.batchId,n),yield ca(r,o.changes),yield Vf(r.remoteStore)}catch(o){const i=Uf(o,"Failed to persist write");n.reject(i)}})).apply(this,arguments)}function oQ(t,e){return YO.apply(this,arguments)}function YO(){return(YO=w(function*(t,e){const n=Y(t);try{const r=yield function BPe(t,e){const n=Y(t),r=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const a=[];e.targetChanges.forEach((l,d)=>{const h=o.get(d);if(!h)return;a.push(n.Ur.removeMatchingKeys(i,l.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(i,l.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);var y,v,D;null!==e.targetMismatches.get(d)?p=p.withResumeToken(en.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),o=o.insert(d,p),v=p,D=l,(0===(y=h).resumeToken.approximateByteSize()||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8||D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0)&&a.push(n.Ur.updateTargetData(i,p))});let c=ao(),u=Re();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,l))}),a.push(function xK(t,e,n){let r=Re(),o=Re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=ao();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(a)),c.isNoDocument()&&c.version.isEqual(se.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:o}})}(i,s,e.documentUpdates).next(l=>{c=l.Ps,u=l.Is})),!r.isEqual(se.min())){const l=n.Ur.getLastRemoteSnapshotVersion(i).next(d=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(l)}return P.waitFor(a).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.os=o,i))}(n.localStore,e);e.targetChanges.forEach((o,i)=>{const s=n.Na.get(i);s&&(ne(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.va=!0:o.modifiedDocuments.size>0?ne(s.va):o.removedDocuments.size>0&&(ne(s.va),s.va=!1))}),yield ca(n,r,e)}catch(r){yield ic(r)}})).apply(this,arguments)}function iQ(t,e,n){const r=Y(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const o=[];r.Fa.forEach((i,s)=>{const a=s.view.Z_(e);a.snapshot&&o.push(a.snapshot)}),function(s,a){const c=Y(s);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(const h of d.j_)h.Z_(a)&&(u=!0)}),u&&jO(c)}(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cxe(t,e,n){return ZO.apply(this,arguments)}function ZO(){return(ZO=w(function*(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Na.get(e),i=o&&o.key;if(i){let s=new Mt(J.comparator);s=s.insert(i,Vt.newNoDocument(i,se.min()));const a=Re().add(i),c=new zm(se.min(),new Map,new Mt(Ee),s,a);yield oQ(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),ok(r)}else yield kf(r.localStore,e,!1).then(()=>Hf(r,e,n)).catch(ic)})).apply(this,arguments)}function bxe(t,e){return JO.apply(this,arguments)}function JO(){return(JO=w(function*(t,e){const n=Y(t),r=e.batch.batchId;try{const o=yield function UPe(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){const d=u.batch,h=d.keys();let p=P.resolve();return h.forEach(m=>{p=p.next(()=>l.getEntry(c,m)).next(y=>{const v=u.docVersions.get(m);ne(null!==v),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),l.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Re();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}(n.localStore,e);nk(n,r,null),tk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield ca(n,o)}catch(o){yield ic(o)}})).apply(this,arguments)}function Txe(t,e,n){return XO.apply(this,arguments)}function XO(){return(XO=w(function*(t,e,n){const r=Y(t);try{const o=yield function(s,a){const c=Y(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(ne(null!==d),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);nk(r,e,n),tk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield ca(r,o)}catch(o){yield ic(o)}})).apply(this,arguments)}function tk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function nk(t,e,n){const r=Y(t);let o=r.Ba[r.currentUser.toKey()];if(o){const i=o.get(e);i&&(n?i.reject(n):i.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function Hf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||sQ(t,r)})}function sQ(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);null!==n&&(Lf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),ok(t))}function rk(t,e,n){for(const r of n)r instanceof eQ?(t.La.addReference(r.key,e),Axe(t,r)):r instanceof tQ?($("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||sQ(t,r.key)):te()}function Axe(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||($("SyncEngine","New document in limbo: "+n),t.xa.add(r),ok(t))}function ok(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new J($e.fromString(e)),r=t.qa.next();t.Na.set(r,new _xe(n)),t.Oa=t.Oa.insert(n,r),aw(t.remoteStore,new aa(Er(Ef(n.path)),r,"TargetPurposeLimboResolution",No.oe))}}function ca(t,e,n){return ik.apply(this,arguments)}function ik(){return ik=w(function*(t,e,n){const r=Y(t),o=[],i=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,n).then(u=>{var l;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:null===(l=n?.targetChanges.get(c.targetId))||void 0===l?void 0:l.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){o.push(u);const d=iO.Wi(c.targetId,u);i.push(d)}}))}),yield Promise.all(s),r.Ca.d_(o),yield(a=w(function*(u,l){const d=Y(u);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>P.forEach(l,p=>P.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>P.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!sc(h))throw h;$("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const p=h.targetId;if(!h.fromCache){const m=d.os.get(p),v=m.withLastLimboFreeSnapshotVersion(m.snapshotVersion);d.os=d.os.insert(p,v)}}}),function c(u,l){return a.apply(this,arguments)})(r.localStore,i))}),ik.apply(this,arguments)}function Mxe(t,e){return sk.apply(this,arguments)}function sk(){return(sk=w(function*(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const r=yield NK(n.localStore,e);n.currentUser=e,(i=n).ka.forEach(a=>{a.forEach(c=>{c.reject(new H(O.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.ka.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ca(n,r.hs)}var i})).apply(this,arguments)}function Rxe(t,e){const n=Y(t),r=n.Na.get(e);if(r&&r.va)return Re().add(r.key);{let o=Re();const i=n.Ma.get(e);if(!i)return o;for(const s of i){const a=n.Fa.get(s);o=o.unionWith(a.view.Va)}return o}}function uw(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rxe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cxe.bind(null,e),e.Ca.d_=fxe.bind(null,e.eventManager),e.Ca.$a=hxe.bind(null,e.eventManager),e}let Gf=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){var r=this;return w(function*(){r.serializer=n_(n.databaseInfo.databaseId),r.sharedClientState=r.Wa(n),r.persistence=r.Ga(n),yield r.persistence.start(),r.localStore=r.za(n),r.gcScheduler=r.ja(n,r.localStore),r.indexBackfillerScheduler=r.Ha(n,r.localStore)})()}ja(n,r){return null}Ha(n,r){return null}za(n){return function RK(t,e,n,r){return new jPe(t,e,n,r)}(this.persistence,new MK,n.initialUser,this.serializer)}Ga(n){return new tO(XD.Zr,this.serializer)}Wa(n){return new jK}terminate(){var n=this;return w(function*(){var r,o;null===(r=n.gcScheduler)||void 0===r||r.stop(),null===(o=n.indexBackfillerScheduler)||void 0===o||o.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}return t.provider={build:()=>new t},t})(),zf=(()=>{class t{initialize(n,r){var o=this;return w(function*(){o.localStore||(o.localStore=n.localStore,o.sharedClientState=n.sharedClientState,o.datastore=o.createDatastore(r),o.remoteStore=o.createRemoteStore(r),o.eventManager=o.createEventManager(r),o.syncEngine=o.createSyncEngine(r,!n.synchronizeTabs),o.sharedClientState.onlineStateHandler=i=>iQ(o.syncEngine,i,1),o.remoteStore.remoteSyncer.handleCredentialChange=Mxe.bind(null,o.syncEngine),yield PO(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(n){return new dxe}createDatastore(n){const r=n_(n.databaseInfo.databaseId),o=new KPe(n.databaseInfo);return new ZPe(n.authCredentials,n.appCheckCredentials,o,r)}createRemoteStore(n){return o=this.localStore,i=this.datastore,s=n.asyncQueue,a=r=>iQ(this.syncEngine,r,0),c=UK.D()?new UK:new zPe,new XPe(o,i,s,a,c);var o,i,s,a,c}createSyncEngine(n,r){return function(i,s,a,c,u,l,d){const h=new yxe(i,s,a,c,u,l);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){var n=this;return w(function*(){var r,o,i;yield(i=w(function*(a){const c=Y(a);$("RemoteStore","RemoteStore shutting down."),c.L_.add(5),yield Ff(c),c.k_.shutdown(),c.q_.set("Unknown")}),function s(a){return i.apply(this,arguments)})(n.remoteStore),null===(r=n.datastore)||void 0===r||r.terminate(),null===(o=n.eventManager)||void 0===o||o.terminate()})()}}return t.provider={build:()=>new t},t})();class lw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ln("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}class Hxe{constructor(e,n,r,o,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Qn.UNAUTHENTICATED,this.clientId=EW.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,function(){var a=w(function*(c){$("FirestoreClient","Received user=",c.uid),yield s.authCredentialListener(c),s.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>($("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Yn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(w(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const o=Uf(r,"Failed to shutdown persistence");n.reject(o)}})),n.promise}}function mk(t,e){return _k.apply(this,arguments)}function _k(){return _k=w(function*(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var o=w(function*(i){r.isEqual(i)||(yield NK(e.localStore,i),r=i)});return function(i){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),_k.apply(this,arguments)}function dQ(t,e){return yk.apply(this,arguments)}function yk(){return(yk=w(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function vk(t){return Ik.apply(this,arguments)}(t);$("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>KK(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>KK(e.remoteStore,o)),t._onlineComponents=e})).apply(this,arguments)}function Ik(){return(Ik=w(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mk(t,t._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(o=e).name?o.code===O.FAILED_PRECONDITION||o.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||22===o.code||20===o.code||11===o.code))throw e;Xo("Error using user provided cache. Falling back to memory cache: "+e),yield mk(t,new Gf)}}else $("FirestoreClient","Using default OfflineComponentProvider"),yield mk(t,new Gf);var o;return t._offlineComponents})).apply(this,arguments)}function dw(t){return Ek.apply(this,arguments)}function Ek(){return(Ek=w(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),yield dQ(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),yield dQ(t,new zf))),t._onlineComponents})).apply(this,arguments)}function Wf(t){return wk.apply(this,arguments)}function wk(){return(wk=w(function*(t){const e=yield dw(t),n=e.eventManager;return n.onListen=vxe.bind(null,e.syncEngine),n.onUnlisten=Exe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ixe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Dxe.bind(null,e.syncEngine),n})).apply(this,arguments)}function _Q(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const yQ=new Map;function Ck(t,e,n){if(!n)throw new H(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vQ(t){if(!J.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function IQ(t){if(J.isDocumentKey(t))throw new H(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function fw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(r=t).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof t?"a function":te()}function je(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fw(t);throw new H(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class DQ{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function tOe(t,e,n,r){if(!0===e&&!0===r)throw new H(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=_Q(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class o_{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DQ({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DQ(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new KRe;switch(r.type){case"firstParty":return new JRe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return w(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yQ.get(n);r&&($("ComponentProvider","Removing Datastore"),yQ.delete(n),r.terminate())}(this),Promise.resolve()}}class ar{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ar(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}}class ms extends ar{constructor(e,n,r){super(e,n,Ef(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new J(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function Kf(t,e,...n){if(t=Jt(t),Ck("collection","path",e),t instanceof o_){const r=$e.fromString(e,...n);return IQ(r),new ms(t,null,r)}{if(!(t instanceof fn||t instanceof ms))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return IQ(r),new ms(t.firestore,null,r)}}function Qf(t,e,...n){if(t=Jt(t),1===arguments.length&&(e=EW.newId()),Ck("doc","path",e),t instanceof o_){const r=$e.fromString(e,...n);return vQ(r),new fn(t,null,new J(r))}{if(!(t instanceof fn||t instanceof ms))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return vQ(r),new fn(t.firestore,t instanceof ms?t.converter:null,new J(r))}}class CQ{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gO(this,"async_queue_retry"),this.Vu=()=>{const r=sw();r&&$("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=sw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=sw();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Yn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return w(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(n){if(!sc(n))throw n;$("AsyncQueue","Operation failed with retryable error: "+n)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,ln("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=OO.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(o),o}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){var e=this;return w(function*(){let n;do{n=e.mu,yield n}while(n!==e.mu)})()}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function bk(t){return function(n){if("object"!=typeof n||null===n)return!1;const o=n;for(const i of["next","error","complete"])if(i in o&&"function"==typeof o[i])return!0;return!1}(t)}class vt extends o_{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new CQ,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){var e=this;return w(function*(){if(e._firestoreClient){const n=e._firestoreClient.terminate();e._queue=new CQ(n),e._firestoreClient=void 0,yield n}})()}}function oOe(t,e){const r="string"==typeof t?t:e||"(default)",o=ec("object"==typeof t?t:eN(),"firestore").getImmediate({identifier:r});if(!o._initialized){const i=(()=>{const e=S5("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();i&&function nOe(t,e,n,r={}){var o;const i=(t=je(t,o_))._getSettings(),s=`${e}:${n}`;if("firestore.googleapis.com"!==i.host&&i.host!==s&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Qn.MOCK_USER;else{a=function eSe(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nD(JSON.stringify({alg:"none",type:"JWT"})),nD(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(o=t._app)||void 0===o?void 0:o.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new H(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Qn(u)}t._authCredentials=new QRe(new vW(a,c))}}(o,...i)}return o}function Xt(t){if(t._terminated)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||function bQ(t){var e,n,r;const o=t._freezeSettings(),i=(c=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new ANe(t._databaseId,c,t._persistenceKey,(l=o).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,_Q(l.experimentalLongPollingOptions),l.useFetchStreams));var c,l;t._componentsProvider||!(null===(n=o.localCache)||void 0===n)&&n._offlineComponentProvider&&!(null===(r=o.localCache)||void 0===r)&&r._onlineComponentProvider&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new Hxe(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(t._componentsProvider))}(t),t._firestoreClient}class Wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wu(en.fromBase64String(e))}catch(n){throw new H(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wu(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ku{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Yf{constructor(e){this._methodName=e}}class Sk{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}class hw{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==o[i])return!1;return!0}(this._values,e._values)}}const sOe=/^__.*__$/;class aOe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tf(e,this.data,n,this.fieldTransforms)}}class SQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function AQ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class pw{constructor(e,n,r,o,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _w(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(AQ(this.Cu)&&sOe.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class cOe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||n_(e)}Qu(e,n,r,o=!1){return new pw({Cu:e,methodName:n,qu:r,path:Gt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qu(t){const e=t._freezeSettings(),n=n_(t._databaseId);return new cOe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gw(t,e,n,r,o,i={}){const s=t.Qu(i.merge||i.mergeFields?2:0,e,n,o);Ok("Data must be an object, but it was:",s,r);const a=NQ(r,s);let c,u;if(i.merge)c=new so(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){const l=[];for(const d of i.mergeFields){const h=a_(e,d,n);if(!s.contains(h))throw new H(O.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);xQ(l,h)||l.push(h)}c=new so(l),u=s.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=s.fieldTransforms;return new aOe(new sr(a),c,u)}class s_ extends Yf{_toFieldTransform(e){if(2!==e.Cu)throw e.Bu(1===e.Cu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof s_}}function Yu(t,e){if(PQ(t=Jt(t)))return Ok("Unsupported field value:",e,t),NQ(t,e);if(t instanceof Yf)return function(r,o){if(!AQ(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,o){const i=[];let s=0;for(const a of r){let c=Yu(a,o.Lu(s));null==c&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,o){if(null===(r=Jt(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return y7(o.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const i=Ht.fromDate(r);return{timestampValue:Af(o.serializer,i)}}if(r instanceof Ht){const i=new Ht(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Af(o.serializer,i)}}if(r instanceof Sk)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wu)return{bytesValue:U7(o.serializer,r._byteString)};if(r instanceof fn){const i=o.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw o.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hx(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof hw)return a=o,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(c=>{if("number"!=typeof c)throw a.Bu("VectorValues must only contain numeric values.");return Fx(a.serializer,c)})}}}}};var a;throw o.Bu(`Unsupported field value: ${fw(r)}`)}(t,e)}function NQ(t,e){const n={};return VW(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ac(t,(r,o)=>{const i=Yu(o,e.Mu(r));null!=i&&(n[r]=i)}),{mapValue:{fields:n}}}function PQ(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ht||t instanceof Sk||t instanceof Wu||t instanceof fn||t instanceof Yf||t instanceof hw)}function Ok(t,e,n){if(!PQ(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const r=fw(n);throw e.Bu("an object"===r?t+" a custom object":t+" "+r)}var o}function a_(t,e,n){if((e=Jt(e))instanceof Ku)return e._internalPath;if("string"==typeof e)return mw(t,e);throw _w("Field path arguments must be of type string or ",t,!1,void 0,n)}const uOe=new RegExp("[~\\*/\\[\\]]");function mw(t,e,n){if(e.search(uOe)>=0)throw _w(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ku(...e.split("."))._internalPath}catch{throw _w(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _w(t,e,n,r,o){const i=r&&!r.isEmpty(),s=void 0!==o;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${r}`),s&&(c+=` in document ${o}`),c+=")"),new H(O.INVALID_ARGUMENT,a+t+c)}function xQ(t,e){return t.some(n=>n.isEqual(e))}class c_{constructor(e,n,r,o,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lOe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yw("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class lOe extends c_{data(){return super.data()}}function yw(t,e){return"string"==typeof e?mw(t,e):e instanceof Ku?e._internalPath:e._delegate._internalPath}function OQ(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UQ{convertValue(e,n="none"){switch(uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ra(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ac(e,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,o;const i=null===(o=null===(r=null===(n=e.fields)||void 0===n?void 0:n.value.arrayValue)||void 0===r?void 0:r.values)||void 0===o?void 0:o.map(s=>zt(s.doubleValue));return new hw(i)}convertGeoPoint(e){return new Sk(zt(e.latitude),zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=PD(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pm(e));default:return null}}convertTimestamp(e){const n=na(e);return new Ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);ne(J7(r));const o=new ku(r.get(1),r.get(3)),i=new J(r.popFirst(5));return o.isEqual(n)||ln(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Zu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jf extends c_{constructor(e,n,r,o,i,s){super(e,n,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ww(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ww extends Jf{data(e={}){return super.data(e)}}class Xf{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Zu(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ww(this._firestore,this._userDataWriter,r.key,r,new Zu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(a=>({type:"added",doc:new ww(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Zu(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:s++}))}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>i||3!==a.type).map(a=>{const c=new ww(o._firestore,o._userDataWriter,a.doc.key,a.doc,new Zu(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let u=-1,l=-1;return 0!==a.type&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),l=s.indexOf(a.doc.key)),{type:hOe(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hOe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}class yc extends UQ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function BQ(t){t=je(t,ar);const e=je(t.firestore,vt),n=Xt(e),r=new yc(e);return OQ(t._query),function mQ(t,e,n={}){const r=new Yn;return t.asyncQueue.enqueueAndForget(w(function*(){return function(i,s,a,c,u){const l=new lw({next:h=>{l.Za(),s.enqueueAndForget(()=>LO(i,d)),h.fromCache&&"server"===c.source?u.reject(new H(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new BO(a,l,{includeMetadataChanges:!0,_a:!0});return kO(i,d)}(yield Wf(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(o=>new Xf(e,r,t,o))}function $Q(t,e,n,...r){t=je(t,fn);const o=je(t.firestore,vt),i=Qu(o);let s;return s="string"==typeof(e=Jt(e))||e instanceof Ku?function xk(t,e,n,r,o,i){const s=t.Qu(1,e,n),a=[a_(e,r,n)],c=[o];if(i.length%2!=0)throw new H(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)a.push(a_(e,i[h])),c.push(i[h+1]);const u=[],l=sr.empty();for(let h=a.length-1;h>=0;--h)if(!xQ(u,a[h])){const p=a[h];let m=c[h];m=Jt(m);const y=s.Nu(p);if(m instanceof s_)u.push(p);else{const v=Yu(m,y);null!=v&&(u.push(p),l.set(p,v))}}const d=new so(u);return new SQ(l,d,s.fieldTransforms)}(i,"updateDoc",t._key,e,n,r):function Pk(t,e,n,r){const o=t.Qu(1,e,n);Ok("Data must be an object, but it was:",o,r);const i=[],s=sr.empty();ac(r,(c,u)=>{const l=mw(e,c,n);u=Jt(u);const d=o.Nu(l);if(u instanceof s_)i.push(l);else{const h=Yu(u,d);null!=h&&(i.push(l),s.set(l,h))}});const a=new so(i);return new SQ(s,a,o.fieldTransforms)}(i,"updateDoc",t._key,e),d_(o,[s.toMutation(t._key,qt.exists(!0))])}function Lk(t){return d_(je(t.firestore,vt),[new Sf(t._key,qt.none())])}function Vk(t,e){const n=je(t.firestore,vt),r=Qf(t),o=function Dw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return d_(n,[gw(Qu(t.firestore),"addDoc",r._key,o,null!==t.converter,{}).toMutation(r._key,qt.exists(!1))]).then(()=>r)}function d_(t,e){return function(r,o){const i=new Yn;return r.asyncQueue.enqueueAndForget(w(function*(){return function wxe(t,e,n){return QO.apply(this,arguments)}(yield function Dk(t){return dw(t).then(e=>e.syncEngine)}(r),o,i)})),i.promise}(Xt(t),e)}!function(e,n=!0){hf=cf,us(new Ti("firestore",(r,{instanceIdentifier:o,options:i})=>{const s=r.getProvider("app").getImmediate(),a=new vt(new YRe(r.getProvider("auth-internal")),new XRe(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ku(u.options.projectId,l)}(s,o),s);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Mo(yW,"4.7.3",e),Mo(yW,"4.7.3","esm2017")}();const qQ="@firebase/installations",Bk="0.6.9",WQ=1e4,KQ=`w:${Bk}`,QQ="FIS_v2",SOe="https://firebaseinstallations.googleapis.com/v1",AOe=36e5,ua=new bu("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function YQ(t){return t instanceof bi&&t.code.includes("request-failed")}function $k({projectId:t}){return`${SOe}/projects/${t}/installations`}function ZQ(t){return{token:t.token,requestStatus:2,expiresIn:POe(t.expiresIn),creationTime:Date.now()}}function Hk(t,e){return Gk.apply(this,arguments)}function Gk(){return(Gk=w(function*(t,e){const r=(yield e.json()).error;return ua.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function JQ({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function zk(t){return qk.apply(this,arguments)}function qk(){return(qk=w(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function POe(t){return Number(t.replace("s","000"))}function Wk(){return(Wk=w(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$k(t),o=JQ(t),i=e.getImmediate({optional:!0});if(i){const u=yield i.getHeartbeatsHeader();u&&o.append("x-firebase-client",u)}const a={method:"POST",headers:o,body:JSON.stringify({fid:n,authVersion:QQ,appId:t.appId,sdkVersion:KQ})},c=yield zk(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:ZQ(u.authToken)}}throw yield Hk("Create Installation",c)})).apply(this,arguments)}function eY(t){return new Promise(e=>{setTimeout(e,t)})}const FOe=/^[cdef][\w-]{21}$/,Kk="";function LOe(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function VOe(t){return function kOe(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return FOe.test(n)?n:Kk}catch{return Kk}}function eh(t){return`${t.appName}!${t.appId}`}const th=new Map;function tY(t,e){const n=eh(t);nY(n,e),function BOe(t,e){const n=function rY(){return!Ju&&"BroadcastChannel"in self&&(Ju=new BroadcastChannel("[Firebase] FID Change"),Ju.onmessage=t=>{nY(t.data.key,t.data.fid)}),Ju}();n&&n.postMessage({key:t,fid:e}),function oY(){0===th.size&&Ju&&(Ju.close(),Ju=null)}()}(n,e)}function nY(t,e){const n=th.get(t);if(n)for(const r of n)r(e)}let Ju=null;const $Oe="firebase-installations-database",HOe=1,Xu="firebase-installations-store";let Qk=null;function Yk(){return Qk||(Qk=B5($Oe,HOe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Xu)}})),Qk}function bw(t,e){return Zk.apply(this,arguments)}function Zk(){return(Zk=w(function*(t,e){const n=eh(t),o=(yield Yk()).transaction(Xu,"readwrite"),i=o.objectStore(Xu),s=yield i.get(n);return yield i.put(e,n),yield o.done,(!s||s.fid!==e.fid)&&tY(t,e.fid),e})).apply(this,arguments)}function Jk(t){return Xk.apply(this,arguments)}function Xk(){return(Xk=w(function*(t){const e=eh(t),r=(yield Yk()).transaction(Xu,"readwrite");yield r.objectStore(Xu).delete(e),yield r.done})).apply(this,arguments)}function f_(t,e){return e1.apply(this,arguments)}function e1(){return(e1=w(function*(t,e){const n=eh(t),o=(yield Yk()).transaction(Xu,"readwrite"),i=o.objectStore(Xu),s=yield i.get(n),a=e(s);return void 0===a?yield i.delete(n):yield i.put(a,n),yield o.done,a&&(!s||s.fid!==a.fid)&&tY(t,a.fid),a})).apply(this,arguments)}function t1(t){return n1.apply(this,arguments)}function n1(){return n1=w(function*(t){let e;const n=yield f_(t.appConfig,r=>{const o=function GOe(t){return sY(t||{fid:LOe(),registrationStatus:0})}(r),i=function zOe(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ua.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function qOe(t,e){return r1.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:WOe(t)}:{installationEntry:e}}(t,o);return e=i.registrationPromise,i.installationEntry});return n.fid===Kk?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),n1.apply(this,arguments)}function r1(){return r1=w(function*(t,e){try{const n=yield function OOe(t,e){return Wk.apply(this,arguments)}(t,e);return bw(t.appConfig,n)}catch(n){throw YQ(n)&&409===n.customData.serverCode?yield Jk(t.appConfig):yield bw(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),r1.apply(this,arguments)}function WOe(t){return o1.apply(this,arguments)}function o1(){return(o1=w(function*(t){let e=yield iY(t.appConfig);for(;1===e.registrationStatus;)yield eY(100),e=yield iY(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield t1(t);return r||n}return e})).apply(this,arguments)}function iY(t){return f_(t,e=>{if(!e)throw ua.create("installation-not-found");return sY(e)})}function sY(t){return function KOe(t){return 1===t.registrationStatus&&t.registrationTime+WQ<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function s1(){return(s1=w(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function YOe(t,{fid:e}){return`${$k(t)}/${e}/authTokens:generate`}(t,n),o=function XQ(t,{refreshToken:e}){const n=JQ(t);return n.append("Authorization",function xOe(t){return`${QQ} ${t}`}(e)),n}(t,n),i=e.getImmediate({optional:!0});if(i){const u=yield i.getHeartbeatsHeader();u&&o.append("x-firebase-client",u)}const a={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:KQ,appId:t.appId}})},c=yield zk(()=>fetch(r,a));if(c.ok)return ZQ(yield c.json());throw yield Hk("Generate Auth Token",c)})).apply(this,arguments)}function a1(t){return c1.apply(this,arguments)}function c1(){return c1=w(function*(t,e=!1){let n;const r=yield f_(t.appConfig,i=>{if(!cY(i))throw ua.create("not-registered");const s=i.authToken;if(!e&&function XOe(t){return 2===t.requestStatus&&!function eke(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+AOe}(t)}(s))return i;if(1===s.requestStatus)return n=function ZOe(t,e){return u1.apply(this,arguments)}(t,e),i;{if(!navigator.onLine)throw ua.create("app-offline");const a=function tke(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(i);return n=function JOe(t,e){return l1.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),c1.apply(this,arguments)}function u1(){return(u1=w(function*(t,e){let n=yield aY(t.appConfig);for(;1===n.authToken.requestStatus;)yield eY(100),n=yield aY(t.appConfig);const r=n.authToken;return 0===r.requestStatus?a1(t,e):r})).apply(this,arguments)}function aY(t){return f_(t,e=>{if(!cY(e))throw ua.create("not-registered");return function nke(t){return 1===t.requestStatus&&t.requestTime+WQ<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function l1(){return l1=w(function*(t,e){try{const n=yield function QOe(t,e){return s1.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield bw(t.appConfig,r),n}catch(n){if(!YQ(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield bw(t.appConfig,r)}else yield Jk(t.appConfig);throw n}}),l1.apply(this,arguments)}function cY(t){return void 0!==t&&2===t.registrationStatus}function d1(){return(d1=w(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield t1(e);return r?r.catch(console.error):a1(e).catch(console.error),n.fid})).apply(this,arguments)}function f1(){return f1=w(function*(t,e=!1){const n=t;return yield function ike(t){return h1.apply(this,arguments)}(n),(yield a1(n,e)).token}),f1.apply(this,arguments)}function h1(){return(h1=w(function*(t){const{registrationPromise:e}=yield t1(t);e&&(yield e)})).apply(this,arguments)}function m1(t){return ua.create("missing-app-config-values",{valueName:t})}const uY="installations",lke=t=>{const e=t.getProvider("app").getImmediate(),n=function cke(t){if(!t||!t.options)throw m1("App Configuration");if(!t.name)throw m1("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw m1(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:ec(e,"heartbeat"),_delete:()=>Promise.resolve()}},dke=t=>{const n=ec(t.getProvider("app").getImmediate(),uY).getImmediate();return{getId:()=>function rke(t){return d1.apply(this,arguments)}(n),getToken:o=>function oke(t){return f1.apply(this,arguments)}(n,o)}};(function fke(){us(new Ti(uY,lke,"PUBLIC")),us(new Ti("installations-internal",dke,"PRIVATE"))})(),Mo(qQ,Bk),Mo(qQ,Bk,"esm2017");const Tw="analytics",hke="firebase_id",pke="origin",gke=6e4,mke="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_1="https://www.googletagmanager.com/gtag/js",Jn=new aD("@firebase/analytics"),$r=new bu("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function yke(t){if(!t.startsWith(_1)){const e=$r.create("invalid-gtag-resource",{gtagURL:t});return Jn.warn(e.message),""}return t}function lY(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function y1(){return(y1=w(function*(t,e,n,r,o,i){const s=r[o];try{if(s)yield e[s];else{const c=(yield lY(n)).find(u=>u.measurementId===o);c&&(yield e[c.appId])}}catch(a){Jn.error(a)}t("config",o,i)})).apply(this,arguments)}function v1(){return(v1=w(function*(t,e,n,r,o){try{let i=[];if(o&&o.send_to){let s=o.send_to;Array.isArray(s)||(s=[s]);const a=yield lY(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(!l){i=[];break}i.push(l)}}0===i.length&&(i=Object.values(e)),yield Promise.all(i),t("event",r,o||{})}catch(i){Jn.error(i)}})).apply(this,arguments)}const Ske=30,dY=new class Mke{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Rke(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function I1(){return(I1=w(function*(t){var e;const{appId:n,apiKey:r}=t,o={method:"GET",headers:Rke(r)},i=mke.replace("{app-id}",n),s=yield fetch(i,o);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw $r.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function E1(){return(E1=w(function*(t,e=dY,n){const{appId:r,apiKey:o,measurementId:i}=t.options;if(!r)throw $r.create("no-app-id");if(!o){if(i)return{measurementId:i,appId:r};throw $r.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new kke;return setTimeout(w(function*(){a.abort()}),void 0!==n?n:gke),fY({appId:r,apiKey:o,measurementId:i},s,a,e)})).apply(this,arguments)}function fY(t,e,n){return D1.apply(this,arguments)}function D1(){return D1=w(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,o=dY){var i;const{appId:s,measurementId:a}=t;try{yield function xke(t,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),i=setTimeout(n,o);t.addEventListener(()=>{clearTimeout(i),r($r.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return Jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Nke(t){return I1.apply(this,arguments)}(t);return o.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function Oke(t){if(!(t instanceof bi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u)){if(o.deleteThrottleMetadata(s),a)return Jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(i=u?.customData)||void 0===i?void 0:i.httpStatus)?k5(n,o.intervalMillis,Ske):k5(n,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return o.setThrottleMetadata(s,d),Jn.debug(`Calling attemptFetch again in ${l} millis`),fY(t,d,r,o)}}),D1.apply(this,arguments)}class kke{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let w1,R1;function C1(){return(C1=w(function*(t,e,n,r,o){if(o&&o.global)t("event",n,r);else{const i=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function N1(){return(N1=w(function*(){if(!iD())return Jn.warn($r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield HR()}catch(t){return Jn.warn($r.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function P1(){return P1=w(function*(t,e,n,r,o,i,s){var a;const c=function Pke(t){return E1.apply(this,arguments)}(t);c.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Jn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Jn.error(p)),e.push(c);const u=function $ke(){return N1.apply(this,arguments)}().then(p=>{if(p)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function Tke(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(_1)&&n.src.includes(t))return n;return null})(i)||function Ike(t,e){const n=function vke(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:yke}),r=document.createElement("script"),o=`${_1}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}(i,l.measurementId),R1&&(o("consent","default",R1),function hY(t){R1=t}(void 0)),o("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[pke]="firebase",h.update=!0,null!=d&&(h[hke]=d),o("config",l.measurementId,h),w1&&(o("set",w1),function pY(t){w1=t}(void 0)),l.measurementId}),P1.apply(this,arguments)}class Gke{constructor(e){this.app=e}_delete(){return delete _s[this.app.options.appId],Promise.resolve()}}let _s={},gY=[];const mY={};let yY,ys,Sw="dataLayer",x1=!1;function qke(t,e,n){!function zke(){const t=[];if($R()&&t.push("This is a browser extension environment."),P5()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=$r.create("invalid-analytics-context",{errorInfo:e});Jn.warn(n.message)}}();const r=t.options.appId;if(!r)throw $r.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw $r.create("no-api-key");Jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=_s[r])throw $r.create("already-exists",{id:r});if(!x1){!function Eke(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Sw);const{wrappedGtag:i,gtagCore:s}=function bke(t,e,n,r,o){let i=function(...s){window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(i=window[o]),window[o]=function Cke(t,e,n,r){function i(){return i=w(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function wke(t,e,n,r,o){return v1.apply(this,arguments)}(t,e,n,c,u)}else if("config"===s){const[c,u]=a;yield function Dke(t,e,n,r,o,i){return y1.apply(this,arguments)}(t,e,n,r,c,u)}else if("consent"===s){const[c,u]=a;t("consent",c,u)}else if("get"===s){const[c,u,l]=a;t("get",c,u,l)}else if("set"===s){const[c]=a;t("set",c)}else t(s,...a)}catch(c){Jn.error(c)}}),i.apply(this,arguments)}return function o(s){return i.apply(this,arguments)}}(i,t,e,n),{gtagCore:i,wrappedGtag:window[o]}}(_s,gY,mY,Sw,"gtag");ys=i,yY=s,x1=!0}return _s[r]=function Hke(t,e,n,r,o,i,s){return P1.apply(this,arguments)}(t,gY,mY,e,yY,Sw,n),new Gke(t)}function vY(){return O1.apply(this,arguments)}function O1(){return(O1=w(function*(){if($R()||!P5()||!iD())return!1;try{return yield HR()}catch{return!1}})).apply(this,arguments)}const IY="@firebase/analytics";!function Yke(){us(new Ti(Tw,(e,{options:n})=>qke(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),us(new Ti("analytics-internal",function t(e){try{const n=e.getProvider(Tw).getImmediate();return{logEvent:(r,o,i)=>function Qke(t,e,n,r){t=Jt(t),function Fke(t,e,n,r,o){return C1.apply(this,arguments)}(ys,_s[t.app.options.appId],e,n,r).catch(o=>Jn.error(o))}(n,r,o,i)}}catch(n){throw $r.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Mo(IY,"0.10.8"),Mo(IY,"0.10.8","esm2017")}();const Zke={apiKey:"AIzaSyBJ4VU8NzNDGCSWE0zgPDpzW8jlmLVUwh8",authDomain:"masniofficeagenda.firebaseapp.com",projectId:"masniofficeagenda",storageBucket:"masniofficeagenda.appspot.com",messagingSenderId:"176523511925",appId:"1:176523511925:web:3c72a67b5fc3d2e679903c",measurementId:"G-P3W83HV194"};let el=(()=>{class t{app;auth;db;constructor(){this.app=z5(Zke),vY().then(n=>{n&&function Wke(t=eN()){const e=ec(t=Jt(t),Tw);return e.isInitialized()?e.getImmediate():function Kke(t,e={}){const n=ec(t,Tw);if(n.isInitialized()){const o=n.getImmediate();if(Tu(e,n.getOptions()))return o;throw $r.create("already-initialized")}return n.initialize({options:e})}(t)}(this.app)}).catch(n=>{console.error("Analytics not supported:",n)}),this.auth=zRe(this.app),this.db=oOe(this.app)}login(n,r){var o=this;return w(function*(){try{yield function sMe(t,e,n){return Ks(t.app)?Promise.reject(Kn(t)):cP(Jt(t),x9.credential(e,n)).catch(function(){var r=w(function*(o){throw"auth/password-does-not-meet-requirements"===o.code&&mP(t),o});return function(o){return r.apply(this,arguments)}}())}(o.auth,n,r),console.log("Login successful")}catch(i){throw o.handleError(i),new Error(i instanceof Error?i.message:"An unknown error occurred during login")}})()}logout(){var n=this;return w(function*(){try{yield function mMe(t){return Jt(t).signOut()}(n.auth),console.log("Logout successful")}catch(r){throw n.handleError(r),new Error(r instanceof Error?r.message:"An unknown error occurred during logout")}})()}isLoggedIn(){return null!==this.auth.currentUser}addAppointment(n){var r=this;return w(function*(){if(!n.date)throw new Error("Appointment date is required");try{const o=yield Vk(Kf(r.db,"appointments"),{date:n.date,startTime:n.startTime,endTime:n.endTime,title:n.title,description:n.description});console.log("Appointment added with ID:",o.id)}catch(o){throw r.handleError(o),new Error("Error adding appointment: "+(o instanceof Error?o.message:"Unknown error"))}})()}getAppointments(){const n=Kf(this.db,"appointments");return new Sn(r=>{const o=function pOe(t,...e){var n,r,o;t=Jt(t);let i={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||bk(e[s])||(i=e[s],s++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(bk(e[s])){const d=e[s];e[s]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[s+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}let c,u,l;if(t instanceof fn)u=je(t.firestore,vt),l=Ef(t._key.path),c={next:d=>{e[s]&&e[s](function jk(t,e,n){const r=n.docs.get(e._key),o=new yc(t);return new Jf(t,o,e._key,r,new Zu(n.hasPendingWrites,n.fromCache),e.converter)}(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=je(t,ar);u=je(d.firestore,vt),l=d._query;const h=new yc(u);c={next:p=>{e[s]&&e[s](new Xf(u,h,d,p))},error:e[s+1],complete:e[s+2]},OQ(t._query)}return function(h,p,m,y){const v=new lw(y),D=new BO(p,v,m);return h.asyncQueue.enqueueAndForget(w(function*(){return kO(yield Wf(h),D)})),()=>{v.Za(),h.asyncQueue.enqueueAndForget(w(function*(){return LO(yield Wf(h),D)}))}}(Xt(u),l,a,c)}(n,i=>{const s=i.docs.map(a=>({id:a.id,...a.data(),date:a.data().date,startTime:a.data().startTime,endTime:a.data().endTime,title:a.data().title,description:a.data().description}));r.next(s)},i=>{r.error(i)});return()=>o()})}handleError(n){n instanceof Error?console.error("Error:",n.message):console.error("Error:",n)}deleteAppointment(n){var r=this;return w(function*(){const o=Qf(r.db,"appointments",n);try{yield Lk(o),console.log(`Appointment with ID ${n} deleted successfully`)}catch(i){throw console.error("Error deleting appointment:",i),i}})()}addFoodItem(n){var r=this;return w(function*(){try{const o=yield Vk(Kf(r.db,"foodItems"),{name:n.name,description:n.description,userId:n.userId??""});console.log("Food item added with ID:",o.id),n.id=o.id}catch(o){console.error("Error adding food item:",o)}})()}getFoodItems(n){var r=this;return w(function*(){const o=Kf(r.db,"foodItems"),i=yield BQ(o),s=[];return i.forEach(a=>{a.data().userId===n&&s.push({id:a.id,...a.data()})}),s})()}updateFoodItem(n,r){var o=this;return w(function*(){const i=Qf(o.db,"foodItems",n);yield $Q(i,{name:r.name,description:r.description,userId:r.userId,used:r.used}),console.log("Food item updated:",n)})()}deleteFoodItem(n){var r=this;return w(function*(){const o=Qf(r.db,"foodItems",n);yield Lk(o),console.log("Food item deleted:",n)})()}clearFoodItems(n){var r=this;return w(function*(){const o=yield r.getFoodItems(n);for(const i of o)i.id?yield r.deleteFoodItem(i.id):console.error("Food item does not have a valid ID:",i)})()}addShoppingListItem(n){var r=this;return w(function*(){try{const o=yield Vk(Kf(r.db,"shoppingListItems"),{name:n.name,userId:n.userId??""});console.log("Shopping List Item added with ID:",o.id),n.id=o.id}catch(o){console.error("Error adding shopping list item:",o)}})()}getShoppingListItems(n){var r=this;return w(function*(){const o=Kf(r.db,"shoppingListItems"),i=yield BQ(o),s=[];return i.forEach(a=>{a.data().userId===n&&s.push({id:a.id,...a.data()})}),s})()}updateShoppingListItem(n,r){var o=this;return w(function*(){const i=Qf(o.db,"shoppingListItems",n);yield $Q(i,{name:r.name,userId:r.userId,used:r.used}),console.log("Shopping List item updated:",n)})()}deleteShoppingListItem(n){var r=this;return w(function*(){const o=Qf(r.db,"shoppingListItems",n);yield Lk(o),console.log("Shopping List item deleted:",n)})()}clearShoppingListItems(n){var r=this;return w(function*(){const o=yield r.getShoppingListItems(n);for(const i of o)i.id?yield r.deleteShoppingListItem(i.id):console.error("Shopping List item does not have a valid ID:",i)})()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Jke(t,e){if(1&t&&(ee(0,"p",8),Ce(1),re()),2&t){const n=St();Se(),ts(n.errorMessage)}}let Xke=(()=>{class t{router;firebaseService;email="";password="";errorMessage="";constructor(n,r){this.router=n,this.firebaseService=r}login(){this.firebaseService.login(this.email,this.password).then(()=>{this.router.navigate(["/home"]).catch(n=>{console.error("Navigation to home failed:",n)})}).catch(n=>{this.errorMessage=n.message})}static \u0275fac=function(r){return new(r||t)(G(Ci),G(el))};static \u0275cmp=xs({type:t,selectors:[["app-login"]],standalone:!0,features:[$s],decls:13,vars:3,consts:[[1,"login-container"],[3,"submit"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(r,o){1&r&&(ee(0,"div",0)(1,"h2"),Ce(2,"Login"),re(),ee(3,"form",1),st("submit",function(){return o.login()}),ee(4,"label",2),Ce(5,"Email:"),re(),ee(6,"input",3),Wo("ngModelChange",function(s){return yi(o.email,s)||(o.email=s),s}),re(),ee(7,"label",4),Ce(8,"Password:"),re(),ee(9,"input",5),Wo("ngModelChange",function(s){return yi(o.password,s)||(o.password=s),s}),re(),ee(10,"button",6),Ce(11,"Login"),re()(),Fr(12,Jke,2,1,"p",7),re()),2&r&&(Se(6),qo("ngModel",o.email),Se(3),qo("ngModel",o.password),Se(3),Zt("ngIf",o.errorMessage))},dependencies:[tD,kR,wu,Jg,DR,om,af,rm,qd,zd],styles:[".login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-width:300px;margin:0 auto;padding:2rem;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 8px #0000001a;background-color:#fff}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1.5rem;color:#333;font-size:1.8rem}.login-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:600;color:#555}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.75rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:4px;font-size:1rem;transition:border-color .3s}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:none;border-radius:4px;background-color:#0075ff;color:#fff;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.98)}.login-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:#d9534f;margin-top:1rem;font-weight:700;text-align:center}@media (max-width: 600px){.login-container[_ngcontent-%COMP%]{padding:1.5rem;max-width:90%}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:.9rem;padding:.65rem}}"]})}return t})();const e1e=()=>["/agenda"],t1e=()=>["/add"],n1e=()=>["/foodplanner"],r1e=()=>["/shopping-list"];let o1e=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=xs({type:t,selectors:[["app-home"]],standalone:!0,features:[$s],decls:16,vars:8,consts:[[1,"tile-container"],[1,"tile",3,"routerLink"]],template:function(r,o){1&r&&(ee(0,"div",0)(1,"div",1)(2,"h1"),Ce(3,"Agenda"),re()()(),ee(4,"div",0)(5,"div",1)(6,"h1"),Ce(7,"Add Appointment"),re()()(),ee(8,"div",0)(9,"div",1)(10,"h1"),Ce(11,"Foodplanner"),re()()(),ee(12,"div",0)(13,"div",1)(14,"h1"),Ce(15,"Shopping List"),re()()()),2&r&&(Se(),Zt("routerLink",jd(4,e1e)),Se(4),Zt("routerLink",jd(5,t1e)),Se(4),Zt("routerLink",jd(6,n1e)),Se(4),Zt("routerLink",jd(7,r1e)))},dependencies:[Zg],styles:[".tile-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));grid-gap:20px;margin:0 auto;padding:1rem;max-width:80%}.tile[_ngcontent-%COMP%]{text-align:center;padding:1.5rem;background-color:#6da7e9;border-radius:15px;box-shadow:0 4px 6px #0003;color:#fff;transition:background-color .3s,transform .3s}.tile[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}.tile[_ngcontent-%COMP%]:active{transform:translateY(2px)}.tile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.2rem;margin:0}@media (max-width: 1024px){.tile-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(200px,1fr));padding:1rem}}@media (max-width: 768px){.tile-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(150px,1fr));padding:.5rem}.tile[_ngcontent-%COMP%]{padding:1.2rem}.tile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.1rem}}@media (max-width: 480px){.tile-container[_ngcontent-%COMP%]{grid-template-columns:1fr;padding:.5rem}.tile[_ngcontent-%COMP%]{padding:1rem}.tile[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1rem}}"]})}return t})();Math.pow(10,8);const wY=Symbol.for("constructDateFrom");function h_(t,e){return"function"==typeof t?t(e):t&&"object"==typeof t&&wY in t?t[wY](e):t instanceof Date?new t.constructor(e):new Date(e)}function Aw(t,e){return h_(e||t,t)}function CY(t,...e){const n=h_.bind(null,t||e.find(r=>"object"==typeof r));return e.map(n)}function bY(t,e,n){const r=Aw(t,n?.in);if(isNaN(e))return h_(n?.in||t,NaN);if(!e)return r;const o=r.getDate(),i=h_(n?.in||t,r.getTime());return i.setMonth(r.getMonth()+e+1,0),o>=i.getDate()?i:(r.setFullYear(i.getFullYear(),i.getMonth(),o),r)}function TY(t,e){const n=Aw(t,e?.in);return n.setHours(0,0,0,0),n}const h1e=()=>["/add"];function p1e(t,e){if(1&t){const n=es();ee(0,"div",8),st("click",function(){const o=Eo(n).$implicit;return Do(St(2).openDay(o))}),Ce(1),du(2,"date"),ee(3,"div",9),Ce(4),du(5,"date"),re()()}if(2&t){const n=e.$implicit;Se(),Vd(" ",fu(2,2,n,"d")," "),Se(3),ts(fu(5,5,n,"EEE"))}}function g1e(t,e){if(1&t){const n=es();ee(0,"div",4)(1,"h2"),Ce(2),du(3,"date"),re(),ee(4,"button",5),st("click",function(){return Eo(n),Do(St().previousMonth())}),Ce(5,"Previous Month"),re(),ee(6,"button",5),st("click",function(){return Eo(n),Do(St().nextMonth())}),Ce(7,"Next Month"),re(),ee(8,"div",6),Fr(9,p1e,6,8,"div",7),re()()}if(2&t){const n=St();Se(2),ts(fu(3,2,n.currentMonth,"MMMM yyyy")),Se(7),Zt("ngForOf",n.daysInMonth)}}function m1e(t,e){if(1&t){const n=es();ee(0,"button",5),st("click",function(){Eo(n);const o=St(2).$implicit;return Do(St(4).confirmDelete(o))}),Ce(1,"Delete"),re()}}function _1e(t,e){if(1&t){const n=es();ee(0,"div",5),st("click",function(){Eo(n);const o=St().$implicit;return Do(St(4).selectAppointment(o))}),ee(1,"strong"),Ce(2),re(),ee(3,"p"),Ce(4),re(),ee(5,"div",20)(6,"span"),Ce(7),du(8,"date"),re(),ee(9,"span"),Ce(10),du(11,"date"),re()(),Fr(12,m1e,2,0,"button",19),re()}if(2&t){const n=St().$implicit,r=St(4);Se(2),ts(n.title),Se(2),ts(n.description),Se(3),Vd("Start: ",fu(8,5,r.convertToDate(r.selectedDay,n.startTime),"HH:mm"),""),Se(3),Vd("End: ",fu(11,8,r.convertToDate(r.selectedDay,n.endTime),"HH:mm"),""),Se(2),Zt("ngIf",r.isSelected(n))}}function y1e(t,e){if(1&t&&(ee(0,"div"),Fr(1,_1e,13,11,"div",19),re()),2&t){const n=e.$implicit,r=St(2).$implicit,o=St(2);Se(),Zt("ngIf",o.isTimeInSlot(n,r))}}function v1e(t,e){if(1&t&&(ee(0,"div",17),Fr(1,y1e,2,1,"div",18),re()),2&t){const n=St(3);Se(),Zt("ngForOf",n.appointmentsForSelectedDay)}}function I1e(t,e){1&t&&(ee(0,"div"),Ce(1," No appointments for this time slot. "),re())}function E1e(t,e){if(1&t&&(ee(0,"div",13)(1,"div",14),Ce(2),re(),Fr(3,v1e,2,1,"div",15)(4,I1e,2,0,"div",16),re()),2&t){const n=e.$implicit,r=St(2);Se(2),ts(n.label),Se(),Zt("ngIf",r.areAppointmentsInTimeSlot(n)),Se(),Zt("ngIf",!r.areAppointmentsInTimeSlot(n))}}function D1e(t,e){if(1&t){const n=es();ee(0,"div",10)(1,"button",5),st("click",function(){return Eo(n),Do(St().closeDay())}),Ce(2,"Back to Month View"),re(),ee(3,"h2"),Ce(4),du(5,"date"),re(),ee(6,"div",11),Fr(7,E1e,5,3,"div",12),re()()}if(2&t){const n=St();Se(4),ts(fu(5,2,n.selectedDay,"EEEE, MMM d, yyyy")),Se(3),Zt("ngForOf",n.timeSlots)}}let w1e=(()=>{class t{firebaseService;changeDetectorRef;currentMonth=new Date;daysInMonth=[];selectedDay=null;timeSlots=[];appointments=[];appointmentsForSelectedDay=[];selectedAppointmentId=null;constructor(n,r){this.firebaseService=n,this.changeDetectorRef=r}ngOnInit(){var n=this;return w(function*(){yield vY(),n.generateMonthDays(),n.loadAppointments()})()}generateMonthDays(){const n=function a1e(t,e){const n=Aw(t,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}(this.currentMonth),r=function c1e(t,e){const n=Aw(t,e?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}(this.currentMonth);this.daysInMonth=function l1e(t,e){const{start:n,end:r}=function u1e(t,e){const[n,r]=CY(t,e.start,e.end);return{start:n,end:r}}(e?.in,t);let o=+n>+r;const i=o?+n:+r,s=o?r:n;s.setHours(0,0,0,0);let a=e?.step??1;if(!a)return[];a<0&&(a=-a,o=!o);const c=[];for(;+s<=i;)c.push(h_(n,s)),s.setDate(s.getDate()+a),s.setHours(0,0,0,0);return o?c.reverse():c}({start:n,end:r})}loadAppointments(){this.firebaseService.getAppointments().subscribe({next:n=>{this.appointments=n,console.log("Loaded appointments:",JSON.stringify(this.appointments,null,2)),this.changeDetectorRef.detectChanges()},error:n=>{console.error("Error loading appointments:",n)}})}openDay(n){this.selectedDay=n,this.generateTimeSlots(),this.updateAppointmentsForSelectedDay()}closeDay(){this.selectedDay=null,this.appointmentsForSelectedDay=[]}generateTimeSlots(){this.timeSlots=Array.from({length:15},(n,r)=>{const o=7+r;return{label:`${o}:00 - ${o+1}:00`,startTime:`${o}:00`,endTime:`${o+1}:00`}})}isTimeInSlot(n,r){const o=new Date(`1970-01-01T${n.startTime.padStart(5,"0")}:00`),i=new Date(`1970-01-01T${n.endTime.padStart(5,"0")}:00`),s=new Date(`1970-01-01T${r.startTime.padStart(5,"0")}:00`);return o<new Date(`1970-01-01T${r.endTime.padStart(5,"0")}:00`)&&i>s}previousMonth(){this.currentMonth=function d1e(t,e,n){return bY(t,-e,n)}(this.currentMonth,1),this.generateMonthDays()}nextMonth(){this.currentMonth=bY(this.currentMonth,1),this.generateMonthDays()}updateAppointmentsForSelectedDay(){this.appointmentsForSelectedDay=this.getAppointmentsForSelectedDay()}getAppointmentsForSelectedDay(){if(!this.selectedDay)return[];const n=new Date(this.selectedDay).setHours(0,0,0,0);return console.log("Selected Day:",n),this.appointments.filter(r=>{const o=r.date.toDate().setHours(0,0,0,0);return console.log("Checking appointment date:",o),function f1e(t,e,n){const[r,o]=CY(n?.in,t,e);return+TY(r)==+TY(o)}(o,n)})}areAppointmentsInTimeSlot(n){return this.appointmentsForSelectedDay.some(r=>this.isTimeInSlot(r,n))}convertToDate(n,r){const[o,i]=r.split(":").map(a=>parseInt(a,10)),s=new Date(n);return s.setHours(o,i,0,0),s}selectAppointment(n){this.selectedAppointmentId=this.selectedAppointmentId===n.id?null:n.id}confirmDelete(n){confirm(`Are you sure you want to delete the appointment "${n.title}"?`)&&n.id&&this.firebaseService.deleteAppointment(n.id).then(()=>{console.log("Appointment deleted"),this.appointments=this.appointments.filter(o=>o.id!==n.id),this.updateAppointmentsForSelectedDay()}).catch(o=>{console.error("Error deleting appointment:",o)})}isSelected(n){return this.selectedAppointmentId===n.id}static \u0275fac=function(r){return new(r||t)(G(el),G($d))};static \u0275cmp=xs({type:t,selectors:[["app-agenda"]],standalone:!0,features:[$s],decls:6,vars:4,consts:[["class","month-view",4,"ngIf"],["class","day-view",4,"ngIf"],[1,"add-appointment-container"],[1,"add-appointment",3,"routerLink"],[1,"month-view"],[3,"click"],[1,"grid"],["class","day",3,"click",4,"ngFor","ngForOf"],[1,"day",3,"click"],[1,"day-abbreviation"],[1,"day-view"],[1,"time-slots"],["class","time-slot",4,"ngFor","ngForOf"],[1,"time-slot"],[1,"time-label"],["class","appointments",4,"ngIf"],[4,"ngIf"],[1,"appointments"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[1,"appointment-times"]],template:function(r,o){1&r&&(Fr(0,g1e,10,5,"div",0)(1,D1e,8,5,"div",1),ee(2,"div",2)(3,"div",3)(4,"h1"),Ce(5,"Add Appointment"),re()()()),2&r&&(Zt("ngIf",!o.selectedDay),Se(),Zt("ngIf",o.selectedDay),Se(2),Zt("routerLink",jd(3,h1e)))},dependencies:[qd,pE,zd,oq,Zg],styles:[".month-view[_ngcontent-%COMP%], .day-view[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.6rem 1rem;margin:0 .5rem;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s,transform .3s;text-align:left;box-shadow:0 4px 6px #0003}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}button[_ngcontent-%COMP%]:active{transform:translateY(2px)}.month-navigation[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.month-navigation[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{flex:1;text-align:center;font-size:2em;color:#37474f;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#0075ff;color:#fff;border:none;padding:10px 16px;border-radius:5px;font-size:1em;cursor:pointer;transition:background-color .3s,transform .3s}.month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#00796b;transform:translateY(-2px)}.month-navigation[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(1px)}h2[_ngcontent-%COMP%]{font-size:2.2em;margin-bottom:20px;color:#fff;background-color:#0075ff;border-radius:5px;padding:10px}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(7,1fr);gap:10px;background-color:#ffaa64;padding:15px;border-radius:8px;box-shadow:0 2px 10px #0003;margin:20px}.day[_ngcontent-%COMP%]{padding:15px;cursor:pointer;background-color:#ffdfba;border:1px solid black;border-radius:8px;color:#333;font-weight:700;transition:background-color .3s,transform .3s}.day[_ngcontent-%COMP%]:hover{background-color:#f39e49;transform:scale(1.05)}.day.selected[_ngcontent-%COMP%]{background-color:#00796b;color:#fff}.day-view[_ngcontent-%COMP%]{margin-top:20px}.day-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;padding:10px 20px;border-radius:5px;font-size:1em;cursor:pointer;margin-bottom:15px;transition:background-color .3s,transform .3s}.day-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.day-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:translateY(1px)}.day-view[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em;color:#fff;margin-bottom:15px}.time-slots[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin:10px}.time-slots[_ngcontent-%COMP%]{padding:10px;background-color:#ffaa64;color:#000;border-radius:5px;transition:background-color .3s,transform .3s}.time-label[_ngcontent-%COMP%]{background-color:#ffdfba;padding:10px;color:#000;border-radius:5px;border:1px solid black;transition:background-color .3s,transform .3s}.appointments[_ngcontent-%COMP%]{background-color:#ffdfba;padding:10px;color:#000;border-radius:5px;border-left:1px solid black;border-right:1px solid black;border-bottom:1px solid black;transition:background-color .3s,transform .3s;cursor:pointer}.no-appointments[_ngcontent-%COMP%]{color:#ff5722;font-style:italic}.add-appointment-container[_ngcontent-%COMP%]{display:block;align-items:center;text-align:center;max-width:10%;min-width:200px;margin:0 auto}.add-appointment[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.3rem .6rem;font-size:.6rem;font-weight:700;cursor:pointer;transition:background-color .3s,transform .3s;box-shadow:0 4px 6px #0003;text-align:center;display:block}.add-appointment[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}@media (max-width: 600px){.month-view[_ngcontent-%COMP%], .day-view[_ngcontent-%COMP%]{padding:0 10px}.grid[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr)}.month-navigation[_ngcontent-%COMP%]{flex-direction:column}button[_ngcontent-%COMP%]{width:100%;margin:5px 0}h2[_ngcontent-%COMP%]{font-size:1.5em}}.day[_ngcontent-%COMP%]{text-align:center}.day-abbreviation[_ngcontent-%COMP%]{font-size:.8em;color:#555}.appointment-times[_ngcontent-%COMP%]{display:flex;gap:10px;font-size:.8em;color:#555}.appointment-times[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})}return t})();var Mw,C1e=new Uint8Array(16);function b1e(){if(!Mw&&!(Mw=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mw(C1e)}const T1e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var cr=[],F1=0;F1<256;++F1)cr.push((F1+256).toString(16).substr(1));const R1e=function M1e(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(cr[t[e+0]]+cr[t[e+1]]+cr[t[e+2]]+cr[t[e+3]]+"-"+cr[t[e+4]]+cr[t[e+5]]+"-"+cr[t[e+6]]+cr[t[e+7]]+"-"+cr[t[e+8]]+cr[t[e+9]]+"-"+cr[t[e+10]]+cr[t[e+11]]+cr[t[e+12]]+cr[t[e+13]]+cr[t[e+14]]+cr[t[e+15]]).toLowerCase();if(!function S1e(t){return"string"==typeof t&&T1e.test(t)}(n))throw TypeError("Stringified UUID is invalid");return n},P1e=function N1e(t,e,n){var r=(t=t||{}).random||(t.rng||b1e)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return R1e(r)};let x1e=(()=>{class t{firebaseService;appointmentAdded=new Yt;date=null;startTime="";endTime="";title="";description="";constructor(n){this.firebaseService=n}addAppointment(){if(console.log("Add Appointment clicked"),this.date&&this.startTime&&this.endTime&&this.title&&this.description){const n=new Date(this.date),r={id:P1e(),date:Ht.fromDate(n),startTime:this.startTime,endTime:this.endTime,title:this.title,description:this.description};this.firebaseService.addAppointment(r).then(()=>{this.appointmentAdded.emit(r),this.resetForm()}).catch(o=>{console.error("Error adding appointment: ",o)})}else console.error("All fields are required")}resetForm(){this.date=null,this.startTime="",this.endTime="",this.title="",this.description=""}static \u0275fac=function(r){return new(r||t)(G(el))};static \u0275cmp=xs({type:t,selectors:[["app-add"]],outputs:{appointmentAdded:"appointmentAdded"},standalone:!0,features:[$s],decls:18,vars:5,consts:[["type","date","name","date","required","",3,"ngModelChange","ngModel"],["type","time","name","startTime","required","",3,"ngModelChange","ngModel"],["type","time","name","endTime","required","",3,"ngModelChange","ngModel"],["type","text","name","title","required","",3,"ngModelChange","ngModel"],["name","description","required","",3,"ngModelChange","ngModel"],["type","button",3,"click"]],template:function(r,o){1&r&&(ee(0,"form")(1,"label"),Ce(2," Date: "),ee(3,"input",0),Wo("ngModelChange",function(s){return yi(o.date,s)||(o.date=s),s}),re()(),ee(4,"label"),Ce(5," Start Time: "),ee(6,"input",1),Wo("ngModelChange",function(s){return yi(o.startTime,s)||(o.startTime=s),s}),re()(),ee(7,"label"),Ce(8," End Time: "),ee(9,"input",2),Wo("ngModelChange",function(s){return yi(o.endTime,s)||(o.endTime=s),s}),re()(),ee(10,"label"),Ce(11," Title: "),ee(12,"input",3),Wo("ngModelChange",function(s){return yi(o.title,s)||(o.title=s),s}),re()(),ee(13,"label"),Ce(14," Description: "),ee(15,"textarea",4),Wo("ngModelChange",function(s){return yi(o.description,s)||(o.description=s),s}),re()(),ee(16,"button",5),st("click",function(){return o.addAppointment()}),Ce(17,"Add Appointment"),re()()),2&r&&(Se(3),qo("ngModel",o.date),Se(3),qo("ngModel",o.startTime),Se(3),qo("ngModel",o.endTime),Se(3),qo("ngModel",o.title),Se(3),qo("ngModel",o.description))},dependencies:[qd,tD,kR,wu,Jg,DR,om,af,rm],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:500px;margin:0 auto;padding:1.5rem;border:1px solid #ccc;border-radius:10px;box-shadow:0 2px 4px #0000001a;background-color:#f9f9f9}label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:700}input[type=date][_ngcontent-%COMP%], input[type=time][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:5px;font-size:1rem}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}button[_ngcontent-%COMP%]{padding:.7rem;background-color:#0075ff;color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1rem;font-weight:700;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}@media (max-width: 600px){form[_ngcontent-%COMP%]{padding:1rem}input[type=date][_ngcontent-%COMP%], input[type=time][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{font-size:.9rem}}"]})}return t})(),p_=(()=>{class t{firebaseService;router;constructor(n,r){this.firebaseService=n,this.router=r}canActivate(){return!!this.firebaseService.isLoggedIn()||(this.router.navigate(["/login"]),!1)}static \u0275fac=function(r){return new(r||t)(Me(el),Me(Ci))};static \u0275prov=ae({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function O1e(t,e){if(1&t){const n=es();ee(0,"li",7),st("click",function(){const o=Eo(n).$implicit;return Do(St(2).toggleUsed(o))}),ee(1,"span"),Ce(2),re(),ee(3,"div",8)(4,"button",9),st("click",function(o){const i=Eo(n).$implicit;return St(2).deleteFoodItem(i.id),Do(o.stopPropagation())}),Ce(5,"\xd7"),re()()()}if(2&t){const n=e.$implicit;Fd("used",n.used),Se(2),FA("",n.name," (",n.description,")")}}function k1e(t,e){if(1&t&&(ee(0,"div",0)(1,"h3"),Ce(2,"Food Items"),re(),ee(3,"ul"),Fr(4,O1e,6,4,"li",6),re()()),2&t){const n=St();Se(4),Zt("ngForOf",n.foodItems)}}function L1e(t,e){if(1&t){const n=es();ee(0,"li",6),st("click",function(){const o=Eo(n).$implicit;return Do(St(2).toggleUsed(o))}),ee(1,"span"),Ce(2),re(),ee(3,"div",7)(4,"button",8),st("click",function(o){const i=Eo(n).$implicit;return St(2).deleteShoppingListItem(i.id),Do(o.stopPropagation())}),Ce(5,"\xd7"),re()()()}if(2&t){const n=e.$implicit;Fd("used",n.used),Se(2),ts(n.name)}}function V1e(t,e){if(1&t&&(ee(0,"div",0)(1,"h3"),Ce(2,"Shopping List Items"),re(),ee(3,"ul"),Fr(4,L1e,6,3,"li",5),re()()),2&t){const n=St();Se(4),Zt("ngForOf",n.shoppingListItems)}}const j1e=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Xke},{path:"home",component:o1e,canActivate:[p_]},{path:"agenda",component:w1e,canActivate:[p_]},{path:"add",component:x1e,canActivate:[p_]},{path:"foodplanner",component:(()=>{class t{firebaseService;foodItems=[];newFoodItem={name:"",description:"",userId:"",used:!1};userId="user123";constructor(n){this.firebaseService=n}ngOnInit(){this.firebaseService.getFoodItems(this.userId).then(n=>{this.foodItems=n})}addFoodItem(){this.newFoodItem.name&&(this.newFoodItem.userId=this.userId,this.firebaseService.addFoodItem(this.newFoodItem).then(()=>{this.foodItems.push({...this.newFoodItem}),this.newFoodItem={name:"",description:"",userId:"",used:!1}}))}toggleUsed(n){n.used=!n.used,this.firebaseService.updateFoodItem(n.id,n)}deleteFoodItem(n){this.firebaseService.deleteFoodItem(n).then(()=>{this.foodItems=this.foodItems.filter(r=>r.id!==n)})}clearAllItems(){this.firebaseService.clearFoodItems(this.userId).then(()=>{this.foodItems=[]})}static \u0275fac=function(r){return new(r||t)(G(el))};static \u0275cmp=xs({type:t,selectors:[["app-foodplanner"]],standalone:!0,features:[$s],decls:11,vars:3,consts:[[1,"food-planner"],["placeholder","Dish Name",3,"ngModelChange","ngModel"],["placeholder","Description",3,"ngModelChange","ngModel"],[1,"clear-button",3,"click"],["class","food-planner",4,"ngIf"],[1,"clear-button-container"],[3,"used","click",4,"ngFor","ngForOf"],[3,"click"],[1,"delete-button-container"],[1,"delete-button",3,"click"]],template:function(r,o){1&r&&(ee(0,"h2"),Ce(1,"Food Planner"),re(),ee(2,"div",0)(3,"input",1),Wo("ngModelChange",function(s){return yi(o.newFoodItem.name,s)||(o.newFoodItem.name=s),s}),re(),ee(4,"input",2),Wo("ngModelChange",function(s){return yi(o.newFoodItem.description,s)||(o.newFoodItem.description=s),s}),re(),ee(5,"button",3),st("click",function(){return o.addFoodItem()}),Ce(6,"Add Food Item"),re()(),Fr(7,k1e,5,1,"div",4),ee(8,"div",5)(9,"button",3),st("click",function(){return o.clearAllItems()}),Ce(10,"Clear All Items"),re()()),2&r&&(Se(3),qo("ngModel",o.newFoodItem.name),Se(),qo("ngModel",o.newFoodItem.description),Se(3),Zt("ngIf",o.foodItems.length>0))},dependencies:[qd,pE,zd,tD,wu,Jg,af],styles:[".food-planner[_ngcontent-%COMP%]{max-width:400px;margin:10px auto;padding:20px;font-family:Arial,sans-serif;background-color:#ffaa64;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block;align-items:center;max-width:400px;font-size:2.2em;color:#fff;background-color:#0075ff;border-radius:5px;padding:10px;text-align:center}h3[_ngcontent-%COMP%]{background-color:#0075ff;color:#fff;margin:20px;text-align:center;padding:10px}input[_ngcontent-%COMP%]{width:100%;padding:8px;margin:5px 0;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}.delete-button[_ngcontent-%COMP%]{background-color:#dc2828;color:#fff;border:none;border-radius:50px;padding:.3rem .6rem;font-size:1rem;font-weight:700;transition:background-color .3s,transform .3s;box-shadow:0 4px 6px #0003;text-align:center;display:inline-block;text-decoration:none!important}.delete-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}.clear-button-container[_ngcontent-%COMP%]{display:block;text-align:left}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;background-color:#ffdfba;border:1px solid black;border-radius:5px;margin-top:5px;cursor:pointer}li.used[_ngcontent-%COMP%]{background-color:#8e785f;text-decoration:line-through;color:#000}li[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{text-decoration:none!important}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.clear-button-container[_ngcontent-%COMP%]{display:block;align-items:center;text-align:center;max-width:10%;min-width:200px;margin:auto}.clear-button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.3rem .6rem;font-size:1rem;font-weight:700;transition:background-color .3s,transform .3s;box-shadow:0 4px 6px #0003;text-align:center;display:block;margin:10px auto}.clear-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}"]})}return t})(),canActivate:[p_]},{path:"shopping-list",component:(()=>{class t{firebaseService;shoppingListItems=[];newShoppingListItem={name:"",userId:"",used:!1};userId="user123";constructor(n){this.firebaseService=n}ngOnInit(){this.firebaseService.getShoppingListItems(this.userId).then(n=>{this.shoppingListItems=n})}addShoppingListItem(){this.newShoppingListItem.name&&(this.newShoppingListItem.userId=this.userId,this.firebaseService.addShoppingListItem(this.newShoppingListItem).then(()=>{this.shoppingListItems.push({...this.newShoppingListItem}),this.newShoppingListItem={name:"",userId:"",used:!1}}))}toggleUsed(n){n.used=!n.used,this.firebaseService.updateShoppingListItem(n.id,n)}deleteShoppingListItem(n){this.firebaseService.deleteShoppingListItem(n).then(()=>{this.shoppingListItems=this.shoppingListItems.filter(r=>r.id!==n)})}clearAllItems(){this.firebaseService.clearShoppingListItems(this.userId).then(()=>{this.shoppingListItems=[]})}static \u0275fac=function(r){return new(r||t)(G(el))};static \u0275cmp=xs({type:t,selectors:[["app-shopping-list"]],standalone:!0,features:[$s],decls:10,vars:2,consts:[[1,"shopping-list"],["placeholder","Item Name",3,"ngModelChange","ngModel"],[1,"clear-button",3,"click"],["class","shopping-list",4,"ngIf"],[1,"clear-button-container"],[3,"used","click",4,"ngFor","ngForOf"],[3,"click"],[1,"delete-button-container"],[1,"delete-button",3,"click"]],template:function(r,o){1&r&&(ee(0,"h2"),Ce(1,"Shopping List"),re(),ee(2,"div",0)(3,"input",1),Wo("ngModelChange",function(s){return yi(o.newShoppingListItem.name,s)||(o.newShoppingListItem.name=s),s}),re(),ee(4,"button",2),st("click",function(){return o.addShoppingListItem()}),Ce(5,"Add Shopping List Item"),re()(),Fr(6,V1e,5,1,"div",3),ee(7,"div",4)(8,"button",2),st("click",function(){return o.clearAllItems()}),Ce(9,"Clear All Items"),re()()),2&r&&(Se(3),qo("ngModel",o.newShoppingListItem.name),Se(3),Zt("ngIf",o.shoppingListItems.length>0))},dependencies:[qd,pE,zd,tD,wu,Jg,af],styles:[".shopping-list[_ngcontent-%COMP%]{max-width:400px;margin:10px auto;padding:20px;font-family:Arial,sans-serif;background-color:#ffaa64;border-radius:8px;box-shadow:0 4px 8px #0000001a}h2[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block;align-items:center;max-width:400px;font-size:2.2em;color:#fff;background-color:#0075ff;border-radius:5px;padding:10px;text-align:center}h3[_ngcontent-%COMP%]{background-color:#0075ff;color:#fff;margin:20px;text-align:center;padding:10px}input[_ngcontent-%COMP%]{width:100%;padding:8px;margin:5px 0;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}.delete-button[_ngcontent-%COMP%]{background-color:#dc2828;color:#fff;border:none;border-radius:50px;padding:.3rem .6rem;font-size:1rem;font-weight:700;transition:background-color .3s,transform .3s;box-shadow:0 4px 6px #0003;text-align:center;display:inline-block;text-decoration:none!important}.delete-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}.clear-button-container[_ngcontent-%COMP%]{display:block;text-align:left}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;background-color:#ffdfba;border:1px solid black;border-radius:5px;margin-top:5px;cursor:pointer}li.used[_ngcontent-%COMP%]{background-color:#8e785f;text-decoration:line-through;color:#000}li[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{text-decoration:none!important}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}.clear-button-container[_ngcontent-%COMP%]{display:block;align-items:center;text-align:center;max-width:10%;min-width:200px;margin:auto}.clear-button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.3rem .6rem;font-size:1rem;font-weight:700;transition:background-color .3s,transform .3s;box-shadow:0 4px 6px #0003;text-align:center;display:block;margin:10px auto}.clear-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);cursor:pointer}"]})}return t})(),canActivate:[p_]}];let Ln=null,Rw=1;function Oe(t){const e=Ln;return Ln=t,e}const AY={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function MY(t){if((!m_(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==Rw)){if(!t.producerMustRecompute(t)&&!j1(t))return t.dirty=!1,void(t.lastCleanEpoch=Rw);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Rw}}function V1(t){return t&&(t.nextProducerIndex=0),Oe(t)}function j1(t){Pw(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(MY(n),r!==n.version))return!0}return!1}function Nw(t,e){if(function kY(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),1===t.liveConsumerNode.length&&function FY(t){return void 0!==t.producerNode}(t))for(let r=0;r<t.producerNode.length;r++)Nw(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],o=t.liveConsumerNode[e];Pw(o),o.producerIndexOfThis[r]=e}}function m_(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pw(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function at(t){return"function"==typeof t}function UY(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const B1=UY(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Ow(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Hr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(at(r))try{r()}catch(i){e=i instanceof B1?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{HY(i)}catch(s){e=e??[],s instanceof B1?e=[...e,...s.errors]:e.push(s)}}if(e)throw new B1(e)}}add(e){var n;if(e&&e!==this)if(this.closed)HY(e);else{if(e instanceof Hr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ow(n,e)}remove(e){const{_finalizers:n}=this;n&&Ow(n,e),e instanceof Hr&&e._removeParent(this)}}Hr.EMPTY=(()=>{const t=new Hr;return t.closed=!0,t})();const BY=Hr.EMPTY;function $Y(t){return t instanceof Hr||t&&"closed"in t&&at(t.remove)&&at(t.add)&&at(t.unsubscribe)}function HY(t){at(t)?t():t.unsubscribe()}const nl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kw={setTimeout(t,e,...n){const{delegate:r}=kw;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=kw;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function GY(t){kw.setTimeout(()=>{const{onUnhandledError:e}=nl;if(!e)throw t;e(t)})}function Fw(){}const K1e=$1("C",void 0,void 0);function $1(t,e,n){return{kind:t,value:e,error:n}}let rl=null;function Lw(t){if(nl.useDeprecatedSynchronousErrorHandling){const e=!rl;if(e&&(rl={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=rl;if(rl=null,n)throw r}}else t()}class H1 extends Hr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$Y(e)&&e.add(this)):this.destination=tFe}static create(e,n,r){return new z1(e,n,r)}next(e){this.isStopped?q1(function Y1e(t){return $1("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?q1(function Q1e(t){return $1("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?q1(K1e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const J1e=Function.prototype.bind;function G1(t,e){return J1e.call(t,e)}class X1e{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vw(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vw(r)}else Vw(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vw(n)}}}class z1 extends H1{constructor(e,n,r){let o;if(super(),at(e)||!e)o={next:e??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&nl.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&G1(e.next,i),error:e.error&&G1(e.error,i),complete:e.complete&&G1(e.complete,i)}):o=e}this.destination=new X1e(o)}}function Vw(t){nl.useDeprecatedSynchronousErrorHandling?function Z1e(t){nl.useDeprecatedSynchronousErrorHandling&&rl&&(rl.errorThrown=!0,rl.error=t)}(t):GY(t)}function q1(t,e){const{onStoppedNotification:n}=nl;n&&kw.setTimeout(()=>n(t,e))}const tFe={closed:!0,next:Fw,error:function eFe(t){throw t},complete:Fw},W1="function"==typeof Symbol&&Symbol.observable||"@@observable";function K1(t){return t}let Vn=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function rFe(t){return t&&t instanceof H1||function nFe(t){return t&&at(t.next)&&at(t.error)&&at(t.complete)}(t)&&$Y(t)}(n)?n:new z1(n,r,o);return Lw(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qY(r))((o,i)=>{const s=new z1({next:a=>{try{n(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[W1](){return this}pipe(...n){return function zY(t){return 0===t.length?K1:1===t.length?t[0]:function(n){return t.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=qY(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return t.create=e=>new t(e),t})();function qY(t){var e;return null!==(e=t??nl.Promise)&&void 0!==e?e:Promise}const oFe=UY(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Ic=(()=>{class t extends Vn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new WY(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oFe}next(n){Lw(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Lw(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Lw(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?BY:(this.currentObservers=null,i.push(n),new Hr(()=>{this.currentObservers=null,Ow(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new Vn;return n.source=this,n}}return t.create=(e,n)=>new WY(e,n),t})();class WY extends Ic{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:BY}}class iFe extends Ic{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function KY(t){return at(t?.lift)}function Si(t){return e=>{if(KY(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ei(t,e,n,r,o){return new sFe(t,e,n,r,o)}class sFe extends H1{constructor(e,n,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function vs(t,e){return Si((n,r)=>{let o=0;n.subscribe(ei(r,i=>{r.next(t.call(e,i,o++))}))})}class X extends Error{constructor(e,n){super(function nh(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function ht(t){for(let e in t)if(t[e]===ht)return e;throw Error("Could not find renamed property on target object.")}function jn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(jn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}globalThis;const cFe=ht({__forward_ref__:ht});function Z1(t){return t.__forward_ref__=Z1,t.toString=function(){return jn(this())},t}function ge(t){return function Uw(t){return"function"==typeof t&&t.hasOwnProperty(cFe)&&t.__forward_ref__===Z1}(t)?t():t}function ct(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Bw(t){return XY(t,Hw)||XY(t,eZ)}function XY(t,e){return t.hasOwnProperty(e)?t[e]:null}function $w(t){return t&&(t.hasOwnProperty(X1)||t.hasOwnProperty(hFe))?t[X1]:null}const Hw=ht({\u0275prov:ht}),X1=ht({\u0275inj:ht}),eZ=ht({ngInjectableDef:ht}),hFe=ht({ngInjectorDef:ht});class he{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ct({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function oF(t){return t&&!!t.\u0275providers}const __=ht({\u0275cmp:ht}),iF=ht({\u0275dir:ht}),sF=ht({\u0275pipe:ht}),da=ht({\u0275fac:ht}),rZ=ht({__NG_ENV_ID__:ht});var Ge=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ge||{});let cF;function oZ(){return cF}function co(t){const e=cF;return cF=t,e}function iZ(t,e,n){const r=Bw(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ge.Optional?null:void 0!==e?e:void function aF(t,e){throw new X(-201,!1)}()}const v_={},uF="__NG_DI_FLAG__",Gw="ngTempTokenPath",vFe=/\n/gm,sZ="__source";let ah;function Dc(t){const e=ah;return ah=t,e}function DFe(t,e=Ge.Default){if(void 0===ah)throw new X(-203,!1);return null===ah?iZ(t,void 0,e):ah.get(t,e&Ge.Optional?null:void 0,e)}function Un(t,e=Ge.Default){return(oZ()||DFe)(ge(t),e)}function ce(t,e=Ge.Default){return Un(t,zw(e))}function zw(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lF(t){const e=[];for(let n=0;n<t.length;n++){const r=ge(t[n]);if(Array.isArray(r)){if(0===r.length)throw new X(900,!1);let o,i=Ge.Default;for(let s=0;s<r.length;s++){const a=r[s],c=wFe(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}e.push(Un(o,i))}else e.push(Un(r))}return e}function wFe(t){return t[uF]}function ol(t,e){return t.hasOwnProperty(da)?t[da]:null}function ch(t,e){t.forEach(n=>Array.isArray(n)?ch(n,e):e(n))}const Qe=[],fa=new he(""),dZ=new he("",-1),gF=new he("");class Kw{get(e,n=v_){if(n===v_){const r=new Error(`NullInjectorError: No provider for ${jn(e)}!`);throw r.name="NullInjectorError",r}return n}}function Le(t){return t[__]||null}function sl(t){const e=Le(t)||function Bn(t){return t[iF]||null}(t)||function ur(t){return t[sF]||null}(t);return null!==e&&e.standalone}function WFe(...t){return{\u0275providers:yF(0,t),\u0275fromNgModule:!0}}function yF(t,...e){const n=[],r=new Set;let o;const i=s=>{n.push(s)};return ch(e,s=>{const a=s;Zw(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&DZ(o,i),n}function DZ(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:o}=t[n];vF(o,i=>{e(i,r)})}}function Zw(t,e,n,r){if(!(t=ge(t)))return!1;let o=null,i=$w(t);const s=!i&&Le(t);if(i||s){if(s&&!s.standalone)return!1;o=t}else{const c=t.ngModule;if(i=$w(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Zw(u,e,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let u;r.add(o);try{ch(i.imports,l=>{Zw(l,e,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&DZ(u,e)}if(!a){const u=ol(o)||(()=>new o);e({provide:o,useFactory:u,deps:Qe},o),e({provide:gF,useValue:o,multi:!0},o),e({provide:fa,useValue:()=>Un(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const u=t;vF(c,l=>{e(l,u)})}}}return o!==t&&void 0!==t.providers}function vF(t,e){for(let n of t)oF(n)&&(n=n.\u0275providers),Array.isArray(n)?vF(n,e):e(n)}const KFe=ht({provide:String,useValue:ht});function IF(t){return null!==t&&"object"==typeof t&&KFe in t}function al(t){return"function"==typeof t}const bZ=new he(""),Jw={},YFe={};let EF;function Xw(){return void 0===EF&&(EF=new Kw),EF}class Mi{}class lh extends Mi{get destroyed(){return this._destroyed}constructor(e,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wF(e,s=>this.processProvider(s)),this.records.set(dZ,dh(void 0,this)),o.has("environment")&&this.records.set(Mi,dh(void 0,this));const i=this.records.get(bZ);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(gF,Qe,Ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const e=Oe(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=Dc(this),r=co(void 0);try{return e()}finally{Dc(n),co(r)}}get(e,n=v_,r=Ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(rZ))return e[rZ](this);r=zw(r);const i=Dc(this),s=co(void 0);try{if(!(r&Ge.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function tLe(t){return"function"==typeof t||"object"==typeof t&&t instanceof he}(e)&&Bw(e);c=u&&this.injectableDefInScope(u)?dh(DF(e),Jw):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ge.Self?Xw():this.parent).get(e,n=r&Ge.Optional&&n===v_?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Gw]=a[Gw]||[]).unshift(jn(e)),i)throw a;return function CFe(t,e,n,r){const o=t[Gw];throw e[sZ]&&o.unshift(e[sZ]),t.message=function bFe(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let o=jn(e);if(Array.isArray(e))o=e.map(jn).join(" -> ");else if("object"==typeof e){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):jn(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${t.replace(vFe,"\n  ")}`}("\n"+t.message,o,n,r),t.ngTokenPath=o,t[Gw]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{co(s),Dc(i)}}resolveInjectorInitializers(){const e=Oe(null),n=Dc(this),r=co(void 0);try{const i=this.get(fa,Qe,Ge.Self);for(const s of i)s()}finally{Dc(n),co(r),Oe(e)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(jn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(e){let n=al(e=ge(e))?e:ge(e&&e.provide);const r=function JFe(t){return IF(t)?dh(void 0,t.useValue):dh(function TZ(t,e,n){let r;if(al(t)){const o=ge(t);return ol(o)||DF(o)}if(IF(t))r=()=>ge(t.useValue);else if(function CZ(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...lF(t.deps||[]));else if(function wZ(t){return!(!t||!t.useExisting)}(t))r=()=>Un(ge(t.useExisting));else{const o=ge(t&&(t.useClass||t.provide));if(!function XFe(t){return!!t.deps}(t))return ol(o)||DF(o);r=()=>new o(...lF(t.deps))}return r}(t),Jw)}(e);if(!al(e)&&!0===e.multi){let o=this.records.get(n);o||(o=dh(void 0,Jw,!0),o.factory=()=>lF(o.multi),this.records.set(n,o)),n=e,o.multi.push(e)}this.records.set(n,r)}hydrate(e,n){const r=Oe(null);try{return n.value===Jw&&(n.value=YFe,n.value=n.factory()),"object"==typeof n.value&&n.value&&function eLe(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Oe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;const n=ge(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function DF(t){const e=Bw(t),n=null!==e?e.factory:ol(t);if(null!==n)return n;if(t instanceof he)throw new X(204,!1);if(t instanceof Function)return function ZFe(t){if(t.length>0)throw new X(204,!1);const n=function fFe(t){return t&&(t[Hw]||t[eZ])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new X(204,!1)}function dh(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function wF(t,e){for(const n of t)Array.isArray(n)?wF(n,e):n&&oF(n)?wF(n.\u0275providers,e):e(n)}const Wt=0,W=1,le=2,wn=3,Ri=4,Rt=8,Cn=9,Es=10,C_=12,gh=17,tC=22,ni=23,ie=25,TF=1,_h=9,hn=10;var rC=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rC||{});function br(t){return Array.isArray(t)&&!0===t[TF]}const ws=function(t,e,n){};function ko(t,e){const n=e[t];return function Hn(t){return Array.isArray(t)&&"object"==typeof t[TF]}(n)?n:n[Wt]}function PF(t){return!(128&~t[le])}function $Z(t){1024&t[le]||(t[le]|=1024,PF(t)&&aC(t))}function sC(t){return!!(9216&t[le]||t[ni]?.dirty)}function aC(t){t[Es].changeDetectionScheduler?.notify(0);let e=pa(t);for(;null!==e&&!(8192&e[le])&&(e[le]|=8192,PF(e));)e=pa(e)}function pa(t){const e=t[wn];return br(e)?e[wn]:e}const ve={lFrame:tJ(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let GZ=!1;function pt(){let t=function qZ(){return ve.lFrame.currentTNode}();for(;null!==t&&64===t.type;)t=t.parent;return t}function YZ(t){GZ=t}function PLe(t,e){const n=ve.lFrame;n.bindingIndex=n.bindingRootIndex=t,function VF(t){ve.lFrame.currentDirectiveIndex=t}(e)}function lC(t){ve.lFrame.currentQueryIndex=t}function BF(t){const e=function eJ(){const t=ve.lFrame,e=null===t?null:t.child;return null===e?tJ(t):e}(),n=t[W];ve.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function tJ(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function $F(){const t=function nJ(){const t=ve.lFrame;return ve.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function fl(t){ve.lFrame.selectedIndex=t}function fC(t,e,n){sJ(t,e,3,n)}function hC(t,e,n,r){(3&t[le])===n&&sJ(t,e,n,r)}function HF(t,e){let n=t[le];(3&n)===e&&(n&=16383,n+=1,t[le]=n)}function sJ(t,e,n,r){const i=r??-1,s=e.length-1;let a=0;for(let c=void 0!==r?65535&t[gh]:0;c<s;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[gh]+=65536),(a<i||-1==i)&&(BLe(t,n,e,c),t[gh]=(4294901760&t[gh])+c+2),c++}function aJ(t,e){ws(4,t,e);const n=Oe(null);try{e.call(t)}finally{Oe(n),ws(5,t,e)}}function BLe(t,e,n,r){const o=n[r]<0,i=n[r+1],a=t[o?-n[r]:n[r]];o?t[le]>>14<t[gh]>>16&&(3&t[le])===e&&(t[le]+=16384,aJ(a,i)):aJ(a,i)}function wJ(t,e=null,n=null,r){const o=function CJ(t,e=null,n=null,r,o=new Set){const i=[n||Qe,WFe(t)];return r=r||("object"==typeof t?void 0:jn(t)),new lh(i,e||Xw(),r||null,o)}(t,e,n,r);return o.resolveInjectorInitializers(),o}class Tr{static{this.THROW_IF_NOT_FOUND=v_}static{this.NULL=new Kw}static create(e,n){if(Array.isArray(e))return wJ({name:""},n,e,"");{const r=e.name??"";return wJ({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=ct({token:Tr,providedIn:"any",factory:()=>Un(dZ)})}static{this.__NG_ELEMENT_ID__=-1}}new he("").__NG_ELEMENT_ID__=t=>{const e=pt();if(null===e)throw new X(204,!1);if(2&e.type)return e.value;if(t&Ge.Optional)return null;throw new X(204,!1)};function JF(t){return t.ngOriginalError}const TJ=!0;let O_=(()=>{class t{static{this.__NG_ELEMENT_ID__=dVe}static{this.__NG_ENV_ID__=n=>n}}return t})();class lVe extends O_{constructor(e){super(),this._lView=e}onDestroy(e){return function cC(t,e){if(!(256&~t[le]))throw new X(911,!1);null===t[21]&&(t[21]=[]),t[21].push(e)}(this._lView,e),()=>function OF(t,e){if(null===t[21])return;const n=t[21].indexOf(e);-1!==n&&t[21].splice(n,1)}(this._lView,e)}}function dVe(){return new lVe(function V(){return ve.lFrame.lView}())}let Eh=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new iFe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t})}}return t})();const _a=class fVe extends Ic{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,function SZ(){return void 0!==oZ()||null!=function EFe(){return ah}()}()&&(this.destroyRef=ce(O_,{optional:!0})??void 0,this.pendingTasks=ce(Eh,{optional:!0})??void 0)}emit(e){const n=Oe(null);try{super.next(e)}finally{Oe(n)}}subscribe(e,n,r){let o=e,i=n||(()=>null),s=r;if(e&&"object"==typeof e){const c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));const a=super.subscribe({next:o,error:i,complete:s});return e instanceof Hr&&e.add(a),a}wrapInTimeout(e){return n=>{const r=this.pendingTasks?.add();setTimeout(()=>{e(n),void 0!==r&&this.pendingTasks?.remove(r)})}}};function IC(...t){}const XF="isAngularZone",EC=XF+"_ID";let hVe=0;class Qt{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1);const{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=TJ}=e;if(typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,function mVe(t){const e=()=>{!function gVe(t){function e(){!function SJ(t){let e,n;function r(){t=IC;try{void 0!==n&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(n),void 0!==e&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}(()=>{t.callbackScheduled=!1,tL(t),t.isCheckStableRunning=!0,eL(t),t.isCheckStableRunning=!1})}t.isCheckStableRunning||t.callbackScheduled||(t.callbackScheduled=!0,t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),tL(t))}(t)},n=hVe++;t._inner=t._inner.fork({name:"angular",properties:{[XF]:!0,[EC]:n,[EC+n]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(function _Ve(t){return NJ(t,"__ignore_ng_zone__")}(c))return r.invokeTask(i,s,a,c);try{return MJ(t),r.invokeTask(i,s,a,c)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),RJ(t)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return MJ(t),r.invoke(i,s,a,c,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!function yVe(t){return NJ(t,"__scheduler_tick__")}(c)&&e(),RJ(t)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,tL(t),eL(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(s)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(XF)}static assertInAngularZone(){if(!Qt.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(Qt.isInAngularZone())throw new X(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,pVe,IC,IC);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const pVe={};function eL(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tL(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&!0===t.callbackScheduled)}function MJ(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function RJ(t){t._nesting--,eL(t)}function NJ(t,e){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0]?.data?.[e]}class bc{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&JF(e);for(;n&&JF(n);)n=JF(n);return n||null}}const IVe=new he("",{providedIn:"root",factory:()=>{const t=ce(Qt),e=ce(bc);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function HJ(t){return zJ(t[C_])}function GJ(t){return zJ(t[Ri])}function zJ(t){for(;null!==t&&!br(t);)t=t[Ri];return t}const V_=new he("",{providedIn:"platform",factory:()=>"unknown"});function QX(t,e,n,r,o){const i=function dr(){return ve.lFrame.selectedIndex}(),s=2&r;try{fl(-1),s&&e.length>ie&&function WX(t,e,n,r){if(!r)if(3&~e[le]){const i=t.preOrderHooks;null!==i&&hC(e,i,0,n)}else{const i=t.preOrderCheckHooks;null!==i&&fC(e,i,n)}fl(n)}(t,e,ie,!1),ws(s?2:0,o),n(r,o)}finally{fl(i),ws(s?3:1,o)}}let uee=[];const Pje={...AY,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{aC(t.lView)},consumerOnSignalRead(){this.lView[ni]=this}},Oje={...AY,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=pa(t.lView);for(;e&&!lee(e[W]);)e=pa(e);e&&$Z(e)},consumerOnSignalRead(){this.lView[ni]=this}};function lee(t){return 2!==t.type}const kje=100;function HC(t,e=!0,n=0){const r=t[Es],o=r.rendererFactory;o.begin?.();try{!function Fje(t,e){const n=function QZ(){return GZ}();try{YZ(!0),JL(t,e);let r=0;for(;sC(t);){if(r===kje)throw new X(103,!1);r++,JL(t,1)}}finally{YZ(n)}}(t,n)}catch(s){throw e&&function $C(t,e){const n=t[Cn],r=n?n.get(bc,null):null;r&&r.handleError(e)}(t,s),s}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function Lje(t,e,n,r){const o=e[le];if(!(256&~o))return;e[Es].inlineEffectRunner?.flush(),BF(e);let a=!0,c=null,u=null;lee(t)?(u=function Mje(t){return t[ni]??function Rje(t){const e=uee.pop()??Object.create(Pje);return e.lView=t,e}(t)}(e),c=V1(u)):null===function SY(){return Ln}()?(a=!1,u=function xje(t){const e=t[ni]??Object.create(Oje);return e.lView=t,e}(e),c=V1(u)):e[ni]&&(function U1(t){if(Pw(t),m_(t))for(let e=0;e<t.producerNode.length;e++)Nw(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(e[ni]),e[ni]=null);try{(function BZ(t){t[gh]=0})(e),function ZZ(t){return ve.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&QX(t,e,n,2,r);const l=!(3&~o);if(l){const p=t.preOrderCheckHooks;null!==p&&fC(e,p,null)}else{const p=t.preOrderHooks;null!==p&&hC(e,p,0,null),HF(e,0)}if(function Vje(t){for(let e=HJ(t);null!==e;e=GJ(e)){if(!(e[le]&rC.HasTransplantedViews))continue;const n=e[_h];for(let r=0;r<n.length;r++)$Z(n[r])}}(e),fee(e,0),null!==t.contentQueries&&function ree(t,e){const n=t.contentQueries;if(null!==n){const r=Oe(null);try{for(let o=0;o<n.length;o+=2){const s=n[o+1];if(-1!==s){const a=t.data[s];lC(n[o]),a.contentQueries(2,e[s],s)}}}finally{Oe(r)}}}(t,e),l){const p=t.contentCheckHooks;null!==p&&fC(e,p)}else{const p=t.contentHooks;null!==p&&hC(e,p,1),HF(e,1)}!function nje(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)fl(~o);else{const i=o,s=n[++r],a=n[++r];PLe(s,i),a(2,e[i])}}}finally{fl(-1)}}(t,e);const d=t.components;null!==d&&pee(e,d,0);const h=t.viewQuery;if(null!==h&&function KL(t,e,n){lC(0);const r=Oe(null);try{e(t,n)}finally{Oe(r)}}(2,h,r),l){const p=t.viewCheckHooks;null!==p&&fC(e,p)}else{const p=t.viewHooks;null!==p&&hC(e,p,2),HF(e,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[tC]){for(const p of e[tC])p();e[tC]=null}e[le]&=-73}catch(l){throw aC(e),l}finally{null!==u&&(function xY(t,e){if(Oe(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(m_(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Nw(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(u,c),a&&function Nje(t){t.lView[ni]!==t&&(t.lView=null,uee.push(t))}(u)),$F()}}function fee(t,e){for(let n=HJ(t);null!==n;n=GJ(n))for(let r=hn;r<n.length;r++)hee(n[r],e)}function jje(t,e,n){hee(ko(e,t),n)}function hee(t,e){PF(t)&&JL(t,e)}function JL(t,e){const r=t[W],o=t[le],i=t[ni];let s=!!(0===e&&16&o);if(s||=!!(64&o&&0===e),s||=!!(1024&o),s||=!(!i?.dirty||!j1(i)),s||=!1,i&&(i.dirty=!1),t[le]&=-9217,s)Lje(r,t,r.template,t[Rt]);else if(8192&o){fee(t,1);const a=r.components;null!==a&&pee(t,a,1)}}function pee(t,e,n){for(let r=0;r<e.length;r++)jje(t,e[r],n)}class Oh{}const sy=new he("",{providedIn:"root",factory:()=>!1});class Lee{}class FUe{resolveComponentFactory(e){throw function kUe(t){const e=Error(`No component factory found for ${jn(t)}.`);return e.ngComponent=t,e}(e)}}class YC{static{this.NULL=new FUe}}class jee{}class wl{}var Vh=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Vh||{});let Ote=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=ct({token:t,providedIn:"root",factory:()=>new t})}}return t})();class gy{constructor(){this.ngZone=ce(Qt),this.scheduler=ce(Oh),this.errorHandler=ce(bc,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Vh.EarlyRead,Vh.Write,Vh.MixedReadWrite,Vh.Read]}execute(){this.executing=!0;for(const e of gy.PHASES)for(const n of this.sequences)if(!n.erroredOrDestroyed&&n.hooks[e])try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(const e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(const e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=ct({token:gy,providedIn:"root",factory:()=>new gy})}}const nGe=new he("");function d2(t){return!!t&&"function"==typeof t.then}function foe(t){return!!t&&"function"==typeof t.subscribe}const hoe=new he("");let poe=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=ce(hoe,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const i=o();if(d2(i))n.push(i);else if(foe(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const f2=new he("");let Fi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(IVe),this.afterRenderManager=ce(Ote),this.zonelessEnabled=ce(sy),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ic,this.afterTick=new Ic,this.componentTypes=[],this.components=[],this.isStable=ce(Eh).hasPendingTasks.pipe(vs(n=>!n)),this._injector=ce(Mi)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof Lee;if(!this._injector.get(poe).done)throw!o&&sl(n),new X(405,!1);let s;s=o?n:this._injector.get(YC).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function sGe(t){return t.isBoundToModule}(s)?void 0:this._injector.get(wl),u=s.create(Tr.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(nGe,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),vb(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new X(101,!1);const n=Oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Oe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(jee,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;0!==this.dirtyFlags&&r++<10;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const r=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:i}of this._views)uGe(o,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else n?.begin?.(),n?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:n})=>sC(n))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;vb(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(f2,[]);[...this._bootstrapListeners,...r].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>vb(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new X(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function vb(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function uGe(t,e,n,r){(n||sC(t))&&HC(t,e,n&&!r?0:1)}const Fqe="browser";function Die(t){return t===Fqe}const B2=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function xie(t){return at(t?.then)}function Oie(t){return at(t[W1])}function kie(t){return Symbol.asyncIterator&&at(t?.[Symbol.asyncIterator])}function Fie(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Lie=function f8e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Vie(t){return at(t?.[Lie])}function jie(t){return function X5(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(t,e||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(p){return function(m){return Promise.resolve(m).then(p,d)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(p,m){r[p]&&(o[p]=function(y){return new Promise(function(v,D){i.push([p,y,v,D])>1||c(p,y)})},m&&(o[p]=m(o[p])))}function c(p,m){try{!function u(p){p.value instanceof tc?Promise.resolve(p.value.v).then(l,d):h(i[0][2],p)}(r[p](m))}catch(y){h(i[0][3],y)}}function l(p){c("next",p)}function d(p){c("throw",p)}function h(p,m){p(m),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:o}=yield tc(n.read());if(o)return yield tc(void 0);yield yield tc(r)}}finally{n.releaseLock()}})}function Uie(t){return at(t?.getReader)}function ji(t){if(t instanceof Vn)return t;if(null!=t){if(Oie(t))return function h8e(t){return new Vn(e=>{const n=t[W1]();if(at(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(B2(t))return function p8e(t){return new Vn(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(xie(t))return function g8e(t){return new Vn(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,GY)})}(t);if(kie(t))return Bie(t);if(Vie(t))return function m8e(t){return new Vn(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(Uie(t))return function _8e(t){return Bie(jie(t))}(t)}throw Fie(t)}function Bie(t){return new Vn(e=>{(function y8e(t,e){var n,r,o,i;return function Z5(t,e,n,r){return new(n||(n=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=e9(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function $ie(t){return new Vn(e=>{ji(t()).subscribe(e)})}function xc(t,e,n,r=0,o=!1){const i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function qb(t,e,n=1/0){return at(e)?qb((r,o)=>vs((i,s)=>e(r,i,o,s))(ji(t(r,o))),n):("number"==typeof e&&(n=e),Si((r,o)=>function I8e(t,e,n,r,o,i,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&e.complete()},p=y=>u<r?m(y):c.push(y),m=y=>{i&&e.next(y),u++;let v=!1;ji(n(y,l++)).subscribe(ei(e,D=>{o?.(D),i?p(D):e.next(D)},()=>{v=!0},void 0,()=>{if(v)try{for(u--;c.length&&u<r;){const D=c.shift();s?xc(e,s,()=>m(D)):m(D)}h()}catch(D){e.error(D)}}))};return t.subscribe(ei(e,p,()=>{d=!0,h()})),()=>{a?.()}}(r,o,t,n)))}const{isArray:E8e}=Array;const C8e=["addListener","removeListener"],b8e=["addEventListener","removeEventListener"],T8e=["on","off"];function Wb(t,e,n,r){if(at(n)&&(r=n,n=void 0),r)return Wb(t,e,n).pipe(function w8e(t){return vs(e=>function D8e(t,e){return E8e(e)?t(...e):t(e)}(t,e))}(r));const[o,i]=function M8e(t){return at(t.addEventListener)&&at(t.removeEventListener)}(t)?b8e.map(s=>a=>t[s](e,a,n)):function S8e(t){return at(t.addListener)&&at(t.removeListener)}(t)?C8e.map(Hie(t,e)):function A8e(t){return at(t.on)&&at(t.off)}(t)?T8e.map(Hie(t,e)):[];if(!o&&B2(t))return qb(s=>Wb(s,e,n))(ji(t));if(!o)throw new TypeError("Invalid event target");return new Vn(s=>{const a=(...c)=>s.next(1<c.length?c:c[0]);return o(a),()=>i(a)})}function Hie(t,e){return n=>r=>t[n](e,r)}function Gie(t){return t&&at(t.schedule)}function $2(t){return t[t.length-1]}function H2(t){return Gie($2(t))?t.pop():void 0}function zie(t,e=0){return Si((n,r)=>{n.subscribe(ei(r,o=>xc(r,t,()=>r.next(o),e),()=>xc(r,t,()=>r.complete(),e),o=>xc(r,t,()=>r.error(o),e)))})}function qie(t,e=0){return Si((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Wie(t,e){if(!t)throw new Error("Iterable cannot be null");return new Vn(n=>{xc(n,e,()=>{const r=t[Symbol.asyncIterator]();xc(n,e,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function Kb(t,e){return e?function F8e(t,e){if(null!=t){if(Oie(t))return function N8e(t,e){return ji(t).pipe(qie(e),zie(e))}(t,e);if(B2(t))return function x8e(t,e){return new Vn(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(xie(t))return function P8e(t,e){return ji(t).pipe(qie(e),zie(e))}(t,e);if(kie(t))return Wie(t,e);if(Vie(t))return function O8e(t,e){return new Vn(n=>{let r;return xc(n,e,()=>{r=t[Lie](),xc(n,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>at(r?.return)&&r.return()})}(t,e);if(Uie(t))return function k8e(t,e){return Wie(jie(t),e)}(t,e)}throw Fie(t)}(t,e):ji(t)}function G2(...t){return Kb(t,H2(t))}function Kie(t=1/0){return qb(K1,t)}function Qie(...t){return function L8e(){return Kie(1)}()(Kb(t,H2(t)))}const ip=new Vn(Fw),z2=new Vn(t=>t.complete());function Yie(...t){const e=H2(t),n=function R8e(t,e){return"number"==typeof $2(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?ji(r[0]):Kie(n)(Kb(r,e)):z2}function Qb(t,e){return Si((n,r)=>{let o=0;n.subscribe(ei(r,i=>t.call(e,i,o++)&&r.next(i)))})}function Yb(t,e){return Si((n,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();n.subscribe(ei(r,c=>{o?.unsubscribe();let u=0;const l=i++;ji(t(c,l)).subscribe(o=ei(r,d=>r.next(e?e(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}class U8e extends Vn{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,KY(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Hr;const n=this.getSubject();e.add(this.source.subscribe(ei(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Hr.EMPTY)}return e}refCount(){return function j8e(){return Si((t,e)=>{let n=null;t._refCount++;const r=ei(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const o=t._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}()(this)}}const $8e={connector:()=>new Ic};function Zie(t,e=$8e){const{connector:n}=e;return Si((r,o)=>{const i=n();ji(t(function B8e(t){return new Vn(e=>t.subscribe(e))}(i))).subscribe(o),o.add(r.subscribe(i))})}function Oc(t){return t<=0?()=>z2:Si((e,n)=>{let r=0;e.subscribe(ei(n,o=>{++r<=t&&(n.next(o),t<=r&&n.complete())}))})}class q8e extends Hr{constructor(e,n){super()}schedule(e,n=0){return this}}const Zb={setInterval(t,e,...n){const{delegate:r}=Zb;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Zb;return(e?.clearInterval||clearInterval)(t)},delegate:void 0},Jie={now:()=>(Jie.delegate||Date).now(),delegate:void 0};class Oy{constructor(e,n=Oy.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Oy.now=Jie.now;const Xie=new class K8e extends Oy{constructor(e,n=Oy.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}(class W8e extends q8e{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,r=0){return Zb.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Zb.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let o,r=!1;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ow(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}),Q8e=Xie;function ese(t,e){return e?n=>Qie(e.pipe(Oc(1),function Y8e(){return Si((t,e)=>{t.subscribe(ei(e,Fw))})}()),n.pipe(ese(t))):qb((n,r)=>ji(t(n,r)).pipe(Oc(1),function Z8e(t){return vs(()=>t)}(n)))}const ky="Service workers are disabled or not supported by this browser";class Jb{constructor(e){if(this.serviceWorker=e,e){const r=Wb(e,"controllerchange").pipe(vs(()=>e.controller)),i=Qie($ie(()=>G2(e.controller)),r);this.worker=i.pipe(Qb(l=>!!l)),this.registration=this.worker.pipe(Yb(()=>e.getRegistration()));const u=Wb(e,"message").pipe(vs(l=>l.data)).pipe(Qb(l=>l&&l.type)).pipe(function G8e(t){return t?e=>Zie(t)(e):e=>function H8e(t,e){const n=at(t)?t:()=>t;return at(e)?Zie(e,{connector:n}):r=>new U8e(r,n)}(new Ic)(e)}());u.connect(),this.events=u}else this.worker=this.events=this.registration=function t6e(t){return $ie(()=>function v8e(t,e){const n=at(t)?t:()=>t,r=o=>o.error(n());return new Vn(e?o=>e.schedule(r,0,o):r)}(new Error(t)))}(ky)}postMessage(e,n){return this.worker.pipe(Oc(1),function z8e(t,e,n){const r=at(t)||e||n?{next:t,error:e,complete:n}:t;return r?Si((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(ei(i,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),i.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):K1}(r=>{r.postMessage({action:e,...n})})).toPromise().then(()=>{})}postMessageWithOperation(e,n,r){const o=this.waitForOperationCompleted(r),i=this.postMessage(e,n);return Promise.all([i,o]).then(([,s])=>s)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let n;return n="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(Qb(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Oc(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(Qb(n=>n.nonce===e),Oc(1),vs(n=>{if(void 0!==n.result)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let n6e=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,this.pushManager=null,this.subscriptionChanges=new Ic,!n.isEnabled)return this.messages=ip,this.notificationClicks=ip,void(this.subscription=ip);this.messages=this.sw.eventsOfType("PUSH").pipe(vs(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(vs(o=>o.data)),this.pushManager=this.sw.registration.pipe(vs(o=>o.pushManager));const r=this.pushManager.pipe(Yb(o=>o.getSubscription()));this.subscription=Yie(r,this.subscriptionChanges)}requestSubscription(n){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(ky));const r={userVisibleOnly:!0};let o=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)i[s]=o.charCodeAt(s);return r.applicationServerKey=i,this.pushManager.pipe(Yb(s=>s.subscribe(r)),Oc(1)).toPromise().then(s=>(this.subscriptionChanges.next(s),s))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Oc(1),Yb(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ky))}decodeBase64(n){return atob(n)}static{this.\u0275fac=function(r){return new(r||t)(Un(Jb))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})(),r6e=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(n){if(this.sw=n,!n.isEnabled)return this.versionUpdates=ip,void(this.unrecoverable=ip);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ky));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ky));const n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static{this.\u0275fac=function(r){return new(r||t)(Un(Jb))}}static{this.\u0275prov=ct({token:t,factory:t.\u0275fac})}}return t})();const tse=new he("");function o6e(t,e,n,r){return()=>{if(!Die(r)||!("serviceWorker"in navigator)||!1===n.enabled)return;const o=t.get(Qt),i=t.get(Fi);let s;if(o.runOutsideAngular(()=>{const a=navigator.serviceWorker,c=()=>a.controller?.postMessage({action:"INITIALIZE"});a.addEventListener("controllerchange",c),i.onDestroy(()=>{a.removeEventListener("controllerchange",c)})}),"function"==typeof n.registrationStrategy)s=n.registrationStrategy();else{const[a,...c]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=G2(null);break;case"registerWithDelay":s=nse(+c[0]||0);break;case"registerWhenStable":const u=Kb(t.get(Fi).whenStable());s=c[0]?Yie(u,nse(+c[0])):u;break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}o.runOutsideAngular(()=>s.pipe(Oc(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function nse(t){return G2(null).pipe(function e6e(t,e=Xie){const n=function X8e(t=0,e,n=Q8e){let r=-1;return null!=e&&(Gie(e)?n=e:r=e),new Vn(o=>{let i=function J8e(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;i<0&&(i=0);let s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(t,e);return ese(()=>n)}(t))}function i6e(t,e){return new Jb(Die(e)&&!1!==t.enabled?navigator.serviceWorker:void 0)}class q2{}function rse(t,e={}){return function D_(t){return{\u0275providers:t}}([n6e,r6e,{provide:tse,useValue:t},{provide:q2,useValue:e},{provide:Jb,useFactory:i6e,deps:[q2,V_]},{provide:hoe,useFactory:o6e,deps:[Tr,tse,q2,V_],multi:!0}])}const s6e={providers:[function vye(t){const e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=ZA({ngZoneFactory:()=>{const o=JA(t);return o.scheduleInRootZone=n,o.shouldCoalesceEventChangeDetection&&mr("NgZone_CoalesceEvent"),new it(o)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Gl([{provide:yye,useValue:!0},{provide:gd,useValue:!1},r])}({eventCoalescing:!0}),function Ube(t,...e){return Gl([{provide:$E,multi:!0,useValue:t},[],{provide:Jd,useFactory:m6,deps:[Ci]},{provide:Cg,multi:!0,useFactory:_6},e.map(n=>n.\u0275providers)])}(j1e),function _we(...t){const e=[],n=new Set,r=n.has(_u.HttpTransferCacheOptions);for(const{\u0275providers:o,\u0275kind:i}of t)n.add(i),o.length&&e.push(o);return Gl([[],Ive(),n.has(_u.NoHttpTransferCache)||r?[]:BDe({}),e])}(),rse("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),rse("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"})]};function a6e(t,e){if(1&t){const n=es();ee(0,"button",5),st("click",function(){return Eo(n),Do(St().navigateToHome())}),uu(1,"img",6),Ce(2,"Home "),re()}}function c6e(t,e){if(1&t){const n=es();ee(0,"button",5),st("click",function(){return Eo(n),Do(St().logout())}),uu(1,"img",7),Ce(2,"Logout "),re()}}(function swe(t,e){return tve({rootComponent:t,...d8(e)})})((()=>{class t{router;firebaseService;title="MasniOrganizer";showHomeButton=!1;showLogoutButton=!1;constructor(n,r){this.router=n,this.firebaseService=r}ngOnInit(){this.updateButtonVisibility(this.router.url),this.router.events.pipe(Ta(n=>n instanceof Qa)).subscribe(n=>{this.updateButtonVisibility(n.url)})}updateButtonVisibility(n){const r="/login"===n||"/"===n;this.showHomeButton=!r,this.showLogoutButton=!r&&this.firebaseService.isLoggedIn()}navigateToHome(){this.router.navigate(["/home"]).catch(n=>{console.error("Navigation to home failed:",n)})}logout(){this.firebaseService.logout().then(()=>{this.router.navigate(["/login"],{replaceUrl:!0}).catch(n=>{console.error("Navigation to login failed:",n)})})}static \u0275fac=function(r){return new(r||t)(G(Ci),G(el))};static \u0275cmp=xs({type:t,selectors:[["app-root"]],standalone:!0,features:[$s],decls:8,vars:2,consts:[[1,"image-wrapper"],["src","./dog.png","alt","Dog Image"],["src","./banner.png","alt","Banner Image",1,"logo"],[1,"navigation"],["class","header-button",3,"click",4,"ngIf"],[1,"header-button",3,"click"],["src","./home.png","alt","Home Icon"],["src","./logout.png","alt","Logout Icon"]],template:function(r,o){1&r&&(ee(0,"header")(1,"div",0),uu(2,"img",1)(3,"img",2),re(),ee(4,"div",3),Fr(5,a6e,3,0,"button",4)(6,c6e,3,0,"button",4),re()(),uu(7,"router-outlet")),2&r&&(Se(5),Zt("ngIf",o.showHomeButton),Se(),Zt("ngIf",o.showLogoutButton))},dependencies:[uR,qd,zd],styles:['header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background-color:#0075ff;color:#fff;box-shadow:0 4px 8px #0000001a;position:relative}.image-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-grow:1}.navigation[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.header-button[_ngcontent-%COMP%]{background-color:#6da7e9;color:#fff;border:none;border-radius:50px;padding:.6rem 1rem;margin:0 .5rem;font-size:1rem;font-weight:700;cursor:pointer;transition:background-color .3s;text-align:left;box-shadow:0 4px 6px #0003}.header-button[_ngcontent-%COMP%]:hover{background-color:#f9d366;color:#000}.header-button[_ngcontent-%COMP%]:active{transform:scale(.95)}img[_ngcontent-%COMP%]{display:block;width:50px;height:50px}.logo[_ngcontent-%COMP%]{width:358px;height:70px}@media (max-width: 600px){header[_ngcontent-%COMP%]{flex-direction:column;padding:.5rem}.header-button[_ngcontent-%COMP%]{width:100%;margin:.25rem 0;font-size:.9rem}img[_ngcontent-%COMP%]{max-width:80%;height:auto}img[src="./dog.png"][_ngcontent-%COMP%], .logo[_ngcontent-%COMP%]{max-height:50px}}']})}return t})(),s6e).catch(t=>console.error(t))}},lp=>{lp(lp.s=523)}]);